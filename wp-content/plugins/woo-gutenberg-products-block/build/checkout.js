this.wc=this.wc||{},this.wc.blocks=this.wc.blocks||{},this.wc.blocks.checkout=function(e){function t(t){for(var r,s,a=t[0],i=t[1],l=t[2],d=0,p=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(u&&u(t);p.length;)p.shift()();return n.push.apply(n,l||[]),c()}function c(){for(var e,t=0;t<n.length;t++){for(var c=n[t],r=!0,a=1;a<c.length;a++){var i=c[a];0!==o[i]&&(r=!1)}r&&(n.splice(t--,1),e=s(s.s=c[0]))}return e}var r={},o={10:0,1:0,4:0},n=[];function s(t){if(r[t])return r[t].exports;var c=r[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,s),c.l=!0,c.exports}s.m=e,s.c=r,s.d=function(e,t,c){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(c,r,function(t){return e[t]}.bind(null,r));return c},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var a=window.webpackWcBlocksJsonp=window.webpackWcBlocksJsonp||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=i;return n.push([436,0]),c()}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wc.wcSettings},function(e,t){e.exports=window.wp.components},,function(e,t){e.exports=window.wp.blockEditor},,function(e,t){e.exports=window.lodash},function(e,t){e.exports=window.wp.blocks},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.compose},function(e,t){e.exports=window.wp.primitives},function(e,t){e.exports=window.React},function(e,t){e.exports=window.wp.htmlEntities},function(e,t){e.exports=window.wp.apiFetch},function(e,t){e.exports=window.wp.url},,function(e,t){e.exports=window.wc.wcBlocksData},function(e,t){e.exports=window.wc.blocksCheckout},,,,function(e,t,c){"use strict";c.d(t,"o",(function(){return n})),c.d(t,"m",(function(){return s})),c.d(t,"l",(function(){return a})),c.d(t,"n",(function(){return i})),c.d(t,"j",(function(){return l})),c.d(t,"e",(function(){return u})),c.d(t,"f",(function(){return d})),c.d(t,"g",(function(){return p})),c.d(t,"k",(function(){return b})),c.d(t,"c",(function(){return m})),c.d(t,"d",(function(){return g})),c.d(t,"h",(function(){return h})),c.d(t,"a",(function(){return O})),c.d(t,"i",(function(){return _})),c.d(t,"b",(function(){return j}));var r,o=c(2);const n=Object(o.getSetting)("wcBlocksConfig",{buildPhase:1,pluginUrl:"",productCount:0,defaultAvatar:"",restApiRoutes:{},wordCountType:"words"}),s=n.pluginUrl+"images/",a=n.pluginUrl+"build/",i=n.buildPhase,l=null===(r=o.STORE_PAGES.shop)||void 0===r?void 0:r.permalink,u=o.STORE_PAGES.checkout.id,d=o.STORE_PAGES.checkout.permalink,p=o.STORE_PAGES.privacy.permalink,b=(o.STORE_PAGES.privacy.title,o.STORE_PAGES.terms.permalink),m=(o.STORE_PAGES.terms.title,o.STORE_PAGES.cart.id),g=o.STORE_PAGES.cart.permalink,h=(o.STORE_PAGES.myaccount.permalink?o.STORE_PAGES.myaccount.permalink:Object(o.getSetting)("wpLoginUrl","/wp-login.php"),Object(o.getSetting)("shippingCountries",{})),O=Object(o.getSetting)("allowedCountries",{}),_=Object(o.getSetting)("shippingStates",{}),j=Object(o.getSetting)("allowedStates",{})},,function(e,t){e.exports=window.wp.isShallowEqual},,function(e,t){e.exports=window.wc.priceFormat},function(e,t,c){"use strict";c.d(t,"h",(function(){return l})),c.d(t,"e",(function(){return u})),c.d(t,"b",(function(){return d})),c.d(t,"i",(function(){return p})),c.d(t,"f",(function(){return b})),c.d(t,"c",(function(){return m})),c.d(t,"d",(function(){return g})),c.d(t,"g",(function(){return h})),c.d(t,"a",(function(){return O}));var r=c(15),o=c(14),n=c.n(o),s=c(7),a=c(2),i=c(22);const l=e=>{let{selected:t=[],search:c="",queryArgs:o={}}=e;const a=(e=>{let{selected:t=[],search:c="",queryArgs:o={}}=e;const n=i.o.productCount>100,s={per_page:n?100:0,catalog_visibility:"any",search:c,orderby:"title",order:"asc"},a=[Object(r.addQueryArgs)("/wc/store/v1/products",{...s,...o})];return n&&t.length&&a.push(Object(r.addQueryArgs)("/wc/store/v1/products",{catalog_visibility:"any",include:t,per_page:0})),a})({selected:t,search:c,queryArgs:o});return Promise.all(a.map(e=>n()({path:e}))).then(e=>Object(s.uniqBy)(Object(s.flatten)(e),"id").map(e=>({...e,parent:0}))).catch(e=>{throw e})},u=e=>n()({path:"/wc/store/v1/products/"+e}),d=()=>n()({path:"wc/store/v1/products/attributes"}),p=e=>n()({path:`wc/store/v1/products/attributes/${e}/terms`}),b=e=>{let{selected:t=[],search:c}=e;const o=(e=>{let{selected:t=[],search:c}=e;const o=Object(a.getSetting)("limitTags",!1),n=[Object(r.addQueryArgs)("wc/store/v1/products/tags",{per_page:o?100:0,orderby:o?"count":"name",order:o?"desc":"asc",search:c})];return o&&t.length&&n.push(Object(r.addQueryArgs)("wc/store/v1/products/tags",{include:t})),n})({selected:t,search:c});return Promise.all(o.map(e=>n()({path:e}))).then(e=>Object(s.uniqBy)(Object(s.flatten)(e),"id"))},m=e=>n()({path:Object(r.addQueryArgs)("wc/store/v1/products/categories",{per_page:0,...e})}),g=e=>n()({path:"wc/store/v1/products/categories/"+e}),h=e=>n()({path:Object(r.addQueryArgs)("wc/store/v1/products",{per_page:0,type:"variation",parent:e})}),O=(e,t)=>{if(!e.title.raw)return e.slug;const c=1===t.filter(t=>t.title.raw===e.title.raw).length;return e.title.raw+(c?"":" - "+e.slug)}},function(e,t,c){"use strict";c.d(t,"a",(function(){return n})),c.d(t,"b",(function(){return s}));var r=c(1),o=c(13);const n=async e=>{if("function"==typeof e.json)try{const t=await e.json();return{message:t.message,type:t.type||"api"}}catch(e){return{message:e.message,type:"general"}}return{message:e.message,type:e.type||"general"}},s=e=>{if(e.data&&"rest_invalid_param"===e.code){const t=Object.values(e.data.params);if(t[0])return t[0]}return null!=e&&e.message?Object(o.decodeEntities)(e.message):Object(r.__)("Something went wrong. Please contact us to get assistance.","woo-gutenberg-products-block")}},function(e,t,c){"use strict";var r=c(0),o=c(4),n=c.n(o);t.a=e=>{let t,{label:c,screenReaderLabel:o,wrapperElement:s,wrapperProps:a={}}=e;const i=null!=c,l=null!=o;return!i&&l?(t=s||"span",a={...a,className:n()(a.className,"screen-reader-text")},Object(r.createElement)(t,a,o)):(t=s||r.Fragment,i&&l&&c!==o?Object(r.createElement)(t,a,Object(r.createElement)("span",{"aria-hidden":"true"},c),Object(r.createElement)("span",{className:"screen-reader-text"},o)):Object(r.createElement)(t,a,c))}},,,,function(e,t,c){"use strict";c.d(t,"a",(function(){return r})),c.d(t,"b",(function(){return o}));const r=e=>!(e=>null===e)(e)&&e instanceof Object&&e.constructor===Object;function o(e,t){return r(e)&&t in e}},,,function(e,t,c){"use strict";c.d(t,"c",(function(){return n})),c.d(t,"a",(function(){return i})),c.d(t,"b",(function(){return l})),c.d(t,"d",(function(){return d}));var r=c(33);let o,n;!function(e){e.SUCCESS="success",e.FAIL="failure",e.ERROR="error"}(o||(o={})),function(e){e.PAYMENTS="wc/payment-area",e.EXPRESS_PAYMENTS="wc/express-payment-area"}(n||(n={}));const s=(e,t)=>Object(r.a)(e)&&"type"in e&&e.type===t,a=e=>s(e,o.SUCCESS),i=e=>s(e,o.ERROR),l=e=>s(e,o.FAIL),u=e=>!Object(r.a)(e)||void 0===e.retry||!0===e.retry,d=()=>({responseTypes:o,noticeContexts:n,shouldRetry:u,isSuccessResponse:a,isErrorResponse:i,isFailResponse:l})},,,function(e,t,c){"use strict";c.d(t,"a",(function(){return j}));var r=c(7),o=c(0),n=c(17),s=c(9),a=c(13),i=c(258),l=c(59),u=c(257);const d=e=>{const t=e.detail;t&&t.preserveCartData||Object(s.dispatch)(n.CART_STORE_KEY).invalidateResolutionForStore()},p=()=>{1===window.wcBlocksStoreCartListeners.count&&window.wcBlocksStoreCartListeners.remove(),window.wcBlocksStoreCartListeners.count--},b=()=>{Object(o.useEffect)(()=>((()=>{if(window.wcBlocksStoreCartListeners||(window.wcBlocksStoreCartListeners={count:0,remove:()=>{}}),0===window.wcBlocksStoreCartListeners.count){const e=Object(u.a)("added_to_cart","wc-blocks_added_to_cart"),t=Object(u.a)("removed_from_cart","wc-blocks_removed_from_cart");document.body.addEventListener("wc-blocks_added_to_cart",d),document.body.addEventListener("wc-blocks_removed_from_cart",d),window.wcBlocksStoreCartListeners.count=0,window.wcBlocksStoreCartListeners.remove=()=>{e(),t(),document.body.removeEventListener("wc-blocks_added_to_cart",d),document.body.removeEventListener("wc-blocks_removed_from_cart",d)}}window.wcBlocksStoreCartListeners.count++})(),p),[])},m={first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},g={...m,email:""},h={total_items:"",total_items_tax:"",total_fees:"",total_fees_tax:"",total_discount:"",total_discount_tax:"",total_shipping:"",total_shipping_tax:"",total_price:"",total_tax:"",tax_lines:n.EMPTY_TAX_LINES,currency_code:"",currency_symbol:"",currency_minor_unit:2,currency_decimal_separator:"",currency_thousand_separator:"",currency_prefix:"",currency_suffix:""},O=e=>Object.fromEntries(Object.entries(e).map(e=>{let[t,c]=e;return[t,Object(a.decodeEntities)(c)]})),_={cartCoupons:n.EMPTY_CART_COUPONS,cartItems:n.EMPTY_CART_ITEMS,cartFees:n.EMPTY_CART_FEES,cartItemsCount:0,cartItemsWeight:0,crossSellsProducts:n.EMPTY_CART_CROSS_SELLS,cartNeedsPayment:!0,cartNeedsShipping:!0,cartItemErrors:n.EMPTY_CART_ITEM_ERRORS,cartTotals:h,cartIsLoading:!0,cartErrors:n.EMPTY_CART_ERRORS,billingAddress:g,shippingAddress:m,shippingRates:n.EMPTY_SHIPPING_RATES,isLoadingRates:!1,cartHasCalculatedShipping:!1,paymentRequirements:n.EMPTY_PAYMENT_REQUIREMENTS,receiveCart:()=>{},extensions:n.EMPTY_EXTENSIONS},j=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{shouldSelect:!0};const{isEditor:t,previewData:c}=Object(l.b)(),a=null==c?void 0:c.previewCart,{shouldSelect:u}=e,d=Object(o.useRef)();b();const p=Object(s.useSelect)((e,c)=>{let{dispatch:r}=c;if(!u)return _;if(t)return{cartCoupons:a.coupons,cartItems:a.items,crossSellsProducts:a.cross_sells,cartFees:a.fees,cartItemsCount:a.items_count,cartItemsWeight:a.items_weight,cartNeedsPayment:a.needs_payment,cartNeedsShipping:a.needs_shipping,cartItemErrors:n.EMPTY_CART_ITEM_ERRORS,cartTotals:a.totals,cartIsLoading:!1,cartErrors:n.EMPTY_CART_ERRORS,billingData:g,billingAddress:g,shippingAddress:m,extensions:n.EMPTY_EXTENSIONS,shippingRates:a.shipping_rates,isLoadingRates:!1,cartHasCalculatedShipping:a.has_calculated_shipping,paymentRequirements:a.paymentRequirements,receiveCart:"function"==typeof(null==a?void 0:a.receiveCart)?a.receiveCart:()=>{}};const o=e(n.CART_STORE_KEY),s=o.getCartData(),l=o.getCartErrors(),d=o.getCartTotals(),p=!o.hasFinishedResolution("getCartData"),b=o.isCustomerDataUpdating(),{receiveCart:h}=r(n.CART_STORE_KEY),j=O(s.billingAddress),E=s.needsShipping?O(s.shippingAddress):j,k=s.fees.length>0?s.fees.map(e=>O(e)):n.EMPTY_CART_FEES;return{cartCoupons:s.coupons.length>0?s.coupons.map(e=>({...e,label:e.code})):n.EMPTY_CART_COUPONS,cartItems:s.items,crossSellsProducts:s.crossSells,cartFees:k,cartItemsCount:s.itemsCount,cartItemsWeight:s.itemsWeight,cartNeedsPayment:s.needsPayment,cartNeedsShipping:s.needsShipping,cartItemErrors:s.errors,cartTotals:d,cartIsLoading:p,cartErrors:l,billingData:Object(i.a)(j),billingAddress:Object(i.a)(j),shippingAddress:Object(i.a)(E),extensions:s.extensions,shippingRates:s.shippingRates,isLoadingRates:b,cartHasCalculatedShipping:s.hasCalculatedShipping,paymentRequirements:s.paymentRequirements,receiveCart:h}},[u]);return d.current&&Object(r.isEqual)(d.current,p)||(d.current=p),d.current}},function(e,t,c){"use strict";var r=c(6),o=c.n(r),n=c(0),s=c(131),a=c(4),i=c.n(a);c(137);const l=e=>({thousandSeparator:e.thousandSeparator,decimalSeparator:e.decimalSeparator,decimalScale:e.minorUnit,fixedDecimalScale:!0,prefix:e.prefix,suffix:e.suffix,isNumericString:!0});t.a=e=>{let{className:t,value:c,currency:r,onValueChange:a,displayType:u="text",...d}=e;const p="string"==typeof c?parseInt(c,10):c;if(!Number.isFinite(p))return null;const b=p/10**r.minorUnit;if(!Number.isFinite(b))return null;const m=i()("wc-block-formatted-money-amount","wc-block-components-formatted-money-amount",t),g={...d,...l(r),value:void 0,currency:void 0,onValueChange:void 0},h=a?e=>{const t=+e.value*10**r.minorUnit;a(t)}:()=>{};return Object(n.createElement)(s.a,o()({className:m,displayType:u},g,{value:b,onValueChange:h}))}},,function(e,t){e.exports=window.wc.wcBlocksRegistry},,function(e,t,c){"use strict";var r=c(6),o=c.n(r),n=c(0),s=c(73),a=c(118);const i=["BUTTON","FIELDSET","INPUT","OPTGROUP","OPTION","SELECT","TEXTAREA","A"];t.a=e=>{let{children:t,style:c={},...r}=e;const l=Object(n.useRef)(null),u=()=>{l.current&&s.focus.focusable.find(l.current).forEach(e=>{i.includes(e.nodeName)&&e.setAttribute("tabindex","-1"),e.hasAttribute("contenteditable")&&e.setAttribute("contenteditable","false")})},d=Object(a.a)(u,0,{leading:!0});return Object(n.useLayoutEffect)(()=>{let e;return u(),l.current&&(e=new window.MutationObserver(d),e.observe(l.current,{childList:!0,attributes:!0,subtree:!0})),()=>{e&&e.disconnect(),d.cancel()}},[d]),Object(n.createElement)("div",o()({ref:l,"aria-disabled":"true",style:{userSelect:"none",pointerEvents:"none",cursor:"normal",...c}},r),t)}},,function(e,t){e.exports=window.wp.hooks},,function(e,t){e.exports=window.wp.a11y},,,function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var r=c(0),o=c(24),n=c.n(o);function s(e){const t=Object(r.useRef)(e);return n()(e,t.current)||(t.current=e),t.current}},function(e,t){e.exports=window.wp.deprecated},,function(e,t){e.exports=window.wp.keycodes},function(e,t,c){"use strict";c.d(t,"b",(function(){return T})),c.d(t,"a",(function(){return A}));var r=c(0),o=c(1),n=c(115),s=c(52),a=c.n(s),i=c(98),l=c(33),u=c(9);let d;!function(e){e.SET_IDLE="set_idle",e.SET_PRISTINE="set_pristine",e.SET_REDIRECT_URL="set_redirect_url",e.SET_COMPLETE="set_checkout_complete",e.SET_BEFORE_PROCESSING="set_before_processing",e.SET_AFTER_PROCESSING="set_after_processing",e.SET_PROCESSING_RESPONSE="set_processing_response",e.SET_PROCESSING="set_checkout_is_processing",e.SET_HAS_ERROR="set_checkout_has_error",e.SET_NO_ERROR="set_checkout_no_error",e.SET_CUSTOMER_ID="set_checkout_customer_id",e.SET_ORDER_ID="set_checkout_order_id",e.SET_ORDER_NOTES="set_checkout_order_notes",e.INCREMENT_CALCULATING="increment_calculating",e.DECREMENT_CALCULATING="decrement_calculating",e.SET_SHIPPING_ADDRESS_AS_BILLING_ADDRESS="set_shipping_address_as_billing_address",e.SET_SHOULD_CREATE_ACCOUNT="set_should_create_account",e.SET_EXTENSION_DATA="set_extension_data"}(d||(d={}));const p=()=>({type:d.SET_IDLE}),b=e=>({type:d.SET_REDIRECT_URL,redirectUrl:e}),m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:d.SET_COMPLETE,data:e}},g=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:e?d.SET_HAS_ERROR:d.SET_NO_ERROR}};var h=c(2),O=c(258);let _;!function(e){e.PRISTINE="pristine",e.IDLE="idle",e.PROCESSING="processing",e.COMPLETE="complete",e.BEFORE_PROCESSING="before_processing",e.AFTER_PROCESSING="after_processing"}(_||(_={}));const j={order_id:0,customer_id:0,billing_address:{},shipping_address:{},...Object(h.getSetting)("checkoutData",{})||{}},E={redirectUrl:"",status:_.PRISTINE,hasError:!1,calculatingCount:0,orderId:j.order_id,orderNotes:"",customerId:j.customer_id,useShippingAsBilling:Object(O.b)(j.billing_address,j.shipping_address),shouldCreateAccount:!1,processingResponse:null,extensionData:{}},k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,{redirectUrl:t,type:c,customerId:r,orderId:o,orderNotes:n,extensionData:s,useShippingAsBilling:a,shouldCreateAccount:i,data:l}=arguments.length>1?arguments[1]:void 0,u=e;switch(c){case d.SET_PRISTINE:u=E;break;case d.SET_IDLE:u=e.status!==_.IDLE?{...e,status:_.IDLE}:e;break;case d.SET_REDIRECT_URL:u=void 0!==t&&t!==e.redirectUrl?{...e,redirectUrl:t}:e;break;case d.SET_PROCESSING_RESPONSE:u={...e,processingResponse:l};break;case d.SET_COMPLETE:u=e.status!==_.COMPLETE?{...e,status:_.COMPLETE,redirectUrl:"string"==typeof(null==l?void 0:l.redirectUrl)?l.redirectUrl:e.redirectUrl}:e;break;case d.SET_PROCESSING:u=e.status!==_.PROCESSING?{...e,status:_.PROCESSING,hasError:!1}:e,u=!1===u.hasError?u:{...u,hasError:!1};break;case d.SET_BEFORE_PROCESSING:u=e.status!==_.BEFORE_PROCESSING?{...e,status:_.BEFORE_PROCESSING,hasError:!1}:e;break;case d.SET_AFTER_PROCESSING:u=e.status!==_.AFTER_PROCESSING?{...e,status:_.AFTER_PROCESSING}:e;break;case d.SET_HAS_ERROR:u=e.hasError?e:{...e,hasError:!0},u=e.status===_.PROCESSING||e.status===_.BEFORE_PROCESSING?{...u,status:_.IDLE}:u;break;case d.SET_NO_ERROR:u=e.hasError?{...e,hasError:!1}:e;break;case d.INCREMENT_CALCULATING:u={...e,calculatingCount:e.calculatingCount+1};break;case d.DECREMENT_CALCULATING:u={...e,calculatingCount:Math.max(0,e.calculatingCount-1)};break;case d.SET_CUSTOMER_ID:u=void 0!==r?{...e,customerId:r}:e;break;case d.SET_ORDER_ID:u=void 0!==o?{...e,orderId:o}:e;break;case d.SET_SHIPPING_ADDRESS_AS_BILLING_ADDRESS:void 0!==a&&a!==e.useShippingAsBilling&&(u={...e,useShippingAsBilling:a});break;case d.SET_SHOULD_CREATE_ACCOUNT:void 0!==i&&i!==e.shouldCreateAccount&&(u={...e,shouldCreateAccount:i});break;case d.SET_ORDER_NOTES:void 0!==n&&e.orderNotes!==n&&(u={...e,orderNotes:n});break;case d.SET_EXTENSION_DATA:void 0!==s&&e.extensionData!==s&&(u={...e,extensionData:s})}return u!==e&&c!==d.SET_PRISTINE&&u.status===_.PRISTINE&&(u.status=_.IDLE),u};var y=c(13),f=c(97),w=c(259);var v=c(260),S=c(107),C=c(72),N=c(36),P=c(105);const R=Object(r.createContext)({dispatchActions:{resetCheckout:()=>{},setRedirectUrl:e=>{},setHasError:e=>{},setAfterProcessing:e=>{},incrementCalculating:()=>{},decrementCalculating:()=>{},setCustomerId:e=>{},setOrderId:e=>{},setOrderNotes:e=>{},setExtensionData:e=>{}},onSubmit:()=>{},isComplete:!1,isIdle:!1,isCalculating:!1,isProcessing:!1,isBeforeProcessing:!1,isAfterProcessing:!1,hasError:!1,redirectUrl:"",orderId:0,orderNotes:"",customerId:0,onCheckoutAfterProcessingWithSuccess:()=>()=>{},onCheckoutAfterProcessingWithError:()=>()=>{},onCheckoutBeforeProcessing:()=>()=>{},onCheckoutValidationBeforeProcessing:()=>()=>{},hasOrder:!1,isCart:!1,useShippingAsBilling:!1,setUseShippingAsBilling:e=>{},shouldCreateAccount:!1,setShouldCreateAccount:e=>{},extensionData:{}}),T=()=>Object(r.useContext)(R),A=e=>{let{children:t,redirectUrl:c,isCart:s=!1}=e;E.redirectUrl=c;const[h,O]=Object(r.useReducer)(k,E),{setValidationErrors:j}=Object(S.b)(),{createErrorNotice:T}=Object(u.useDispatch)("core/notices"),{dispatchCheckoutEvent:A}=Object(C.a)(),x=h.calculatingCount>0,{isSuccessResponse:I,isErrorResponse:M,isFailResponse:D,shouldRetry:B}=Object(N.d)(),{checkoutNotices:L,paymentNotices:F,expressPaymentNotices:U}=(()=>{const{noticeContexts:e}=Object(N.d)();return{checkoutNotices:Object(u.useSelect)(e=>e("core/notices").getNotices("wc/checkout"),[]),expressPaymentNotices:Object(u.useSelect)(t=>t("core/notices").getNotices(e.EXPRESS_PAYMENTS),[e.EXPRESS_PAYMENTS]),paymentNotices:Object(u.useSelect)(t=>t("core/notices").getNotices(e.PAYMENTS),[e.PAYMENTS])}})(),[V,$]=Object(r.useReducer)(f.b,{}),q=Object(r.useRef)(V),{onCheckoutAfterProcessingWithSuccess:G,onCheckoutAfterProcessingWithError:H,onCheckoutValidationBeforeProcessing:z}=(e=>Object(r.useMemo)(()=>({onCheckoutAfterProcessingWithSuccess:Object(w.a)("checkout_after_processing_with_success",e),onCheckoutAfterProcessingWithError:Object(w.a)("checkout_after_processing_with_error",e),onCheckoutValidationBeforeProcessing:Object(w.a)("checkout_validation_before_processing",e)}),[e]))($);Object(r.useEffect)(()=>{q.current=V},[V]);const Y=Object(r.useMemo)(()=>function(){return a()("onCheckoutBeforeProcessing",{alternative:"onCheckoutValidationBeforeProcessing",plugin:"WooCommerce Blocks"}),z(...arguments)},[z]),W=Object(r.useMemo)(()=>({resetCheckout:()=>{O({type:d.SET_PRISTINE})},setRedirectUrl:e=>{O(b(e))},setHasError:e=>{O(g(e))},incrementCalculating:()=>{O({type:d.INCREMENT_CALCULATING})},decrementCalculating:()=>{O({type:d.DECREMENT_CALCULATING})},setCustomerId:e=>{var t;O((t=e,{type:d.SET_CUSTOMER_ID,customerId:t}))},setOrderId:e=>{O((e=>({type:d.SET_ORDER_ID,orderId:e}))(e))},setOrderNotes:e=>{O((e=>({type:d.SET_ORDER_NOTES,orderNotes:e}))(e))},setExtensionData:e=>{O((e=>({type:d.SET_EXTENSION_DATA,extensionData:e}))(e))},setAfterProcessing:e=>{const t=(e=>{const t={message:"",paymentStatus:"",redirectUrl:"",paymentDetails:{}};return"payment_result"in e&&(t.paymentStatus=e.payment_result.payment_status,t.redirectUrl=e.payment_result.redirect_url,e.payment_result.hasOwnProperty("payment_details")&&Array.isArray(e.payment_result.payment_details)&&e.payment_result.payment_details.forEach(e=>{let{key:c,value:r}=e;t.paymentDetails[c]=Object(y.decodeEntities)(r)})),"message"in e&&(t.message=Object(y.decodeEntities)(e.message)),!t.message&&"data"in e&&"status"in e.data&&e.data.status>299&&(t.message=Object(o.__)("Something went wrong. Please contact us for assistance.","woo-gutenberg-products-block")),t})(e);var c;O(b((null==t?void 0:t.redirectUrl)||"")),O((c=t,{type:d.SET_PROCESSING_RESPONSE,data:c})),O({type:d.SET_AFTER_PROCESSING})}}),[]);Object(r.useEffect)(()=>{h.status===_.BEFORE_PROCESSING&&(Object(P.a)("error"),Object(v.a)(q.current,"checkout_validation_before_processing",{}).then(e=>{!0!==e?(Array.isArray(e)&&e.forEach(e=>{let{errorMessage:t,validationErrors:c}=e;T(t,{context:"wc/checkout"}),j(c)}),O(p()),O(g())):O({type:d.SET_PROCESSING})}))},[h.status,j,T,O]);const K=Object(n.a)(h.status),X=Object(n.a)(h.hasError);Object(r.useEffect)(()=>{if((h.status!==K||h.hasError!==X)&&h.status===_.AFTER_PROCESSING){const e={redirectUrl:h.redirectUrl,orderId:h.orderId,customerId:h.customerId,orderNotes:h.orderNotes,processingResponse:h.processingResponse};h.hasError?Object(v.b)(q.current,"checkout_after_processing_with_error",e).then(t=>{const c=(e=>{let t=null;return e.forEach(e=>{if((M(e)||D(e))&&e.message&&Object(i.a)(e.message)){const c=e.messageContext&&Object(i.a)(e.messageContent)?{context:e.messageContext}:void 0;t=e,T(e.message,c)}}),t})(t);if(null!==c)B(c)?O(p()):O(m(c));else{if(!(L.some(e=>"error"===e.status)||U.some(e=>"error"===e.status)||F.some(e=>"error"===e.status))){var r;const t=(null===(r=e.processingResponse)||void 0===r?void 0:r.message)||Object(o.__)("Something went wrong. Please contact us for assistance.","woo-gutenberg-products-block");T(t,{id:"checkout",context:"wc/checkout"})}O(p())}}):Object(v.b)(q.current,"checkout_after_processing_with_success",e).then(e=>{let t=null,c=null;if(e.forEach(e=>{I(e)&&(t=e),(M(e)||D(e))&&(c=e)}),t&&!c)O(m(t));else if(Object(l.a)(c)){if(c.message&&Object(i.a)(c.message)){const e=c.messageContext&&Object(i.a)(c.messageContext)?{context:c.messageContext}:void 0;T(c.message,e)}B(c)?O(g(!0)):O(m(c))}else O(m())})}},[h.status,h.hasError,h.redirectUrl,h.orderId,h.customerId,h.orderNotes,h.processingResponse,K,X,W,T,M,D,I,B,L,U,F]);const Q={onSubmit:Object(r.useCallback)(()=>{A("submit"),O({type:d.SET_BEFORE_PROCESSING})},[A]),isComplete:h.status===_.COMPLETE,isIdle:h.status===_.IDLE,isCalculating:x,isProcessing:h.status===_.PROCESSING,isBeforeProcessing:h.status===_.BEFORE_PROCESSING,isAfterProcessing:h.status===_.AFTER_PROCESSING,hasError:h.hasError,redirectUrl:h.redirectUrl,onCheckoutBeforeProcessing:Y,onCheckoutValidationBeforeProcessing:z,onCheckoutAfterProcessingWithSuccess:G,onCheckoutAfterProcessingWithError:H,dispatchActions:W,isCart:s,orderId:h.orderId,hasOrder:!!h.orderId,customerId:h.customerId,orderNotes:h.orderNotes,useShippingAsBilling:h.useShippingAsBilling,setUseShippingAsBilling:e=>{return O((t=e,{type:d.SET_SHIPPING_ADDRESS_AS_BILLING_ADDRESS,useShippingAsBilling:t}));var t},shouldCreateAccount:h.shouldCreateAccount,setShouldCreateAccount:e=>{return O((t=e,{type:d.SET_SHOULD_CREATE_ACCOUNT,shouldCreateAccount:t}));var t},extensionData:h.extensionData};return Object(r.createElement)(R.Provider,{value:Q},t)}},,,,function(e,t,c){"use strict";c.d(t,"b",(function(){return s})),c.d(t,"a",(function(){return a}));var r=c(0),o=c(9);const n=Object(r.createContext)({isEditor:!1,currentPostId:0,currentView:"",previewData:{},getPreviewData:()=>{}}),s=()=>Object(r.useContext)(n),a=e=>{let{children:t,currentPostId:c=0,currentView:s="",previewData:a={}}=e;const i=Object(o.useSelect)(e=>c||e("core/editor").getCurrentPostId(),[c]),l=Object(r.useCallback)(e=>e in a?a[e]:{},[a]),u={isEditor:!0,currentPostId:i,currentView:s,previewData:a,getPreviewData:l};return Object(r.createElement)(n.Provider,{value:u},t)}},function(e,t,c){"use strict";var r=c(6),o=c.n(r),n=c(0),s=c(136),a=c(4),i=c.n(a),l=c(95);c(160),t.a=e=>{let{className:t,showSpinner:c=!1,children:r,variant:a="contained",...u}=e;const d=i()("wc-block-components-button",t,a,{"wc-block-components-button--loading":c});return Object(n.createElement)(s.a,o()({className:d},u),c&&Object(n.createElement)(l.a,null),Object(n.createElement)("span",{className:"wc-block-components-button__text"},r))}},function(e,t){e.exports=window.wp.autop},,,,,,,,,,function(e,t,c){"use strict";var r=c(0),o=c(1),n=c(4),s=c.n(n),a=(c(273),c(95));t.a=e=>{let{children:t,className:c,screenReaderLabel:n,showSpinner:i=!1,isLoading:l=!0}=e;return Object(r.createElement)("div",{className:s()(c,{"wc-block-components-loading-mask":l})},l&&i&&Object(r.createElement)(a.a,null),Object(r.createElement)("div",{className:s()({"wc-block-components-loading-mask__children":l}),"aria-hidden":l},t),l&&Object(r.createElement)("span",{className:"screen-reader-text"},n||Object(o.__)("Loading…","woo-gutenberg-products-block")))}},function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));var r=c(46),o=c(0),n=c(39);const s=()=>{const e=Object(n.a)(),t=Object(o.useRef)(e);return Object(o.useEffect)(()=>{t.current=e},[e]),{dispatchStoreEvent:Object(o.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{Object(r.doAction)("experimental__woocommerce_blocks-"+e,t)}catch(e){console.error(e)}}),[]),dispatchCheckoutEvent:Object(o.useCallback)((function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{Object(r.doAction)("experimental__woocommerce_blocks-checkout-"+e,{...c,storeCart:t.current})}catch(e){console.error(e)}}),[])}}},function(e,t){e.exports=window.wp.dom},function(e,t,c){"use strict";c.d(t,"b",(function(){return s})),c.d(t,"a",(function(){return a}));var r=c(0),o=c(92);const n=Object(r.createContext)({isInitialized:!1,billingAddress:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",email:"",phone:""},shippingAddress:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},setBillingAddress:()=>{},setShippingAddress:()=>{}}),s=()=>Object(r.useContext)(n),a=e=>{let{children:t}=e;const c=Object(o.a)();return Object(r.createElement)(n.Provider,{value:c},t)}},,,,,,function(e,t,c){"use strict";var r=c(0),o=c(1),n=c(40),s=c(4),a=c.n(s),i=c(26);c(159);const l=e=>{let{currency:t,maxPrice:c,minPrice:s,priceClassName:l,priceStyle:u={}}=e;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{className:"screen-reader-text"},Object(o.sprintf)(
/* translators: %1$s min price, %2$s max price */
Object(o.__)("Price between %1$s and %2$s","woo-gutenberg-products-block"),Object(i.formatPrice)(s),Object(i.formatPrice)(c))),Object(r.createElement)("span",{"aria-hidden":!0},Object(r.createElement)(n.a,{className:a()("wc-block-components-product-price__value",l),currency:t,value:s,style:u})," — ",Object(r.createElement)(n.a,{className:a()("wc-block-components-product-price__value",l),currency:t,value:c,style:u})))},u=e=>{let{currency:t,regularPriceClassName:c,regularPriceStyle:s,regularPrice:i,priceClassName:l,priceStyle:u,price:d}=e;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{className:"screen-reader-text"},Object(o.__)("Previous price:","woo-gutenberg-products-block")),Object(r.createElement)(n.a,{currency:t,renderText:e=>Object(r.createElement)("del",{className:a()("wc-block-components-product-price__regular",c),style:s},e),value:i}),Object(r.createElement)("span",{className:"screen-reader-text"},Object(o.__)("Discounted price:","woo-gutenberg-products-block")),Object(r.createElement)(n.a,{currency:t,renderText:e=>Object(r.createElement)("ins",{className:a()("wc-block-components-product-price__value","is-discounted",l),style:u},e),value:d}))};t.a=e=>{let{align:t,className:c,currency:o,format:s="<price/>",maxPrice:i,minPrice:d,price:p,priceClassName:b,priceStyle:m,regularPrice:g,regularPriceClassName:h,regularPriceStyle:O}=e;const _=a()(c,"price","wc-block-components-product-price",{["wc-block-components-product-price--align-"+t]:t});s.includes("<price/>")||(s="<price/>",console.error("Price formats need to include the `<price/>` tag."));const j=g&&p!==g;let E=Object(r.createElement)("span",{className:a()("wc-block-components-product-price__value",b)});return j?E=Object(r.createElement)(u,{currency:o,price:p,priceClassName:b,priceStyle:m,regularPrice:g,regularPriceClassName:h,regularPriceStyle:O}):void 0!==d&&void 0!==i?E=Object(r.createElement)(l,{currency:o,maxPrice:i,minPrice:d,priceClassName:b,priceStyle:m}):p&&(E=Object(r.createElement)(n.a,{className:a()("wc-block-components-product-price__value",b),currency:o,value:p,style:m})),Object(r.createElement)("span",{className:_},Object(r.createInterpolateElement)(s,{price:E}))}},function(e,t,c){"use strict";var r=c(0),o=c(4),n=c.n(o);c(198),t.a=e=>{let{children:t,className:c}=e;return Object(r.createElement)("div",{className:n()("wc-block-components-product-badge",c)},t)}},function(e,t,c){"use strict";c.d(t,"a",(function(){return d}));var r=c(17),o=c(9),n=c(0),s=c(24),a=c.n(s),i=c(33),l=c(326),u=c(116);const d=()=>{const{shippingRates:e,needsShipping:t,hasCalculatedShipping:c,isLoadingRates:s}=Object(o.useSelect)(e=>{const t=!!e("core/editor"),c=e(r.CART_STORE_KEY);return{shippingRates:t?l.a.shipping_rates:c.getShippingRates(),needsShipping:t?l.a.needs_shipping:c.getNeedsShipping(),hasCalculatedShipping:t?l.a.has_calculated_shipping:c.getHasCalculatedShipping(),isLoadingRates:!t&&c.isCustomerDataUpdating()}}),{isSelectingRate:d,selectShippingRate:p}=Object(u.a)(),b=Object(n.useRef)({});return Object(n.useEffect)(()=>{const t=(e=>Object.fromEntries(e.map(e=>{var t;let{package_id:c,shipping_rates:r}=e;return[c,null===(t=r.find(e=>e.selected))||void 0===t?void 0:t.rate_id]})))(e);Object(i.a)(t)&&!a()(b.current,t)&&(b.current=t)},[e]),{isSelectingRate:d,selectedRates:b.current,selectShippingRate:p,shippingRates:e,needsShipping:t,hasCalculatedShipping:c,isLoadingRates:s}}},,,,,,,,,function(e,t){e.exports=window.wp.wordcount},function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var r=c(9),o=c(17);const n=()=>{const{customerData:e,isInitialized:t}=Object(r.useSelect)(e=>{const t=e(o.CART_STORE_KEY);return{customerData:t.getCustomerData(),isInitialized:t.hasFinishedResolution("getCartData")}}),{setShippingAddress:c,setBillingAddress:n}=Object(r.useDispatch)(o.CART_STORE_KEY);return{isInitialized:t,billingAddress:e.billingAddress,shippingAddress:e.shippingAddress,setBillingAddress:n,setShippingAddress:c}}},,function(e,t,c){"use strict";var r=c(2),o=c(1),n=c(167),s=c(98);const a=Object(r.getSetting)("countryLocale",{}),i=e=>{const t={};return void 0!==e.label&&(t.label=e.label),void 0!==e.required&&(t.required=e.required),void 0!==e.hidden&&(t.hidden=e.hidden),void 0===e.label||e.optionalLabel||(t.optionalLabel=Object(o.sprintf)(
/* translators: %s Field label. */
Object(o.__)("%s (optional)","woo-gutenberg-products-block"),e.label)),e.priority&&(Object(n.a)(e.priority)&&(t.index=e.priority),Object(s.a)(e.priority)&&(t.index=parseInt(e.priority,10))),e.hidden&&(t.required=!1),t},l=Object.entries(a).map(e=>{let[t,c]=e;return[t,Object.entries(c).map(e=>{let[t,c]=e;return[t,i(c)]}).reduce((e,t)=>{let[c,r]=t;return e[c]=r,e},{})]}).reduce((e,t)=>{let[c,r]=t;return e[c]=r,e},{});t.a=function(e,t){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const o=c&&void 0!==l[c]?l[c]:{};return e.map(e=>({key:e,...r.defaultAddressFields[e]||{},...o[e]||{},...t[e]||{}})).sort((e,t)=>e.index-t.index)}},function(e,t,c){"use strict";var r=c(0);c(161),t.a=()=>Object(r.createElement)("span",{className:"wc-block-components-spinner","aria-hidden":"true"})},,function(e,t,c){"use strict";c.d(t,"a",(function(){return n})),c.d(t,"b",(function(){return a}));var r=c(7);let o;!function(e){e.ADD_EVENT_CALLBACK="add_event_callback",e.REMOVE_EVENT_CALLBACK="remove_event_callback"}(o||(o={}));const n={addEventCallback:function(e,t){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return{id:Object(r.uniqueId)(),type:o.ADD_EVENT_CALLBACK,eventType:e,callback:t,priority:c}},removeEventCallback:(e,t)=>({id:t,type:o.REMOVE_EVENT_CALLBACK,eventType:e})},s={},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,{type:t,eventType:c,id:r,callback:n,priority:a}=arguments.length>1?arguments[1]:void 0;const i=e.hasOwnProperty(c)?new Map(e[c]):new Map;switch(t){case o.ADD_EVENT_CALLBACK:return i.set(r,{priority:a,callback:n}),{...e,[c]:i};case o.REMOVE_EVENT_CALLBACK:return i.delete(r),{...e,[c]:i}}}},function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));const r=e=>"string"==typeof e},,,,,,function(e,t,c){"use strict";var r=c(6),o=c.n(r),n=c(0),s=c(13),a=c(4),i=c.n(a);c(158),t.a=e=>{let{className:t="",disabled:c=!1,name:r,permalink:a="",target:l,rel:u,style:d,onClick:p,...b}=e;const m=i()("wc-block-components-product-name",t);if(c){const e=b;return Object(n.createElement)("span",o()({className:m},e,{dangerouslySetInnerHTML:{__html:Object(s.decodeEntities)(r)}}))}return Object(n.createElement)("a",o()({className:m,href:a,target:l},b,{dangerouslySetInnerHTML:{__html:Object(s.decodeEntities)(r)},style:d}))}},function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var r=c(9);const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const c=Object(r.select)("core/notices").getNotices(),{removeNotice:o}=Object(r.dispatch)("core/notices"),n=c.filter(t=>t.status===e);n.forEach(e=>o(e.id,t))}},function(e,t){e.exports=window.wp.warning},function(e,t,c){"use strict";c.d(t,"b",(function(){return i})),c.d(t,"a",(function(){return l}));var r=c(0),o=c(7),n=c(24),s=c.n(n);const a=Object(r.createContext)({getValidationError:()=>"",setValidationErrors:e=>{},clearValidationError:e=>{},clearAllValidationErrors:()=>{},hideValidationError:()=>{},showValidationError:()=>{},showAllValidationErrors:()=>{},hasValidationErrors:!1,getValidationErrorId:e=>e}),i=()=>Object(r.useContext)(a),l=e=>{let{children:t}=e;const[c,n]=Object(r.useState)({}),i=Object(r.useCallback)(e=>c[e],[c]),l=Object(r.useCallback)(e=>{const t=c[e];return!t||t.hidden?"":"validate-error-"+e},[c]),u=Object(r.useCallback)(e=>{n(t=>{if(!t[e])return t;const{[e]:c,...r}=t;return r})},[]),d=Object(r.useCallback)(()=>{n({})},[]),p=Object(r.useCallback)(e=>{e&&n(t=>(e=Object(o.pickBy)(e,(e,c)=>!("string"!=typeof e.message||t.hasOwnProperty(c)&&s()(t[c],e))),0===Object.values(e).length?t:{...t,...e}))},[]),b=Object(r.useCallback)((e,t)=>{n(c=>{if(!c.hasOwnProperty(e))return c;const r={...c[e],...t};return s()(c[e],r)?c:{...c,[e]:r}})},[]),m={getValidationError:i,setValidationErrors:p,clearValidationError:u,clearAllValidationErrors:d,hideValidationError:Object(r.useCallback)(e=>{b(e,{hidden:!0})},[b]),showValidationError:Object(r.useCallback)(e=>{b(e,{hidden:!1})},[b]),showAllValidationErrors:Object(r.useCallback)(()=>{n(e=>{const t={};return Object.keys(e).forEach(c=>{e[c].hidden&&(t[c]={...e[c],hidden:!1})}),0===Object.values(t).length?e:{...e,...t}})},[]),hasValidationErrors:Object.keys(c).length>0,getValidationErrorId:l};return Object(r.createElement)(a.Provider,{value:m},t)}},,function(e,t,c){"use strict";c.d(t,"b",(function(){return E})),c.d(t,"a",(function(){return k}));var r=c(0);const o={NONE:"none",INVALID_ADDRESS:"invalid_address",UNKNOWN:"unknown_error"},n={INVALID_COUNTRY:"woocommerce_rest_cart_shipping_rates_invalid_country",MISSING_COUNTRY:"woocommerce_rest_cart_shipping_rates_missing_country",INVALID_STATE:"woocommerce_rest_cart_shipping_rates_invalid_state"},s={shippingErrorStatus:{isPristine:!0,isValid:!1,hasInvalidAddress:!1,hasError:!1},dispatchErrorStatus:()=>null,shippingErrorTypes:o,shippingRates:[],isLoadingRates:!1,selectedRates:[],setSelectedRates:()=>null,shippingAddress:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:""},setShippingAddress:()=>null,onShippingRateSuccess:()=>null,onShippingRateFail:()=>null,onShippingRateSelectSuccess:()=>null,onShippingRateSelectFail:()=>null,needsShipping:!1},a=(e,t)=>{let{type:c}=t;return Object.values(o).includes(c)?c:e};var i=c(97),l=c(259);const u=e=>({onSuccess:Object(l.a)("shipping_rates_success",e),onFail:Object(l.a)("shipping_rates_fail",e),onSelectSuccess:Object(l.a)("shipping_rate_select_success",e),onSelectFail:Object(l.a)("shipping_rate_select_fail",e)});var d=c(260),p=c(55),b=c(39),m=c(116),g=c(82);const{NONE:h,INVALID_ADDRESS:O,UNKNOWN:_}=o,j=Object(r.createContext)(s),E=()=>Object(r.useContext)(j),k=e=>{let{children:t}=e;const{dispatchActions:c}=Object(p.b)(),{shippingRates:s,isLoadingRates:l,cartErrors:E}=Object(b.a)(),{isSelectingRate:k}=Object(m.a)(),{selectedRates:y}=Object(g.a)(),[f,w]=Object(r.useReducer)(a,h),[v,S]=Object(r.useReducer)(i.b,{}),C=Object(r.useRef)(v),N=Object(r.useMemo)(()=>({onShippingRateSuccess:u(S).onSuccess,onShippingRateFail:u(S).onFail,onShippingRateSelectSuccess:u(S).onSelectSuccess,onShippingRateSelectFail:u(S).onSelectFail}),[S]);Object(r.useEffect)(()=>{C.current=v},[v]),Object(r.useEffect)(()=>{l?c.incrementCalculating():c.decrementCalculating()},[l,c]),Object(r.useEffect)(()=>{k?c.incrementCalculating():c.decrementCalculating()},[k,c]),Object(r.useEffect)(()=>{E.length>0&&E.some(e=>!(!e.code||!Object.values(n).includes(e.code)))?w({type:O}):w({type:h})},[E]);const P=Object(r.useMemo)(()=>({isPristine:f===h,isValid:f===h,hasInvalidAddress:f===O,hasError:f===_||f===O}),[f]);Object(r.useEffect)(()=>{l||0!==s.length&&!P.hasError||Object(d.a)(C.current,"shipping_rates_fail",{hasInvalidAddress:P.hasInvalidAddress,hasError:P.hasError})},[s,l,P.hasError,P.hasInvalidAddress]),Object(r.useEffect)(()=>{!l&&s.length>0&&!P.hasError&&Object(d.a)(C.current,"shipping_rates_success",s)},[s,l,P.hasError]),Object(r.useEffect)(()=>{k||(P.hasError?Object(d.a)(C.current,"shipping_rate_select_fail",{hasError:P.hasError,hasInvalidAddress:P.hasInvalidAddress}):Object(d.a)(C.current,"shipping_rate_select_success",y.current))},[y,k,P.hasError,P.hasInvalidAddress]);const R={shippingErrorStatus:P,dispatchErrorStatus:w,shippingErrorTypes:o,...N};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(j.Provider,{value:R},t))}},,,,,,function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var r=c(12);function o(e,t){const c=Object(r.useRef)();return Object(r.useEffect)(()=>{c.current===e||t&&!t(e,c.current)||(c.current=e)},[e,t]),c.current}},function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var r=c(9),o=c(0),n=c(17),s=c(129),a=c(72);const i=()=>{const e=Object(s.a)(),{dispatchCheckoutEvent:t}=Object(a.a)(),{selectShippingRate:c}=Object(r.useDispatch)(n.CART_STORE_KEY);return{selectShippingRate:Object(o.useCallback)((r,o)=>{c(r,o).then(()=>{t("set-selected-shipping-rate",{shippingRateId:r})}).catch(t=>{e(t)})},[c,t,e]),isSelectingRate:Object(r.useSelect)(e=>e(n.CART_STORE_KEY).isShippingRateBeingSelected(),[])}}},,,,,function(e,t,c){"use strict";var r=c(0),o=c(91),n=c(61);const s=e=>{const t=e.indexOf("</p>");return-1===t?e:e.substr(0,t+4)},a=e=>e.replace(/<\/?[a-z][^>]*?>/gi,""),i=(e,t)=>e.replace(/[\s|\.\,]+$/i,"")+t,l=function(e,t){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"&hellip;";const r=a(e),o=r.split(" ").splice(0,t).join(" ");return Object(n.autop)(i(o,c))},u=function(e,t){let c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"&hellip;";const o=a(e),s=o.slice(0,t);if(c)return Object(n.autop)(i(s,r));const l=s.match(/([\s]+)/g),u=l?l.length:0,d=o.slice(0,t+u);return Object(n.autop)(i(d,r))};t.a=e=>{let{source:t,maxLength:c=15,countType:a="words",className:i="",style:d={}}=e;const p=Object(r.useMemo)(()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"words";const r=Object(n.autop)(e),a=Object(o.count)(r,c);if(a<=t)return r;const i=s(r),d=Object(o.count)(i,c);return d<=t?i:"words"===c?l(i,t):u(i,t,"characters_including_spaces"===c)}(t,c,a),[t,c,a]);return Object(r.createElement)(r.RawHTML,{style:d,className:i},p)}},function(e,t,c){"use strict";var r=c(0),o=c(4),n=c.n(o),s=c(142);t.a=e=>{let{checked:t,name:c,onChange:o,option:a}=e;const{value:i,label:l,description:u,secondaryLabel:d,secondaryDescription:p}=a;return Object(r.createElement)("label",{className:n()("wc-block-components-radio-control__option",{"wc-block-components-radio-control__option-checked":t}),htmlFor:`${c}-${i}`},Object(r.createElement)("input",{id:`${c}-${i}`,className:"wc-block-components-radio-control__input",type:"radio",name:c,value:i,onChange:e=>o(e.target.value),checked:t,"aria-describedby":n()({[`${c}-${i}__label`]:l,[`${c}-${i}__secondary-label`]:d,[`${c}-${i}__description`]:u,[`${c}-${i}__secondary-description`]:p})}),Object(r.createElement)(s.a,{id:`${c}-${i}`,label:l,secondaryLabel:d,description:u,secondaryDescription:p}))}},,,,,,,function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var r=c(0);const o=()=>{const[,e]=Object(r.useState)();return Object(r.useCallback)(t=>{e(()=>{throw t})},[])}},,,function(e,t,c){"use strict";var r=c(25),o=c.n(r),n=c(0),s=c(12),a=c(1),i=c(22),l=e=>{let{imageUrl:t=i.m+"/block-error.svg",header:c=Object(a.__)("Oops!","woo-gutenberg-products-block"),text:r=Object(a.__)("There was an error loading the content.","woo-gutenberg-products-block"),errorMessage:o,errorMessagePrefix:s=Object(a.__)("Error:","woo-gutenberg-products-block"),button:l,showErrorBlock:u=!0}=e;return u?Object(n.createElement)("div",{className:"wc-block-error wc-block-components-error"},t&&Object(n.createElement)("img",{className:"wc-block-error__image wc-block-components-error__image",src:t,alt:""}),Object(n.createElement)("div",{className:"wc-block-error__content wc-block-components-error__content"},c&&Object(n.createElement)("p",{className:"wc-block-error__header wc-block-components-error__header"},c),r&&Object(n.createElement)("p",{className:"wc-block-error__text wc-block-components-error__text"},r),o&&Object(n.createElement)("p",{className:"wc-block-error__message wc-block-components-error__message"},s?s+" ":"",o),l&&Object(n.createElement)("p",{className:"wc-block-error__button wc-block-components-error__button"},l))):null};c(204);class u extends s.Component{constructor(){super(...arguments),o()(this,"state",{errorMessage:"",hasError:!1})}static getDerivedStateFromError(e){return void 0!==e.statusText&&void 0!==e.status?{errorMessage:Object(n.createElement)(n.Fragment,null,Object(n.createElement)("strong",null,e.status),": ",e.statusText),hasError:!0}:{errorMessage:e.message,hasError:!0}}render(){const{header:e,imageUrl:t,showErrorMessage:c=!0,showErrorBlock:r=!0,text:o,errorMessagePrefix:s,renderError:a,button:i}=this.props,{errorMessage:u,hasError:d}=this.state;return d?"function"==typeof a?a({errorMessage:u}):Object(n.createElement)(l,{showErrorBlock:r,errorMessage:c?u:null,header:e,imageUrl:t,text:o,errorMessagePrefix:s,button:i}):this.props.children}}t.a=u},,,,,function(e,t){},,,,,function(e,t,c){"use strict";var r=c(0);t.a=e=>{let{label:t,secondaryLabel:c,description:o,secondaryDescription:n,id:s}=e;return Object(r.createElement)("div",{className:"wc-block-components-radio-control__option-layout"},Object(r.createElement)("div",{className:"wc-block-components-radio-control__label-group"},t&&Object(r.createElement)("span",{id:s&&s+"__label",className:"wc-block-components-radio-control__label"},t),c&&Object(r.createElement)("span",{id:s&&s+"__secondary-label",className:"wc-block-components-radio-control__secondary-label"},c)),Object(r.createElement)("div",{className:"wc-block-components-radio-control__description-group"},o&&Object(r.createElement)("span",{id:s&&s+"__description",className:"wc-block-components-radio-control__description"},o),n&&Object(r.createElement)("span",{id:s&&s+"__secondary-description",className:"wc-block-components-radio-control__secondary-description"},n)))}},,function(e,t,c){"use strict";var r=c(6),o=c.n(r),n=c(0),s=c(4),a=c.n(s);c(284),t.a=e=>{let{children:t,className:c,headingLevel:r,...s}=e;const i=a()("wc-block-components-title",c),l="h"+r;return Object(n.createElement)(l,o()({className:i},s),t)}},,,,,,,,function(e,t,c){"use strict";c.d(t,"b",(function(){return n})),c.d(t,"a",(function(){return s}));var r=c(0);const o=Object(r.createContext)({setIsSuppressed:e=>{},isSuppressed:!1}),n=()=>Object(r.useContext)(o),s=e=>{let{children:t}=e;const[c,n]=Object(r.useState)(!1),s={setIsSuppressed:n,isSuppressed:c};return Object(r.createElement)(o.Provider,{value:s},t)}},,,,function(e,t,c){"use strict";var r=c(6),o=c.n(r),n=c(0),s=c(4),a=c.n(s);const i=e=>"wc-block-components-payment-method-icon wc-block-components-payment-method-icon--"+e;var l=e=>{let{id:t,src:c=null,alt:r=""}=e;return c?Object(n.createElement)("img",{className:i(t),src:c,alt:r}):null},u=c(22);const d=[{id:"alipay",alt:"Alipay",src:u.m+"payment-methods/alipay.svg"},{id:"amex",alt:"American Express",src:u.m+"payment-methods/amex.svg"},{id:"bancontact",alt:"Bancontact",src:u.m+"payment-methods/bancontact.svg"},{id:"diners",alt:"Diners Club",src:u.m+"payment-methods/diners.svg"},{id:"discover",alt:"Discover",src:u.m+"payment-methods/discover.svg"},{id:"eps",alt:"EPS",src:u.m+"payment-methods/eps.svg"},{id:"giropay",alt:"Giropay",src:u.m+"payment-methods/giropay.svg"},{id:"ideal",alt:"iDeal",src:u.m+"payment-methods/ideal.svg"},{id:"jcb",alt:"JCB",src:u.m+"payment-methods/jcb.svg"},{id:"laser",alt:"Laser",src:u.m+"payment-methods/laser.svg"},{id:"maestro",alt:"Maestro",src:u.m+"payment-methods/maestro.svg"},{id:"mastercard",alt:"Mastercard",src:u.m+"payment-methods/mastercard.svg"},{id:"multibanco",alt:"Multibanco",src:u.m+"payment-methods/multibanco.svg"},{id:"p24",alt:"Przelewy24",src:u.m+"payment-methods/p24.svg"},{id:"sepa",alt:"Sepa",src:u.m+"payment-methods/sepa.svg"},{id:"sofort",alt:"Sofort",src:u.m+"payment-methods/sofort.svg"},{id:"unionpay",alt:"Union Pay",src:u.m+"payment-methods/unionpay.svg"},{id:"visa",alt:"Visa",src:u.m+"payment-methods/visa.svg"},{id:"wechat",alt:"WeChat",src:u.m+"payment-methods/wechat.svg"}];var p=c(98);c(201),t.a=e=>{let{icons:t=[],align:c="center",className:r}=e;const s=(e=>{const t={};return e.forEach(e=>{let c={};"string"==typeof e&&(c={id:e,alt:e,src:null}),"object"==typeof e&&(c={id:e.id||"",alt:e.alt||"",src:e.src||null}),c.id&&Object(p.a)(c.id)&&!t[c.id]&&(t[c.id]=c)}),Object.values(t)})(t);if(0===s.length)return null;const i=a()("wc-block-components-payment-method-icons",{"wc-block-components-payment-method-icons--align-left":"left"===c,"wc-block-components-payment-method-icons--align-right":"right"===c},r);return Object(n.createElement)("div",{className:i},s.map(e=>{const t={...e,...(c=e.id,d.find(e=>e.id===c)||{})};var c;return Object(n.createElement)(l,o()({key:"payment-method-icon-"+e.id},t))}))}},function(e,t,c){"use strict";c.d(t,"a",(function(){return l}));var r=c(0),o=c(1),n=c(119),s=c(344),a=c(250);c(287);const i=e=>{let{text:t,url:c="https://ideas.woocommerce.com/forums/133476-woocommerce?category_id=384565"}=e;const[i,l]=Object(r.useState)(!1);return Object(r.useEffect)(()=>{l(!0)},[]),i&&Object(r.createElement)("div",{className:"wc-block-feedback-prompt"},Object(r.createElement)(n.a,{icon:s.a}),Object(r.createElement)("h2",{className:"wc-block-feedback-prompt__title"},Object(o.__)("Feedback?","woo-gutenberg-products-block")),Object(r.createElement)("p",{className:"wc-block-feedback-prompt__text"},t),Object(r.createElement)("a",{href:c,className:"wc-block-feedback-prompt__link",rel:"noreferrer noopener",target:"_blank"},Object(o.__)("Give us your feedback.","woo-gutenberg-products-block"),Object(r.createElement)(n.a,{icon:a.a,size:16})))},l=()=>Object(r.createElement)(i,{text:Object(o.__)("We are currently working on improving our cart and checkout blocks to provide merchants with the tools and customization options they need.","woo-gutenberg-products-block"),url:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/issues/new?template=--cart-checkout-feedback.md"})},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));const r=e=>"number"==typeof e},function(e,t,c){"use strict";var r=c(25),o=c.n(r),n=c(0),s=c(1),a=c(12),i=c(2),l=c(242),u=c(36);class d extends a.Component{constructor(){super(...arguments),o()(this,"state",{errorMessage:"",hasError:!1})}static getDerivedStateFromError(e){return{errorMessage:e.message,hasError:!0}}render(){const{hasError:e,errorMessage:t}=this.state,{isEditor:c}=this.props;if(e){let e=Object(s.__)("We are experiencing difficulties with this payment method. Please contact us for assistance.","woo-gutenberg-products-block");(c||i.CURRENT_USER_IS_ADMIN)&&(e=t||Object(s.__)("There was an error with this payment method. Please verify it's configured correctly.","woo-gutenberg-products-block"));const r=[{id:"0",content:e,isDismissible:!1,status:"error"}];return Object(n.createElement)(l.a,{additionalNotices:r,context:u.c.PAYMENTS})}return this.props.children}}d.defaultProps={isEditor:!1},t.a=d},function(e,t,c){"use strict";var r=c(0),o=c(4),n=c.n(o),s=c(10),a=c(122);c(282);const i=e=>{let{className:t="",id:c,selected:o,onChange:l,options:u=[]}=e;const d=Object(s.useInstanceId)(i),p=c||d;return u.length?Object(r.createElement)("div",{className:n()("wc-block-components-radio-control",t)},u.map(e=>Object(r.createElement)(a.a,{key:`${p}-${e.value}`,name:"radio-control-"+p,checked:e.value===o,option:e,onChange:t=>{l(t),"function"==typeof e.onChange&&e.onChange(t)}}))):null};t.a=i},function(e,t){e.exports=window.wp.editor},function(e,t){e.exports=window.wp.coreData},,function(e,t,c){"use strict";c.d(t,"b",(function(){return F})),c.d(t,"a",(function(){return U}));var r=c(0),o=c(33),n=c(9);let s,a;!function(e){e.PRISTINE="pristine",e.STARTED="started",e.PROCESSING="processing",e.ERROR="has_error",e.FAILED="failed",e.SUCCESS="success",e.COMPLETE="complete"}(s||(s={})),function(e){e.SET_REGISTERED_PAYMENT_METHODS="set_registered_payment_methods",e.SET_REGISTERED_EXPRESS_PAYMENT_METHODS="set_registered_express_payment_methods",e.SET_SHOULD_SAVE_PAYMENT_METHOD="set_should_save_payment_method",e.SET_ACTIVE_PAYMENT_METHOD="set_active_payment_method"}(a||(a={}));const i={currentStatus:s.PRISTINE,shouldSavePaymentMethod:!1,activePaymentMethod:"",paymentMethodData:{payment_method:""},errorMessage:"",paymentMethods:{},expressPaymentMethods:{}},l={setPaymentStatus:()=>({pristine:()=>{},started:()=>{},processing:()=>{},completed:()=>{},error:e=>{},failed:(e,t)=>{},success:(e,t)=>{}}),currentStatus:{isPristine:!0,isStarted:!1,isProcessing:!1,isFinished:!1,hasError:!1,hasFailed:!1,isSuccessful:!1,isDoingExpressPayment:!1},paymentStatuses:s,paymentMethodData:{},errorMessage:"",activePaymentMethod:"",activeSavedToken:"",setActivePaymentMethod:()=>{},customerPaymentMethods:{},paymentMethods:{},expressPaymentMethods:{},paymentMethodsInitialized:!1,expressPaymentMethodsInitialized:!1,onPaymentProcessing:()=>()=>()=>{},setExpressPaymentError:()=>{},isExpressPaymentMethodActive:!1,setShouldSavePayment:()=>{},shouldSavePayment:!1};var u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,{type:t,paymentMethodData:c,shouldSavePaymentMethod:r=!1,errorMessage:o="",paymentMethods:n={},paymentMethod:l=""}=arguments.length>1?arguments[1]:void 0;switch(t){case s.PRISTINE:return{...i,...e,errorMessage:"",currentStatus:s.PRISTINE};case s.STARTED:return{...e,currentStatus:s.STARTED};case s.ERROR:return e.currentStatus!==s.ERROR?{...e,currentStatus:s.ERROR,errorMessage:o||e.errorMessage}:e;case s.FAILED:return e.currentStatus!==s.FAILED?{...e,currentStatus:s.FAILED,paymentMethodData:c||e.paymentMethodData,errorMessage:o||e.errorMessage}:e;case s.SUCCESS:return e.currentStatus!==s.SUCCESS?{...e,currentStatus:s.SUCCESS,paymentMethodData:c||e.paymentMethodData}:e;case s.PROCESSING:return e.currentStatus!==s.PROCESSING?{...e,currentStatus:s.PROCESSING,errorMessage:""}:e;case s.COMPLETE:return e.currentStatus!==s.COMPLETE?{...e,currentStatus:s.COMPLETE}:e;case a.SET_REGISTERED_PAYMENT_METHODS:return{...e,paymentMethods:n};case a.SET_REGISTERED_EXPRESS_PAYMENT_METHODS:return{...e,expressPaymentMethods:n};case a.SET_SHOULD_SAVE_PAYMENT_METHOD:return{...e,shouldSavePaymentMethod:r};case a.SET_ACTIVE_PAYMENT_METHOD:return{...e,activePaymentMethod:l,paymentMethodData:c||e.paymentMethodData}}},d=c(1),p=c(42),b=c(51),m=c(2),g=c(118),h=c(52),O=c.n(h),_=c(59),j=c(74),E=c(39),k=c(36),y=c(82);const f=(e,t,c,o)=>{const[s,a]=Object(r.useState)(!1),{isEditor:i}=Object(_.b)(),{selectedRates:l}=Object(y.a)(),{billingAddress:u,shippingAddress:p}=Object(j.b)(),h=Object(b.a)(l),k=Object(b.a)(c),f=Object(E.a)(),{cartTotals:w,cartIsLoading:v,cartNeedsShipping:S,paymentRequirements:C}=f,N=Object(r.useRef)({cart:f,cartTotals:w,cartNeedsShipping:S,billingData:u,billingAddress:u,shippingAddress:p,selectedShippingMethods:h,paymentRequirements:C}),{createErrorNotice:P}=Object(n.useDispatch)("core/notices");Object(r.useEffect)(()=>{N.current={cart:f,cartTotals:w,cartNeedsShipping:S,get billingData(){return O()("billingData",{alternative:"billingAddress",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-blocks/pull/6369"}),this.billingAddress},billingAddress:u,shippingAddress:p,selectedShippingMethods:h,paymentRequirements:C}},[f,w,S,u,p,h,C]);const R=Object(r.useCallback)(async()=>{let c={};const r=e=>{c={...c,[e.name]:e}};for(let e=0;e<k.length;e++){const c=k[e],n=t[c];if(n)try{const e=!!i||await Promise.resolve(n.canMakePayment(N.current));if(e){if("object"==typeof e&&null!==e&&e.error)throw new Error(e.error.message);r(n)}}catch(e){if(m.CURRENT_USER_IS_ADMIN||i){const t=Object(d.sprintf)(
/* translators: %s the id of the payment method being registered (bank transfer, cheque...) */
Object(d.__)("There was an error registering the payment method with id '%s': ","woo-gutenberg-products-block"),n.paymentMethodId);P(`${t} ${e}`,{context:o,id:`wc-${n.paymentMethodId}-registration-error`})}}}e(c),a(!0)},[P,e,i,o,k,t]),T=Object(g.a)(R,500,{leading:!0});return Object(r.useEffect)(()=>{v||T()},[T,f,h,u,v]),s},w=e=>({type:e}),v=e=>({type:s.ERROR,errorMessage:e}),S=e=>{let{errorMessage:t,paymentMethodData:c}=e;return{type:s.FAILED,errorMessage:t,paymentMethodData:c}},C=e=>{let{paymentMethodData:t}=e;return{type:s.SUCCESS,paymentMethodData:t}},N=e=>({type:a.SET_REGISTERED_PAYMENT_METHODS,paymentMethods:e}),P=e=>({type:a.SET_REGISTERED_EXPRESS_PAYMENT_METHODS,paymentMethods:e}),R=e=>({type:a.SET_SHOULD_SAVE_PAYMENT_METHOD,shouldSavePaymentMethod:e}),T=(e,t)=>({type:a.SET_ACTIVE_PAYMENT_METHOD,paymentMethod:e,paymentMethodData:t});var A=c(92),x=c(55),I=c(97),M=c(259);var D=c(260),B=c(107);const L=Object(r.createContext)(l),F=()=>Object(r.useContext)(L),U=e=>{let{children:t}=e;const{isProcessing:c,isIdle:a,isCalculating:l,hasError:d}=Object(x.b)(),{isEditor:b,getPreviewData:g}=Object(_.b)(),{setValidationErrors:h}=Object(B.b)(),{createErrorNotice:O,removeNotice:j}=Object(n.useDispatch)("core/notices"),{isSuccessResponse:E,isErrorResponse:y,isFailResponse:F,noticeContexts:U}=Object(k.d)(),[V,$]=Object(r.useReducer)(I.b,{}),{onPaymentProcessing:q}=(e=>Object(r.useMemo)(()=>({onPaymentProcessing:Object(M.a)("payment_processing",e)}),[e]))($),G=Object(r.useRef)(V);Object(r.useEffect)(()=>{G.current=V},[V]);const[H,z]=Object(r.useReducer)(u,i),{dispatchActions:Y,setPaymentStatus:W}=(e=>{const{setBillingAddress:t,setShippingAddress:c}=Object(A.a)();return{dispatchActions:Object(r.useMemo)(()=>({setRegisteredPaymentMethods:t=>{e(N(t))},setRegisteredExpressPaymentMethods:t=>{e(P(t))},setShouldSavePayment:t=>{e(R(t))},setActivePaymentMethod:function(t){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(T(t,c))}}),[e]),setPaymentStatus:Object(r.useCallback)(()=>({pristine:()=>e(w(s.PRISTINE)),started:()=>e(w(s.STARTED)),processing:()=>e(w(s.PROCESSING)),completed:()=>e(w(s.COMPLETE)),error:t=>e(v(t)),failed:function(c,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;o&&t(o),e(S({errorMessage:c||"",paymentMethodData:r||{}}))},success:function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;o&&t(o),void 0!==typeof n&&null!=n&&n.address&&c(n.address),e(C({paymentMethodData:r}))}}),[e,t,c])}})(z),K=(e=>{const t=Object(p.getPaymentMethods)(),{noticeContexts:c}=Object(k.d)(),r=new Set([...Object(m.getSetting)("paymentGatewaySortOrder",[]),...Object.keys(t)]);return f(e,t,Array.from(r),c.PAYMENTS)})(Y.setRegisteredPaymentMethods),X=(e=>{const t=Object(p.getExpressPaymentMethods)(),{noticeContexts:c}=Object(k.d)();return f(e,t,Object.keys(t),c.EXPRESS_PAYMENTS)})(Y.setRegisteredExpressPaymentMethods),Q=Object(r.useMemo)(()=>b?g("previewSavedPaymentMethods"):K?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0===Object.keys(e).length)return{};const t=Object(m.getSetting)("customerPaymentMethods",{}),c=Object.keys(t),r={};return c.forEach(c=>{const o=t[c].filter(t=>{var c;let{method:{gateway:r}}=t;return r in e&&(null===(c=e[r].supports)||void 0===c?void 0:c.showSavedCards)});o.length&&(r[c]=o)}),r}(H.paymentMethods):{},[b,g,K,H.paymentMethods]),J=Object(r.useCallback)(e=>{e?O(e,{id:"wc-express-payment-error",context:U.EXPRESS_PAYMENTS}):j("wc-express-payment-error",U.EXPRESS_PAYMENTS)},[O,U.EXPRESS_PAYMENTS,j]),Z=Object.keys(H.expressPaymentMethods).includes(H.activePaymentMethod),ee=Object(r.useMemo)(()=>({isPristine:H.currentStatus===s.PRISTINE,isStarted:H.currentStatus===s.STARTED,isProcessing:H.currentStatus===s.PROCESSING,isFinished:[s.ERROR,s.FAILED,s.SUCCESS].includes(H.currentStatus),hasError:H.currentStatus===s.ERROR,hasFailed:H.currentStatus===s.FAILED,isSuccessful:H.currentStatus===s.SUCCESS,isDoingExpressPayment:H.currentStatus!==s.PRISTINE&&Z}),[H.currentStatus,Z]);Object(r.useEffect)(()=>{const e=Object.keys(H.paymentMethods);if(!K||!e.length)return;const t=[...e,...Object.keys(H.expressPaymentMethods)];if(H.activePaymentMethod&&t.includes(H.activePaymentMethod))return;W().pristine();const c=Object.keys(Q).flatMap(e=>Q[e])[0]||void 0;if(c){const e=c.tokenId.toString(),t=c.method.gateway,r=`wc-${t}-payment-token`;Y.setActivePaymentMethod(t,{token:e,payment_method:t,[r]:e,isSavedToken:!0})}else Y.setActivePaymentMethod(Object.keys(H.paymentMethods)[0])},[K,H.paymentMethods,H.expressPaymentMethods,Y,W,H.activePaymentMethod,Q]),Object(r.useEffect)(()=>{!c||d||l||ee.isFinished||W().processing()},[c,d,l,ee.isFinished,W]),Object(r.useEffect)(()=>{a&&!ee.isSuccessful&&W().pristine()},[a,ee.isSuccessful,W]),Object(r.useEffect)(()=>{d&&ee.isSuccessful&&W().pristine()},[d,ee.isSuccessful,W]),Object(r.useEffect)(()=>{ee.isProcessing&&(j("wc-payment-error",U.PAYMENTS),Object(D.b)(G.current,"payment_processing",{}).then(e=>{let t,c;var r,o,n,s,a,i;if(e.forEach(e=>{E(e)&&(t=e),(y(e)||F(e))&&(c=e)}),t&&!c)W().success(null===(r=t)||void 0===r||null===(o=r.meta)||void 0===o?void 0:o.paymentMethodData,null===(n=t)||void 0===n||null===(s=n.meta)||void 0===s?void 0:s.billingAddress,null===(a=t)||void 0===a||null===(i=a.meta)||void 0===i?void 0:i.shippingData);else if(c&&F(c)){var l,u,d,p,b,m;c.message&&c.message.length&&O(c.message,{id:"wc-payment-error",isDismissible:!1,context:(null===(m=c)||void 0===m?void 0:m.messageContext)||U.PAYMENTS}),W().failed(null===(l=c)||void 0===l?void 0:l.message,null===(u=c)||void 0===u||null===(d=u.meta)||void 0===d?void 0:d.paymentMethodData,null===(p=c)||void 0===p||null===(b=p.meta)||void 0===b?void 0:b.billingAddress)}else if(c){var g,_;c.message&&c.message.length&&O(c.message,{id:"wc-payment-error",isDismissible:!1,context:(null===(_=c)||void 0===_?void 0:_.messageContext)||U.PAYMENTS}),W().error(c.message),h(null===(g=c)||void 0===g?void 0:g.validationErrors)}else W().success()}))},[ee.isProcessing,h,W,j,U.PAYMENTS,E,F,y,O]);const te="object"==typeof H.paymentMethodData&&Object(o.b)(H.paymentMethodData,"token")?H.paymentMethodData.token+"":"",ce={setPaymentStatus:W,currentStatus:ee,paymentStatuses:s,paymentMethodData:H.paymentMethodData,errorMessage:H.errorMessage,activePaymentMethod:H.activePaymentMethod,activeSavedToken:te,setActivePaymentMethod:Y.setActivePaymentMethod,onPaymentProcessing:q,customerPaymentMethods:Q,paymentMethods:H.paymentMethods,expressPaymentMethods:H.expressPaymentMethods,paymentMethodsInitialized:K,expressPaymentMethodsInitialized:X,setExpressPaymentError:J,isExpressPaymentMethodActive:Z,shouldSavePayment:H.shouldSavePaymentMethod,setShouldSavePayment:Y.setShouldSavePayment};return Object(r.createElement)(L.Provider,{value:ce},t)}},,,,,,,function(e,t,c){"use strict";c.d(t,"b",(function(){return s})),c.d(t,"a",(function(){return a}));var r=c(51),o=c(173);const n=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{paymentMethods:t,expressPaymentMethods:c,paymentMethodsInitialized:n,expressPaymentMethodsInitialized:s}=Object(o.b)(),a=Object(r.a)(t),i=Object(r.a)(c);return{paymentMethods:e?i:a,isInitialized:e?s:n}},s=()=>n(!1),a=()=>n(!0)},,function(e,t){},,,,,,,,,,,function(e,t){},,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,function(e,t,c){"use strict";var r=c(0),o=c(1),n=c(301),s=c(180),a=c(59),i=c(173),l=c(52),u=c.n(l),d=c(168);t.a=()=>{const{isEditor:e}=Object(a.b)(),{setActivePaymentMethod:t,setExpressPaymentError:c,activePaymentMethod:l,paymentMethodData:p,setPaymentStatus:b}=Object(i.b)(),m=Object(n.a)(),{paymentMethods:g}=Object(s.a)(),h=Object(r.useRef)(l),O=Object(r.useRef)(p),_=Object(r.useCallback)(e=>()=>{h.current=l,O.current=p,b().started(),t(e)},[l,p,t,b]),j=Object(r.useCallback)(()=>{b().pristine(),t(h.current,O.current)},[t,b]),E=Object(r.useCallback)(e=>{b().error(e),c(e),t(h.current,O.current)},[t,b,c]),k=Object(r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";u()("Express Payment Methods should use the provided onError handler instead.",{alternative:"onError",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/4228"}),e?E(e):c("")}),[c,E]),y=Object.entries(g),f=y.length>0?y.map(t=>{let[c,o]=t;const n=e?o.edit:o.content;return Object(r.isValidElement)(n)?Object(r.createElement)("li",{key:c,id:"express-payment-method-"+c},Object(r.cloneElement)(n,{...m,onClick:_(c),onClose:j,onError:E,setExpressPaymentError:k})):null}):Object(r.createElement)("li",{key:"noneRegistered"},Object(o.__)("No registered Payment Methods","woo-gutenberg-products-block"));return Object(r.createElement)(d.a,{isEditor:e},Object(r.createElement)("ul",{className:"wc-block-components-express-payment__event-buttons"},f))}},function(e,t,c){"use strict";c.d(t,"a",(function(){return l}));var r=c(1),o=c(9),n=c(17),s=c(13),a=c(39),i=c(107);const l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const{cartCoupons:t,cartIsLoading:c}=Object(a.a)(),{createErrorNotice:l}=Object(o.useDispatch)("core/notices"),{createNotice:u}=Object(o.useDispatch)("core/notices"),{setValidationErrors:d}=Object(i.b)(),{applyCoupon:p,removeCoupon:b,isApplyingCoupon:m,isRemovingCoupon:g}=Object(o.useSelect)((e,t)=>{let{dispatch:c}=t;const r=e(n.CART_STORE_KEY),o=c(n.CART_STORE_KEY);return{applyCoupon:o.applyCoupon,removeCoupon:o.removeCoupon,isApplyingCoupon:r.isApplyingCoupon(),isRemovingCoupon:r.isRemovingCoupon(),receiveApplyingCoupon:o.receiveApplyingCoupon}},[l,u]),h=t=>{p(t).then(c=>{!0===c&&u("info",Object(r.sprintf)(
/* translators: %s coupon code. */
Object(r.__)('Coupon code "%s" has been applied to your cart.',"woo-gutenberg-products-block"),t),{id:"coupon-form",type:"snackbar",context:e})}).catch(e=>{d({coupon:{message:Object(s.decodeEntities)(e.message),hidden:!1}}),receiveApplyingCoupon("")})},O=t=>{b(t).then(c=>{!0===c&&u("info",Object(r.sprintf)(
/* translators: %s coupon code. */
Object(r.__)('Coupon code "%s" has been removed from your cart.',"woo-gutenberg-products-block"),t),{id:"coupon-form",type:"snackbar",context:e})}).catch(t=>{l(t.message,{id:"coupon-form",context:e}),receiveApplyingCoupon("")})};return{appliedCoupons:t,isLoading:c,applyCoupon:h,removeCoupon:O,isApplyingCoupon:m,isRemovingCoupon:g}}},function(e,t,c){"use strict";var r=c(0),o=c(1),n=c(3),s=c(9),a=c(27);t.a=e=>{let{setPageId:t,pageId:c,labels:i}=e;const l=Object(s.useSelect)(e=>e("core").getEntityRecords("postType","page",{status:"publish",orderby:"title",order:"asc",per_page:100}),[])||null;return l?Object(r.createElement)(n.PanelBody,{title:i.title},Object(r.createElement)(n.SelectControl,{label:Object(o.__)("Link to","woo-gutenberg-products-block"),value:c,options:[{label:i.default,value:0},...l.map(e=>({label:Object(a.a)(e,l),value:parseInt(e.id,10)}))],onChange:e=>t(parseInt(e,10))})):null}},function(e,t){e.exports=window.wp.plugins},,function(e,t,c){"use strict";var r=c(0),o=c(1),n=c(48),s=c(71),a=c(18),i=c(430),l=c(39),u=c(59),d=c(4),p=c.n(d),b=c(13),m=c(29),g=c(116),h=c(133),O=c.n(h);const _=["a","b","em","i","strong","p","br"],j=["target","href","rel","name","download"],E=(e,t)=>{const c=(null==t?void 0:t.tags)||_,r=(null==t?void 0:t.attr)||j;return{__html:O.a.sanitize(e,{ALLOWED_TAGS:c,ALLOWED_ATTR:r})}};var k=c(169),y=c(142),f=c(26),w=c(40),v=c(2);const S=e=>{const t=Object(v.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(e.price,10)+parseInt(e.taxes,10):parseInt(e.price,10);return{label:Object(b.decodeEntities)(e.name),value:e.rate_id,description:Object(r.createElement)(r.Fragment,null,Number.isFinite(t)&&Object(r.createElement)(w.a,{currency:Object(f.getCurrencyFromPriceResponse)(e),value:t}),Number.isFinite(t)&&e.delivery_time?" — ":null,Object(b.decodeEntities)(e.delivery_time))}};var C=e=>{let{className:t="",noResultsMessage:c,onSelectRate:o,rates:n,renderOption:s=S,selectedRate:a}=e;const i=(null==a?void 0:a.rate_id)||"",[l,u]=Object(r.useState)(i);if(Object(r.useEffect)(()=>{i&&u(i)},[i]),0===n.length)return c;if(n.length>1)return Object(r.createElement)(k.a,{className:t,onChange:e=>{u(e),o(e)},selected:l,options:n.map(s)});const{label:d,secondaryLabel:p,description:b,secondaryDescription:m}=s(n[0]);return Object(r.createElement)(y.a,{label:d,secondaryLabel:p,description:b,secondaryDescription:m})};c(281);var N=e=>{let{packageId:t,className:c="",noResultsMessage:n,renderOption:s,packageData:i,collapsible:l=!1,collapse:u=!1,showItems:d=!1}=e;const{selectShippingRate:h}=Object(g.a)(),O=Object(r.createElement)(r.Fragment,null,(d||l)&&Object(r.createElement)("div",{className:"wc-block-components-shipping-rates-control__package-title",dangerouslySetInnerHTML:E(i.name)}),d&&Object(r.createElement)("ul",{className:"wc-block-components-shipping-rates-control__package-items"},Object.values(i.items).map(e=>{const t=Object(b.decodeEntities)(e.name),c=e.quantity;return Object(r.createElement)("li",{key:e.key,className:"wc-block-components-shipping-rates-control__package-item"},Object(r.createElement)(m.a,{label:c>1?`${t} × ${c}`:""+t,screenReaderLabel:Object(o.sprintf)(
/* translators: %1$s name of the product (ie: Sunglasses), %2$d number of units in the current cart package */
Object(o._n)("%1$s (%2$d unit)","%1$s (%2$d units)",c,"woo-gutenberg-products-block"),t,c)}))}))),_=Object(r.createElement)(C,{className:c,noResultsMessage:n,rates:i.shipping_rates,onSelectRate:e=>h(e,t),selectedRate:i.shipping_rates.find(e=>e.selected),renderOption:s});return l?Object(r.createElement)(a.Panel,{className:"wc-block-components-shipping-rates-control__package",initialOpen:!u,title:O},_):Object(r.createElement)("div",{className:p()("wc-block-components-shipping-rates-control__package",c)},O,_)};const P=e=>{let{packages:t,collapse:c,showItems:o,collapsible:n,noResultsMessage:s,renderOption:a}=e;return t.length?Object(r.createElement)(r.Fragment,null,t.map(e=>{let{package_id:i,...l}=e;return Object(r.createElement)(N,{key:i,packageId:i,packageData:l,collapsible:!!n,collapse:!!c,showItems:o||t.length>1,noResultsMessage:s,renderOption:a})})):null};t.a=e=>{let{shippingRates:t,isLoadingRates:c,className:d,collapsible:p=!1,noResultsMessage:b,renderOption:m,context:g}=e;Object(r.useEffect)(()=>{if(c)return;const e=Object(i.a)(t),r=Object(i.b)(t);1===e?Object(n.speak)(Object(o.sprintf)(
/* translators: %d number of shipping options found. */
Object(o._n)("%d shipping option was found.","%d shipping options were found.",r,"woo-gutenberg-products-block"),r)):Object(n.speak)(Object(o.sprintf)(
/* translators: %d number of shipping packages packages. */
Object(o._n)("Shipping option searched for %d package.","Shipping options searched for %d packages.",e,"woo-gutenberg-products-block"),e)+" "+Object(o.sprintf)(
/* translators: %d number of shipping options available. */
Object(o._n)("%d shipping option was found","%d shipping options were found",r,"woo-gutenberg-products-block"),r))},[c,t]);const{extensions:h,receiveCart:O,..._}=Object(l.a)(),j={className:d,collapsible:p,noResultsMessage:b,renderOption:m,extensions:h,cart:_,components:{ShippingRatesControlPackage:N},context:g,shippingRates:t},{isEditor:E}=Object(u.b)();return Object(r.createElement)(s.a,{isLoading:c,screenReaderLabel:Object(o.__)("Loading shipping rates…","woo-gutenberg-products-block"),showSpinner:!0},E?Object(r.createElement)(P,{packages:t,noResultsMessage:b,renderOption:m}):Object(r.createElement)(r.Fragment,null,Object(r.createElement)(a.ExperimentalOrderShippingPackages.Slot,j),Object(r.createElement)(a.ExperimentalOrderShippingPackages,null,Object(r.createElement)(P,{showItems:t.length>1,packages:t,noResultsMessage:b,renderOption:m}))))}},,,,,,,,,function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var r=c(0),o=c(107);c(182);const n=e=>{let{errorMessage:t="",propertyName:c="",elementId:n=""}=e;const{getValidationError:s,getValidationErrorId:a}=Object(o.b)();if(!t||"string"!=typeof t){const e=s(c)||{};if(!e.message||e.hidden)return null;t=e.message}return Object(r.createElement)("div",{className:"wc-block-components-validation-error",role:"alert"},Object(r.createElement)("p",{id:a(n)},t))}},function(e,t,c){"use strict";var r=c(6),o=c.n(r),n=c(0),s=c(13),a=c(2);c(197),t.a=e=>{let{image:t={},fallbackAlt:c=""}=e;const r=t.thumbnail?{src:t.thumbnail,alt:Object(s.decodeEntities)(t.alt)||c||"Product Image"}:{src:a.PLACEHOLDER_IMG_SRC,alt:""};return Object(n.createElement)("img",o()({className:"wc-block-components-product-image"},r,{alt:r.alt}))}},function(e,t,c){"use strict";var r=c(0),o=c(1),n=c(81);t.a=()=>Object(r.createElement)(n.a,{className:"wc-block-components-product-backorder-badge"},Object(o.__)("Available on backorder","woo-gutenberg-products-block"))},function(e,t,c){"use strict";var r=c(0),o=c(1),n=c(81);t.a=e=>{let{lowStockRemaining:t}=e;return t?Object(r.createElement)(n.a,{className:"wc-block-components-product-low-stock-badge"},Object(o.sprintf)(
/* translators: %d stock amount (number of items in stock for product) */
Object(o.__)("%d left in stock","woo-gutenberg-products-block"),t)):null}},function(e,t,c){"use strict";var r=c(0),o=c(7),n=c(13);c(200);var s=e=>{let{details:t=[]}=e;return Array.isArray(t)?(t=t.filter(e=>!e.hidden),0===t.length?null:Object(r.createElement)("ul",{className:"wc-block-components-product-details"},t.map(e=>{const t=(null==e?void 0:e.key)||e.name||"",c=t?"wc-block-components-product-details__"+Object(o.kebabCase)(t):"";return Object(r.createElement)("li",{key:t+(e.display||e.value),className:c},t&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",{className:"wc-block-components-product-details__name"},Object(n.decodeEntities)(t),":")," "),Object(r.createElement)("span",{className:"wc-block-components-product-details__value"},Object(n.decodeEntities)(e.display||e.value)))}))):null},a=c(121),i=c(22),l=e=>{let{className:t,shortDescription:c="",fullDescription:o=""}=e;const n=c||o;return n?Object(r.createElement)(a.a,{className:t,source:n,maxLength:15,countType:i.o.wordCountType||"words"}):null};c(199),t.a=e=>{let{shortDescription:t="",fullDescription:c="",itemData:o=[],variation:n=[]}=e;return Object(r.createElement)("div",{className:"wc-block-components-product-metadata"},Object(r.createElement)(l,{className:"wc-block-components-product-metadata__description",shortDescription:t,fullDescription:c}),Object(r.createElement)(s,{details:o}),Object(r.createElement)(s,{details:n.map(e=>{let{attribute:t="",value:c}=e;return{key:t,value:c}})}))}},,,function(e,t,c){"use strict";c.d(t,"a",(function(){return g}));var r=c(6),o=c.n(r),n=c(0),s=c(9),a=c(4),i=c.n(a),l=c(304),u=c(133),d=(c(193),c(152));const p=["a","b","em","i","strong","p","br"],b=["target","href","rel","name","download"],m=e=>{let{status:t="default"}=e;switch(t){case"error":return"woocommerce-error";case"success":return"woocommerce-message";case"info":case"warning":return"woocommerce-info"}return""},g=e=>{let{className:t,context:c="default",additionalNotices:r=[]}=e;const{isSuppressed:a}=Object(d.b)(),{notices:g}=Object(s.useSelect)(e=>({notices:e("core/notices").getNotices(c)})),{removeNotice:h}=Object(s.useDispatch)("core/notices"),O=g.filter(e=>"snackbar"!==e.type).concat(r);if(!O.length)return null;const _=i()(t,"wc-block-components-notices");return a?null:Object(n.createElement)("div",{className:_},O.map(e=>{return Object(n.createElement)(l.a,o()({key:"store-notice-"+e.id},e,{className:i()("wc-block-components-notices__notice",m(e)),onRemove:()=>{e.isDismissible&&h(e.id,c)}}),Object(n.createElement)("span",{dangerouslySetInnerHTML:(t=e.content,{__html:Object(u.sanitize)(t,{ALLOWED_TAGS:p,ALLOWED_ATTR:b})})}));var t}))}},,,,,function(e,t,c){"use strict";var r=c(6),o=c.n(r),n=c(0),s=c(4),a=c.n(s),i=c(1),l=c(119),u=c(536);c(196);var d=e=>{let{text:t,screenReaderText:c="",element:r="li",className:s="",radius:i="small",children:l=null,...u}=e;const d=r,p=a()(s,"wc-block-components-chip","wc-block-components-chip--radius-"+i),b=Boolean(c&&c!==t);return Object(n.createElement)(d,o()({className:p},u),Object(n.createElement)("span",{"aria-hidden":b,className:"wc-block-components-chip__text"},t),b&&Object(n.createElement)("span",{className:"screen-reader-text"},c),l)};t.a=e=>{let{ariaLabel:t="",className:c="",disabled:r=!1,onRemove:s=(()=>{}),removeOnAnyClick:p=!1,text:b,screenReaderText:m="",...g}=e;const h=p?"span":"button";if(!t){const e=m&&"string"==typeof m?m:b;t="string"!=typeof e?
/* translators: Remove chip. */
Object(i.__)("Remove","woo-gutenberg-products-block"):Object(i.sprintf)(
/* translators: %s text of the chip to remove. */
Object(i.__)('Remove "%s"',"woo-gutenberg-products-block"),e)}const O={"aria-label":t,disabled:r,onClick:s,onKeyDown:e=>{"Backspace"!==e.key&&"Delete"!==e.key||s()}},_=p?O:{},j=p?{"aria-hidden":!0}:O;return Object(n.createElement)(d,o()({},g,_,{className:a()(c,"is-removable"),element:p?"button":g.element,screenReaderText:m,text:b}),Object(n.createElement)(h,o()({className:"wc-block-components-chip__remove"},j),Object(n.createElement)(l.a,{className:"wc-block-components-chip__remove-icon",icon:u.a,size:16})))}},,function(e){e.exports=JSON.parse('{"name":"woocommerce/checkout","version":"1.0.0","title":"Checkout","description":"Display a checkout form so your customers can submit orders.","category":"woocommerce","keywords":["WooCommerce"],"supports":{"align":["wide"],"html":false,"multiple":false},"attributes":{"isPreview":{"type":"boolean","default":false,"save":false},"showCompanyField":{"type":"boolean","default":false},"requireCompanyField":{"type":"boolean","default":false},"allowCreateAccount":{"type":"boolean","default":false},"showApartmentField":{"type":"boolean","default":true},"showPhoneField":{"type":"boolean","default":true},"requirePhoneField":{"type":"boolean","default":false}},"textdomain":"woo-gutenberg-products-block","apiVersion":2}')},,,,,,,,function(e,t,c){"use strict";c.d(t,"c",(function(){return s})),c.d(t,"b",(function(){return a})),c.d(t,"a",(function(){return i}));const r=window.CustomEvent||null,o=(e,t)=>{let{bubbles:c=!1,cancelable:o=!1,element:n,detail:s={}}=t;if(!r)return;n||(n=document.body);const a=new r(e,{bubbles:c,cancelable:o,detail:s});n.dispatchEvent(a)};let n;const s=()=>{n&&clearTimeout(n),n=setTimeout(()=>{o("wc_fragment_refresh",{bubbles:!0,cancelable:!0})},50)},a=e=>{let{preserveCartData:t=!1}=e;o("wc-blocks_added_to_cart",{bubbles:!0,cancelable:!0,detail:{preserveCartData:t}})},i=function(e,t){let c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof jQuery)return()=>{};const n=()=>{o(t,{bubbles:c,cancelable:r})};return jQuery(document).on(e,n),()=>jQuery(document).off(e,n)}},function(e,t,c){"use strict";c.d(t,"b",(function(){return n})),c.d(t,"a",(function(){return s}));var r=c(94),o=(c(15),c(2));const n=(e,t)=>Object.keys(o.defaultAddressFields).every(c=>e[c]===t[c]),s=e=>{const t=Object.keys(o.defaultAddressFields),c=Object(r.a)(t,{},e.country),n=Object.assign({},e);return c.forEach(t=>{let{key:c="",hidden:r=!1}=t;r&&((e,t)=>e in t)(c,e)&&(n[c]="")}),n}},function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var r=c(97);const o=(e,t)=>function(c){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const n=r.a.addEventCallback(e,c,o);return t(n),()=>{t(r.a.removeEventCallback(e,n.id))}}},function(e,t,c){"use strict";c.d(t,"a",(function(){return n})),c.d(t,"b",(function(){return s}));const r=(e,t)=>e[t]?Array.from(e[t].values()).sort((e,t)=>e.priority-t.priority):[];var o=c(36);const n=async(e,t,c)=>{const o=r(e,t),n=[];for(const e of o)try{const t=await Promise.resolve(e.callback(c));"object"==typeof t&&n.push(t)}catch(e){console.error(e)}return!n.length||n},s=async(e,t,c)=>{const n=[],s=r(e,t);for(const e of s)try{const t=await Promise.resolve(e.callback(c));if("object"!=typeof t||null===t)continue;if(!t.hasOwnProperty("type"))throw new Error("Returned objects from event emitter observers must return an object with a type property");if(Object(o.a)(t)||Object(o.b)(t))return n.push(t),n;n.push(t)}catch(e){return console.error(e),n.push({type:"error"}),n}return n}},,,,,,function(e,t,c){"use strict";var r=c(0),o=c(11);const n=Object(r.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)("path",{fill:"none",d:"M0 0h24v24H0V0z"}),Object(r.createElement)("path",{d:"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}));t.a=n},,,,function(e,t){},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,c){"use strict";var r=c(0),o=c(10),n=c(5),s=c(46),a=c(3),i=c(1),l=c(4),u=c.n(l);c(286);const d=[],p=e=>{let{block:t}=e;const[c,o]=(e=>{const[t,c]=((e,t)=>{const[c,o]=Object(r.useState)(()=>{const c=window.localStorage.getItem(e);if(c)try{return JSON.parse(c)}catch{console.error(`Value for key '${e}' could not be retrieved from localStorage because it can't be parsed.`)}return t});return Object(r.useEffect)(()=>{try{window.localStorage.setItem(e,JSON.stringify(c))}catch{console.error(`Value for key '${e}' could not be saved in localStorage because it can't be converted into a string.`)}},[e,c]),[c,o]})("wc-blocks_dismissed_sidebar_compatibility_notices",d),[o,n]=Object(r.useState)(!1),s=t.includes(e);return Object(r.useEffect)(()=>{n(!s)},[s]),[o,()=>{const r=new Set(t);r.add(e),c([...r])}]})(t),n=Object(r.createInterpolateElement)(Object(i.__)("The Cart & Checkout Blocks are a beta feature to optimize for faster checkout. To make sure this feature is right for your store, <a>review the list of compatible extensions</a>.","woo-gutenberg-products-block"),{a:Object(r.createElement)(a.ExternalLink,{href:"https://woocommerce.com/document/cart-checkout-blocks-support-status/#section-3"})});return Object(r.createElement)(a.Notice,{onRemove:o,className:u()(["wc-blocks-sidebar-compatibility-notice",{"is-hidden":!c}])},n)};var b=c(170),m=c(14),g=c.n(m),h=c(171),O=c(9),_=c(22),j=c(2);function E(e){let{block:t}=e;const c="checkout"===t?_.e:_.c,o="checkout"===t?"woocommerce_checkout_page_id":"woocommerce_cart_page_id",n="checkout"===t?Object(i.__)("If you would like to use this block as your default checkout, update your page settings","woo-gutenberg-products-block"):Object(i.__)("If you would like to use this block as your default cart, update your page settings","woo-gutenberg-products-block"),{saveEntityRecord:s}=Object(O.useDispatch)(h.store),{editPost:l,savePost:u}=Object(O.useDispatch)(b.store),{slug:d,isLoadingPage:p,postPublished:m,currentPostId:j}=Object(O.useSelect)(e=>{var r;const{getEntityRecord:o,isResolving:n}=e(h.store),{isCurrentPostPublished:s,getCurrentPostId:a}=e(b.store);return{slug:(null===(r=o("postType","page",c))||void 0===r?void 0:r.slug)||t,isLoadingPage:n("getEntityRecord",["postType","page",c]),postPublished:s(),currentPostId:a()}},[]),[E,k]=Object(r.useState)("pristine"),y=Object(r.useCallback)(()=>{k("updating"),Promise.resolve().then(()=>g()({path:"/wc/v3/settings/advanced/"+o,method:"GET"})).catch(e=>{"rest_setting_setting_invalid"===e.code&&k("error")}).then(()=>{if(!m)return l({status:"publish"}),u()}).then(()=>g()({path:"/wc/v3/settings/advanced/"+o,method:"POST",data:{value:j.toString()}})).then(()=>{if(0!==c)return s("postType","page",{id:c,slug:d+"-2"})}).then(()=>l({slug:d})).then(()=>u()).then(()=>k("updated"))},[m,l,u,o,j,c,s,d]);return j===c||"dismissed"===E?null:Object(r.createElement)(a.Notice,{className:"wc-default-page-notice",status:"updated"===E?"success":"warning",onRemove:()=>k("dismissed"),spokenMessage:"updated"===E?Object(i.__)("Page settings updated","woo-gutenberg-products-block"):n},"updated"===E?Object(i.__)("Page settings updated","woo-gutenberg-products-block"):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("p",null,n),Object(r.createElement)(a.Button,{onClick:y,variant:"secondary",isBusy:"updating"===E,disabled:p,isSmall:!0},Object(i.__)("update your page settings","woo-gutenberg-products-block"))))}function k(e){let{block:t}=e;return Object(r.createElement)(a.Notice,{className:"wc-blocks-legacy-page-notice",isDismissible:!1,status:"warning"},Object(r.createInterpolateElement)(Object(i.sprintf)(
/* translators: %s is the block name. It will be cart or checkout. */
Object(i.__)("If you would like to use this block as your default %s you must update your <a>page settings in WooCommerce</a>.","woo-gutenberg-products-block"),t),{a:Object(r.createElement)("a",{href:Object(j.getAdminLink)("admin.php?page=wc-settings&tab=advanced"),target:"_blank",rel:"noopener noreferrer"})}))}c(285);var y=c(157);const f=Object(o.createHigherOrderComponent)(e=>t=>{const c=["woocommerce/checkout-shipping-address-block","woocommerce/checkout-billing-address-block","woocommerce/checkout-contact-information-block","woocommerce/checkout-fields-block"],{clientId:o}=t,{isCart:s,isCheckout:a,isAddressFieldBlock:i}=Object(O.useSelect)(e=>{const{getBlockParentsByBlockName:t,getBlockName:r}=e(n.store),s=t(o,["woocommerce/cart","woocommerce/checkout"]).map(r),a=r(o);return{isCart:s.includes("woocommerce/cart")||"woocommerce/cart"===a,isCheckout:s.includes("woocommerce/checkout")||"woocommerce/checkout"===a,isAddressFieldBlock:c.includes(a)}});return Object(r.createElement)(r.Fragment,null,(s||a)&&Object(r.createElement)(n.InspectorControls,null,Object(j.isWcVersion)("6.9.0",">=")?Object(r.createElement)(E,{block:a?"checkout":"cart"}):Object(r.createElement)(k,{block:a?"checkout":"cart"}),Object(r.createElement)(p,{block:a?"checkout":"cart"}),i?null:Object(r.createElement)(y.a,null)),Object(r.createElement)(e,t))},"withSidebarNotices");Object(s.hasFilter)("editor.BlockEdit","woocommerce/add/sidebar-compatibility-notice")||Object(s.addFilter)("editor.BlockEdit","woocommerce/add/sidebar-compatibility-notice",f,11)},,,function(e,t,c){"use strict";c.d(t,"a",(function(){return f}));var r=c(0),o=c(224),n=c(2),s=c(132),a=c(173),i=c(109),l=c(74),u=c(55),d=c(1),p=c(14),b=c.n(p),m=c(258),g=c(28),h=c(9);const O=(e,t,c)=>{const r=Object.keys(e).map(t=>({key:t,value:e[t]}),[]),o=`wc-${c}-new-payment-method`;return r.push({key:o,value:t}),r},_=(e,t)=>{b.a.setNonce&&"function"==typeof b.a.setNonce&&b.a.setNonce(e),null!=e&&e.get("User-ID")&&t.setCustomerId(parseInt(e.get("User-ID")||"0",10))};var j=c(107),E=c(39),k=c(152),y=()=>{const{hasError:e,onCheckoutValidationBeforeProcessing:t,dispatchActions:c,redirectUrl:o,isProcessing:n,isBeforeProcessing:s,isComplete:p,orderNotes:y,shouldCreateAccount:f,extensionData:w}=Object(u.b)(),{hasValidationErrors:v}=Object(j.b)(),{shippingErrorStatus:S}=Object(i.b)(),{billingAddress:C,shippingAddress:N}=Object(l.b)(),{cartNeedsPayment:P,cartNeedsShipping:R,receiveCart:T}=Object(E.a)(),{activePaymentMethod:A,isExpressPaymentMethodActive:x,currentStatus:I,paymentMethodData:M,expressPaymentMethods:D,paymentMethods:B,shouldSavePayment:L}=Object(a.b)(),{setIsSuppressed:F}=Object(k.b)(),{createErrorNotice:U,removeNotice:V}=Object(h.useDispatch)("core/notices"),$=Object(r.useRef)(C),q=Object(r.useRef)(N),G=Object(r.useRef)(o),[H,z]=Object(r.useState)(!1),Y=Object(r.useMemo)(()=>{var e;const t={...D,...B};return null==t||null===(e=t[A])||void 0===e?void 0:e.paymentMethodId},[A,D,B]),W=v&&!x||I.hasError||S.hasError,K=!e&&!W&&(I.isSuccessful||!P)&&n;Object(r.useEffect)(()=>{F(x)},[x,F]),Object(r.useEffect)(()=>{W===e||!n&&!s||x||c.setHasError(W)},[W,e,n,s,x,c]),Object(r.useEffect)(()=>{$.current=C,q.current=N,G.current=o},[C,N,o]);const X=Object(r.useCallback)(()=>!v&&(I.hasError?{errorMessage:Object(d.__)("There was a problem with your payment option.","woo-gutenberg-products-block")}:!S.hasError||{errorMessage:Object(d.__)("There was a problem with your shipping option.","woo-gutenberg-products-block")}),[v,I.hasError,S.hasError]);Object(r.useEffect)(()=>{let e;return x||(e=t(X,0)),()=>{x||e()}},[t,X,x]),Object(r.useEffect)(()=>{G.current&&(window.location.href=G.current)},[p]);const Q=Object(r.useCallback)(async()=>{if(H)return;z(!0),V("checkout");const e=P?{payment_method:Y,payment_data:O(M,L,A)}:{},t={billing_address:Object(m.a)($.current),customer_note:y,create_account:f,...e,extensions:{...w}};R&&(t.shipping_address=Object(m.a)(q.current)),b()({path:"/wc/store/v1/checkout",method:"POST",data:t,cache:"no-store",parse:!1}).then(e=>{if(_(e.headers,c),!e.ok)throw new Error(e);return e.json()}).then(e=>{c.setAfterProcessing(e),z(!1)}).catch(e=>{try{null!=e&&e.headers&&_(e.headers,c),e.json().then(e=>{var t,r,o;null!==(t=e.data)&&void 0!==t&&t.cart&&T(e.data.cart),U(Object(g.b)(e),{id:"checkout",context:"wc/checkout",__unstableHTML:!0}),null==e||null===(r=e.additional_errors)||void 0===r||null===(o=r.forEach)||void 0===o||o.call(r,e=>{U(e.message,{id:e.error_code,context:"wc/checkout",__unstableHTML:!0})}),c.setAfterProcessing(e)})}catch{var t;U(Object(d.sprintf)(// Translators: %s Error text.
Object(d.__)("%s Please try placing your order again.","woo-gutenberg-products-block"),null!==(t=null==e?void 0:e.message)&&void 0!==t?t:Object(d.__)("Something went wrong. Please contact us for assistance.","woo-gutenberg-products-block")),{id:"checkout",context:"wc/checkout",__unstableHTML:!0})}c.setHasError(!0),z(!1)})},[H,V,P,Y,M,L,A,y,f,w,R,c,U,T]);return Object(r.useEffect)(()=>{K&&!H&&Q()},[Q,K,H]),null};const f=e=>{let{children:t,isCart:c=!1,redirectUrl:d}=e;return Object(r.createElement)(u.a,{redirectUrl:d,isCart:c},Object(r.createElement)(l.a,null,Object(r.createElement)(i.a,null,Object(r.createElement)(a.a,null,t,Object(r.createElement)(s.a,{renderError:n.CURRENT_USER_IS_ADMIN?null:()=>null},Object(r.createElement)(o.PluginArea,{scope:"woocommerce-checkout"})),Object(r.createElement)(y,null)))))}},,,,,,,,,,function(e,t,c){"use strict";c.d(t,"a",(function(){return x}));var r=c(1),o=c(26),n=c(0),s=c(4),a=c.n(s),i=c(11),l=Object(n.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)("g",{fill:"none",fillRule:"evenodd"},Object(n.createElement)("path",{d:"M0 0h24v24H0z"}),Object(n.createElement)("path",{fill:"#000",fillRule:"nonzero",d:"M17.3 8v1c1 .2 1.4.9 1.4 1.7h-1c0-.6-.3-1-1-1-.8 0-1.3.4-1.3.9 0 .4.3.6 1.4 1 1 .2 2 .6 2 1.9 0 .9-.6 1.4-1.5 1.5v1H16v-1c-.9-.1-1.6-.7-1.7-1.7h1c0 .6.4 1 1.3 1 1 0 1.2-.5 1.2-.8 0-.4-.2-.8-1.3-1.1-1.3-.3-2.1-.8-2.1-1.8 0-.9.7-1.5 1.6-1.6V8h1.3zM12 10v1H6v-1h6zm2-2v1H6V8h8zM2 4v16h20V4H2zm2 14V6h16v12H4z"}),Object(n.createElement)("path",{stroke:"#000",strokeLinecap:"round",d:"M6 16c2.6 0 3.9-3 1.7-3-2 0-1 3 1.5 3 1 0 1-.8 2.8-.8"}))),u=c(539),d=c(525),p=c(538),b=c(119),m=c(98),g=c(33);c(274);const h={bank:u.a,bill:d.a,card:p.a,checkPayment:l};var O=e=>{let{icon:t="",text:c=""}=e;const r=!!t,o=Object(n.useCallback)(e=>r&&Object(m.a)(e)&&Object(g.b)(h,e),[r]),s=a()("wc-block-components-payment-method-label",{"wc-block-components-payment-method-label--with-icon":r});return Object(n.createElement)("span",{className:s},o(t)?Object(n.createElement)(b.a,{icon:h[t]}):t,c)},_=c(156),j=c(2),E=c(52),k=c.n(E),y=c(71),f=c(235),w=c(39),v=c(222),S=c(36),C=c(55),N=c(173),P=c(109),R=c(74);const T=(e,t)=>{const c=[],o=(t,c)=>{const r=c+"_tax",o=Object(g.b)(e,c)&&Object(m.a)(e[c])?parseInt(e[c],10):0;return{key:c,label:t,value:o,valueWithTax:o+(Object(g.b)(e,r)&&Object(m.a)(e[r])?parseInt(e[r],10):0)}};return c.push(o(Object(r.__)("Subtotal:","woo-gutenberg-products-block"),"total_items")),c.push(o(Object(r.__)("Fees:","woo-gutenberg-products-block"),"total_fees")),c.push(o(Object(r.__)("Discount:","woo-gutenberg-products-block"),"total_discount")),c.push({key:"total_tax",label:Object(r.__)("Taxes:","woo-gutenberg-products-block"),value:parseInt(e.total_tax,10),valueWithTax:parseInt(e.total_tax,10)}),t&&c.push(o(Object(r.__)("Shipping:","woo-gutenberg-products-block"),"total_shipping")),c};var A=c(82);const x=()=>{const{isCalculating:e,isComplete:t,isIdle:c,isProcessing:s,onCheckoutBeforeProcessing:a,onCheckoutValidationBeforeProcessing:i,onCheckoutAfterProcessingWithSuccess:l,onCheckoutAfterProcessingWithError:u,onSubmit:d,customerId:p}=Object(C.b)(),{currentStatus:b,activePaymentMethod:m,onPaymentProcessing:g,setExpressPaymentError:h,shouldSavePayment:E}=Object(N.b)(),{shippingErrorStatus:x,shippingErrorTypes:I,onShippingRateSuccess:M,onShippingRateFail:D,onShippingRateSelectSuccess:B,onShippingRateSelectFail:L}=Object(P.b)(),{shippingRates:F,isLoadingRates:U,selectedRates:V,isSelectingRate:$,selectShippingRate:q,needsShipping:G}=Object(A.a)(),{billingAddress:H,shippingAddress:z,setShippingAddress:Y}=Object(R.b)(),{cartItems:W,cartFees:K,cartTotals:X,extensions:Q}=Object(w.a)(),{appliedCoupons:J}=Object(v.a)(),{noticeContexts:Z,responseTypes:ee}=Object(S.d)(),te=Object(n.useRef)(T(X,G)),ce=Object(n.useRef)({label:Object(r.__)("Total","woo-gutenberg-products-block"),value:parseInt(X.total_price,10)});Object(n.useEffect)(()=>{te.current=T(X,G),ce.current={label:Object(r.__)("Total","woo-gutenberg-products-block"),value:parseInt(X.total_price,10)}},[X,G]);const re=Object(n.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";k()("setExpressPaymentError should only be used by Express Payment Methods (using the provided onError handler).",{alternative:"",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/4228"}),h(e)}),[h]);return{activePaymentMethod:m,billing:{appliedCoupons:J,billingAddress:H,billingData:H,cartTotal:ce.current,cartTotalItems:te.current,currency:Object(o.getCurrencyFromPriceResponse)(X),customerId:p,displayPricesIncludingTax:Object(j.getSetting)("displayCartPricesIncludingTax",!1)},cartData:{cartItems:W,cartFees:K,extensions:Q},checkoutStatus:{isCalculating:e,isComplete:t,isIdle:c,isProcessing:s},components:{LoadingMask:y.a,PaymentMethodIcons:_.a,PaymentMethodLabel:O,ValidationInputError:f.a},emitResponse:{noticeContexts:Z,responseTypes:ee},eventRegistration:{onCheckoutAfterProcessingWithError:u,onCheckoutAfterProcessingWithSuccess:l,onCheckoutBeforeProcessing:a,onCheckoutValidationBeforeProcessing:i,onPaymentProcessing:g,onShippingRateFail:D,onShippingRateSelectFail:L,onShippingRateSelectSuccess:B,onShippingRateSuccess:M},onSubmit:d,paymentStatus:b,setExpressPaymentError:re,shippingData:{isSelectingRate:$,needsShipping:G,selectedRates:V,setSelectedRates:q,setShippingAddress:Y,shippingAddress:z,shippingRates:F,shippingRatesLoading:U},shippingStatus:{shippingErrorStatus:x,shippingErrorTypes:I},shouldSavePayment:E}}},function(e,t,c){"use strict";c.d(t,"b",(function(){return i})),c.d(t,"a",(function(){return l}));var r=c(0),o=c(10),n=c(4),s=c.n(n);const a=Object(r.createContext)({hasContainerWidth:!1,containerClassName:"",isMobile:!1,isSmall:!1,isMedium:!1,isLarge:!1}),i=()=>Object(r.useContext)(a),l=e=>{let{children:t,className:c=""}=e;const[n,i]=(()=>{const[e,{width:t}]=Object(o.useResizeObserver)();let c="";return t>700?c="is-large":t>520?c="is-medium":t>400?c="is-small":t&&(c="is-mobile"),[e,c]})(),l={hasContainerWidth:""!==i,containerClassName:i,isMobile:"is-mobile"===i,isSmall:"is-small"===i,isMedium:"is-medium"===i,isLarge:"is-large"===i};return Object(r.createElement)(a.Provider,{value:l},Object(r.createElement)("div",{className:s()(c,i)},n,t))}},function(e,t,c){"use strict";var r=c(6),o=c.n(r),n=c(0),s=c(1),a=c(12),i=c(4),l=c.n(i),u=c(107),d=c(235),p=c(10),b=c(98),m=c(29);c(203);var g=Object(a.forwardRef)((e,t)=>{let{className:c,id:r,type:s="text",ariaLabel:a,ariaDescribedBy:i,label:u,screenReaderLabel:d,disabled:p,help:b,autoCapitalize:g="off",autoComplete:h="off",value:O="",onChange:_,required:j=!1,onBlur:E=(()=>{}),feedback:k,...y}=e;const[f,w]=Object(n.useState)(!1);return Object(n.createElement)("div",{className:l()("wc-block-components-text-input",c,{"is-active":f||O})},Object(n.createElement)("input",o()({type:s,id:r,value:O,ref:t,autoCapitalize:g,autoComplete:h,onChange:e=>{_(e.target.value)},onFocus:()=>w(!0),onBlur:e=>{E(e.target.value),w(!1)},"aria-label":a||u,disabled:p,"aria-describedby":b&&!i?r+"__help":i,required:j},y)),Object(n.createElement)(m.a,{label:u,screenReaderLabel:d||u,wrapperElement:"label",wrapperProps:{htmlFor:r},htmlFor:r}),!!b&&Object(n.createElement)("p",{id:r+"__help",className:"wc-block-components-text-input__help"},b),k)});t.a=Object(p.withInstanceId)(e=>{let{className:t,instanceId:c,id:r,ariaDescribedBy:i,errorId:p,focusOnMount:m=!1,onChange:h,showError:O=!0,errorMessage:_="",value:j="",...E}=e;const[k,y]=Object(a.useState)(!0),f=Object(a.useRef)(null),{getValidationError:w,hideValidationError:v,setValidationErrors:S,clearValidationError:C,getValidationErrorId:N}=Object(u.b)(),P=void 0!==r?r:"textinput-"+c,R=void 0!==p?p:P,T=Object(a.useCallback)((function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=f.current||null;if(!t)return;t.value=t.value.trim();const c=t.checkValidity();c?C(R):S({[R]:{message:t.validationMessage||Object(s.__)("Invalid value.","woo-gutenberg-products-block"),hidden:e}})}),[C,R,S]);Object(a.useEffect)(()=>{var e;k&&m&&(null===(e=f.current)||void 0===e||e.focus()),y(!1)},[m,k,y]),Object(a.useEffect)(()=>{var e,t;(null===(e=f.current)||void 0===e||null===(t=e.ownerDocument)||void 0===t?void 0:t.activeElement)!==f.current&&T(!0)},[j,T]),Object(a.useEffect)(()=>()=>{C(R)},[C,R]);const A=w(R)||{};Object(b.a)(_)&&""!==_&&(A.message=_);const x=A.message&&!A.hidden,I=O&&x&&N(R)?N(R):i;return Object(n.createElement)(g,o()({className:l()(t,{"has-error":x}),"aria-invalid":!0===x,id:P,onBlur:()=>{T(!1)},feedback:O&&Object(n.createElement)(d.a,{errorMessage:_,propertyName:R}),ref:f,onChange:e=>{v(R),h(e)},ariaDescribedBy:I,value:j},E))})},,,,,,,,,,,,,,,,,,,,,function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));var r=c(8);const o=["core/paragraph","core/image","core/separator"],n=e=>[...Object(r.getBlockTypes)().filter(t=>((null==t?void 0:t.parent)||[]).includes(e)).map(e=>{let{name:t}=e;return t}),...o]},function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var r=c(0),o=c(9),n=c(8),s=c(7);const a=e=>{let{clientId:t,registeredBlocks:c,defaultTemplate:a=[]}=e;const i=Object(r.useRef)(c),l=Object(r.useRef)(a),{insertBlock:u,replaceInnerBlocks:d}=Object(o.useDispatch)("core/block-editor"),{innerBlocks:p,registeredBlockTypes:b}=Object(o.useSelect)(e=>({innerBlocks:e("core/block-editor").getBlocks(t),registeredBlockTypes:i.current.map(e=>Object(n.getBlockType)(e))}),[t,i.current]),m=Object(r.useCallback)((e,c)=>{const r=Object(n.createBlock)(e.name);u(r,c,t,!1)},[t,u]),g=Object(r.useMemo)(()=>b.filter(e=>e&&(e=>{var t,c,r;let{attributes:o}=e;return Boolean((null===(t=o.lock)||void 0===t?void 0:t.remove)||(null===(c=o.lock)||void 0===c||null===(r=c.default)||void 0===r?void 0:r.remove))})(e)),[b]);Object(r.useLayoutEffect)(()=>{if(t){if(0===p.length&&l.current.length>0){const e=Object(n.createBlocksFromInnerBlocksTemplate)(l.current);if(!Object(s.isEqual)(e,p))return void d(t,e)}g.forEach(e=>{if(p.find(t=>{let{name:c}=t;return c===e.name}))return;const t=l.current.findIndex(t=>{let[c]=t;return c===e.name});switch(t){case-1:m(e,p.length);break;case 0:m(e,0);break;default:const c=l.current[t-1],r=p.findIndex(e=>{let{name:t}=e;return t===c[0]});m(e,-1===r?t:r+1)}})}},[t,p,g,d,m])}},function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var r=c(1),o=c(22),n=c(2);const s=[{destination:{address_1:"",address_2:"",city:"",state:"",postcode:"",country:""},package_id:0,name:Object(r.__)("Shipping","woo-gutenberg-products-block"),items:[{key:"33e75ff09dd601bbe69f351039152189",name:Object(r._x)("Beanie with Logo","example product in Cart Block","woo-gutenberg-products-block"),quantity:2},{key:"6512bd43d9caa6e02c990b0a82652dca",name:Object(r._x)("Beanie","example product in Cart Block","woo-gutenberg-products-block"),quantity:1}],shipping_rates:[{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",name:Object(r.__)("Free shipping","woo-gutenberg-products-block"),description:"",delivery_time:"",price:"000",taxes:"0",rate_id:"free_shipping:1",instance_id:0,meta_data:[],method_id:"flat_rate",selected:!0},{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",name:Object(r.__)("Local pickup","woo-gutenberg-products-block"),description:"",delivery_time:"",price:"200",taxes:"0",rate_id:"local_pickup:1",instance_id:1,meta_data:[],method_id:"local_pickup",selected:!1}]}],a=Object(n.getSetting)("displayCartPricesIncludingTax",!1),i={coupons:[],shipping_rates:Object(n.getSetting)("shippingMethodsExist",!1)?s:[],items:[{key:"1",id:1,quantity:2,name:Object(r.__)("Beanie","woo-gutenberg-products-block"),short_description:Object(r.__)("Warm hat for winter","woo-gutenberg-products-block"),description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",sku:"woo-beanie",permalink:"https://example.org",low_stock_remaining:2,backorders_allowed:!1,show_backorder_badge:!1,sold_individually:!1,images:[{id:10,src:o.m+"previews/beanie.jpg",thumbnail:o.m+"previews/beanie.jpg",srcset:"",sizes:"",name:"",alt:""}],variation:[{attribute:Object(r.__)("Color","woo-gutenberg-products-block"),value:Object(r.__)("Yellow","woo-gutenberg-products-block")},{attribute:Object(r.__)("Size","woo-gutenberg-products-block"),value:Object(r.__)("Small","woo-gutenberg-products-block")}],prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:a?"12000":"10000",regular_price:a?"12000":"10000",sale_price:a?"12000":"10000",raw_prices:{precision:6,price:a?"12000000":"10000000",regular_price:a?"12000000":"10000000",sale_price:a?"12000000":"10000000"}},totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",line_subtotal:"2000",line_subtotal_tax:"400",line_total:"2000",line_total_tax:"400"},extensions:{}},{key:"2",id:2,quantity:1,name:Object(r.__)("Cap","woo-gutenberg-products-block"),short_description:Object(r.__)("Lightweight baseball cap","woo-gutenberg-products-block"),description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",sku:"woo-cap",permalink:"https://example.org",backorders_allowed:!1,show_backorder_badge:!1,sold_individually:!1,images:[{id:11,src:o.m+"previews/cap.jpg",thumbnail:o.m+"previews/cap.jpg",srcset:"",sizes:"",name:"",alt:""}],variation:[{attribute:Object(r.__)("Color","woo-gutenberg-products-block"),value:Object(r.__)("Orange","woo-gutenberg-products-block")}],prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:a?"2400":"2000",regular_price:a?"2400":"2000",sale_price:a?"2400":"2000",raw_prices:{precision:6,price:a?"24000000":"20000000",regular_price:a?"24000000":"20000000",sale_price:a?"24000000":"20000000"}},totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",line_subtotal:"2000",line_subtotal_tax:"400",line_total:"2000",line_total_tax:"400"},extensions:{}}],cross_sells:[{id:1,name:Object(r.__)("Polo","woo-gutenberg-products-block"),permalink:"https://example.org",prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:a?"24000":"20000",regular_price:a?"24000":"20000",sale_price:a?"12000":"10000",raw_prices:{precision:6,price:a?"24000000":"20000000",regular_price:a?"24000000":"20000000",sale_price:a?"12000000":"10000000"}},images:[{id:17,src:o.m+"previews/polo.jpg",thumbnail:o.m+"previews/polo.jpg",srcset:"",sizes:"",name:"",alt:""}],average_rating:4.5},{id:2,name:Object(r.__)("Long Sleeve Tee","woo-gutenberg-products-block"),permalink:"https://example.org",prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:a?"30000":"25000",regular_price:a?"30000":"25000",sale_price:a?"30000":"25000",raw_prices:{precision:6,price:a?"30000000":"25000000",regular_price:a?"30000000":"25000000",sale_price:a?"30000000":"25000000"}},images:[{id:17,src:o.m+"previews/long-sleeve-tee.jpg",thumbnail:o.m+"previews/long-sleeve-tee.jpg",srcset:"",sizes:"",name:"",alt:""}],average_rating:4},{id:3,name:Object(r.__)("Hoodie with Zipper","woo-gutenberg-products-block"),permalink:"https://example.org",on_sale:!0,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:a?"15000":"12500",regular_price:a?"30000":"25000",sale_price:a?"15000":"12500",raw_prices:{precision:6,price:a?"15000000":"12500000",regular_price:a?"30000000":"25000000",sale_price:a?"15000000":"12500000"}},images:[{id:17,src:o.m+"previews/hoodie-with-zipper.jpg",thumbnail:o.m+"previews/hoodie-with-zipper.jpg",srcset:"",sizes:"",name:"",alt:""}],average_rating:1},{id:4,name:Object(r.__)("Hoodie with Logo","woo-gutenberg-products-block"),permalink:"https://example.org",on_sale:!1,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:a?"4500":"4250",regular_price:a?"4500":"4250",sale_price:a?"4500":"4250",raw_prices:{precision:6,price:a?"45000000":"42500000",regular_price:a?"45000000":"42500000",sale_price:a?"45000000":"42500000"}},images:[{id:17,src:o.m+"previews/hoodie-with-logo.jpg",thumbnail:o.m+"previews/hoodie-with-logo.jpg",srcset:"",sizes:"",name:"",alt:""}],average_rating:5},{id:5,name:Object(r.__)("Hoodie with Pocket","woo-gutenberg-products-block"),permalink:"https://example.org",on_sale:!0,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:a?"3500":"3250",regular_price:a?"4500":"4250",sale_price:a?"3500":"3250",raw_prices:{precision:6,price:a?"35000000":"32500000",regular_price:a?"45000000":"42500000",sale_price:a?"35000000":"32500000"}},images:[{id:17,src:o.m+"previews/hoodie-with-pocket.jpg",thumbnail:o.m+"previews/hoodie-with-pocket.jpg",srcset:"",sizes:"",name:"",alt:""}],average_rating:3.75},{id:6,name:Object(r.__)("T-Shirt","woo-gutenberg-products-block"),permalink:"https://example.org",on_sale:!1,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:a?"1800":"1500",regular_price:a?"1800":"1500",sale_price:a?"1800":"1500",raw_prices:{precision:6,price:a?"1800000":"1500000",regular_price:a?"1800000":"1500000",sale_price:a?"1800000":"1500000"}},images:[{id:17,src:o.m+"previews/tshirt.jpg",thumbnail:o.m+"previews/tshirt.jpg",srcset:"",sizes:"",name:"",alt:""}],average_rating:3}],fees:[{id:"fee",name:Object(r.__)("Fee","woo-gutenberg-products-block"),totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",total:"100",total_tax:"20",tax_lines:[{name:Object(r.__)("Sales tax","woo-gutenberg-products-block"),rate:"20%",price:"20"}]}}],items_count:3,items_weight:0,needs_payment:!0,needs_shipping:Object(n.getSetting)("shippingEnabled",!0),has_calculated_shipping:!0,shipping_address:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},billing_address:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",email:"",phone:""},totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",total_items:"4000",total_items_tax:"800",total_fees:"100",total_fees_tax:"20",total_discount:"0",total_discount_tax:"0",total_shipping:"0",total_shipping_tax:"0",total_tax:"820",total_price:"4920",tax_lines:[{name:Object(r.__)("Sales tax","woo-gutenberg-products-block"),rate:"20%",price:"820"}]},errors:[],payment_requirements:["products"],extensions:{}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,c){"use strict";var r=c(0),o=c(4),n=c.n(o),s=c(302);c(270),t.a=e=>{let{children:t,className:c}=e;return Object(r.createElement)(s.a,{className:n()("wc-block-components-sidebar-layout",c)},t)}},function(e,t,c){"use strict";var r=c(0),o=c(12),n=c(4),s=c.n(n);const a=Object(o.forwardRef)((e,t)=>{let{children:c,className:o=""}=e;return Object(r.createElement)("div",{ref:t,className:s()("wc-block-components-main",o)},c)});t.a=a},,,function(e,t,c){"use strict";var r=c(0),o=c(12),n=c(4),s=c.n(n);const a=Object(o.forwardRef)((e,t)=>{let{children:c,className:o=""}=e;return Object(r.createElement)("div",{ref:t,className:s()("wc-block-components-sidebar",o)},c)});t.a=a},,,,,,,function(e,t,c){"use strict";var r=c(0),o=c(11);const n=Object(r.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/SVG",viewBox:"0 0 24 24",fill:"none"},Object(r.createElement)("path",{stroke:"currentColor",strokeWidth:"1.5",fill:"none",d:"M6 3.75h12c.69 0 1.25.56 1.25 1.25v14c0 .69-.56 1.25-1.25 1.25H6c-.69 0-1.25-.56-1.25-1.25V5c0-.69.56-1.25 1.25-1.25z"}),Object(r.createElement)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.9 7.5A1.1 1.1 0 018 6.4h8a1.1 1.1 0 011.1 1.1v2a1.1 1.1 0 01-1.1 1.1H8a1.1 1.1 0 01-1.1-1.1v-2zm1.2.1v1.8h7.8V7.6H8.1z",clipRule:"evenodd"}),Object(r.createElement)("path",{fill:"currentColor",d:"M8.5 12h1v1h-1v-1zM8.5 14h1v1h-1v-1zM8.5 16h1v1h-1v-1zM11.5 12h1v1h-1v-1zM11.5 14h1v1h-1v-1zM11.5 16h1v1h-1v-1zM14.5 12h1v1h-1v-1zM14.5 14h1v1h-1v-1zM14.5 16h1v1h-1v-1z"}));t.a=n},function(e,t,c){"use strict";var r=c(0),o=c(1),n=c(4),s=c.n(n),a=c(40),i=c(18),l=c(39),u=c(2);c(275),t.a=e=>{let{currency:t,values:c,className:n}=e;const d=Object(u.getSetting)("taxesEnabled",!0)&&Object(u.getSetting)("displayCartPricesIncludingTax",!1),{total_price:p,total_tax:b}=c,{receiveCart:m,...g}=Object(l.a)(),h=Object(i.__experimentalApplyCheckoutFilter)({filterName:"totalLabel",defaultValue:Object(o.__)("Total","woo-gutenberg-products-block"),extensions:g.extensions,arg:{cart:g}}),O=parseInt(b,10);return Object(r.createElement)(i.TotalsItem,{className:s()("wc-block-components-totals-footer-item",n),currency:t,label:h,value:parseInt(p,10),description:d&&0!==O&&Object(r.createElement)("p",{className:"wc-block-components-totals-footer-item-tax"},Object(r.createInterpolateElement)(Object(o.__)("Including <TaxAmount/> in taxes","woo-gutenberg-products-block"),{TaxAmount:Object(r.createElement)(a.a,{className:"wc-block-components-totals-footer-item-tax-value",currency:t,value:O})}))})}},function(e,t,c){"use strict";var r=c(0),o=c(1),n=c(71),s=c(247),a=c(18),i=c(2);c(276);const l={context:"summary"};t.a=e=>{let{cartCoupons:t=[],currency:c,isRemovingCoupon:u,removeCoupon:d,values:p}=e;const{total_discount:b,total_discount_tax:m}=p,g=parseInt(b,10);if(!g&&0===t.length)return null;const h=parseInt(m,10),O=Object(i.getSetting)("displayCartPricesIncludingTax",!1)?g+h:g,_=Object(a.__experimentalApplyCheckoutFilter)({arg:l,filterName:"coupons",defaultValue:t});return Object(r.createElement)(a.TotalsItem,{className:"wc-block-components-totals-discount",currency:c,description:0!==_.length&&Object(r.createElement)(n.a,{screenReaderLabel:Object(o.__)("Removing coupon…","woo-gutenberg-products-block"),isLoading:u,showSpinner:!1},Object(r.createElement)("ul",{className:"wc-block-components-totals-discount__coupon-list"},_.map(e=>Object(r.createElement)(s.a,{key:"coupon-"+e.code,className:"wc-block-components-totals-discount__coupon-list-item",text:e.label,screenReaderText:Object(o.sprintf)(
/* translators: %s Coupon code. */
Object(o.__)("Coupon: %s","woo-gutenberg-products-block"),e.label),disabled:u,onRemove:()=>{d(e.code)},radius:"large",ariaLabel:Object(o.sprintf)(
/* translators: %s is a coupon code. */
Object(o.__)('Remove coupon "%s"',"woo-gutenberg-products-block"),e.label)})))),label:O?Object(o.__)("Discount","woo-gutenberg-products-block"):Object(o.__)("Coupons","woo-gutenberg-products-block"),value:O?-1*O:"-"})}},function(e,t,c){"use strict";c.d(t,"a",(function(){return r})),c.d(t,"b",(function(){return o}));const r=e=>e.length,o=e=>e.reduce((function(e,t){return e+t.shipping_rates.length}),0)},function(e,t,c){"use strict";var r=c(0),o=c(1),n=c(60),s=c(303),a=c(29),i=c(71),l=c(10),u=c(107),d=c(235),p=c(18);c(283),t.a=Object(l.withInstanceId)(e=>{let{instanceId:t,isLoading:c=!1,initialOpen:l=!1,onSubmit:b=(()=>{})}=e;const[m,g]=Object(r.useState)(""),h=Object(r.useRef)(!1),{getValidationError:O,getValidationErrorId:_}=Object(u.b)(),j=O("coupon");Object(r.useEffect)(()=>{h.current!==c&&(c||!m||j||g(""),h.current=c)},[c,m,j]);const E="wc-block-components-totals-coupon__input-"+t;return Object(r.createElement)(p.Panel,{className:"wc-block-components-totals-coupon",hasBorder:!1,initialOpen:l,title:Object(r.createElement)(a.a,{label:Object(o.__)("Coupon code","woo-gutenberg-products-block"),screenReaderLabel:Object(o.__)("Apply a coupon code","woo-gutenberg-products-block"),htmlFor:E})},Object(r.createElement)(i.a,{screenReaderLabel:Object(o.__)("Applying coupon…","woo-gutenberg-products-block"),isLoading:c,showSpinner:!1},Object(r.createElement)("div",{className:"wc-block-components-totals-coupon__content"},Object(r.createElement)("form",{className:"wc-block-components-totals-coupon__form"},Object(r.createElement)(s.a,{id:E,errorId:"coupon",className:"wc-block-components-totals-coupon__input",label:Object(o.__)("Enter code","woo-gutenberg-products-block"),value:m,ariaDescribedBy:_(E),onChange:e=>{g(e)},focusOnMount:!0,showError:!1}),Object(r.createElement)(n.a,{className:"wc-block-components-totals-coupon__button",disabled:c||!m,showSpinner:c,onClick:e=>{e.preventDefault(),b(m)},type:"submit"},Object(o.__)("Apply","woo-gutenberg-products-block"))),Object(r.createElement)(d.a,{propertyName:"coupon",elementId:E}))))})},,,function(e,t,c){"use strict";c.d(t,"a",(function(){return d})),c.d(t,"b",(function(){return b}));var r=c(5),o=c(73),n=c(9),s=c(0),a=c(54),i=c(46),l=c(8);const u=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?window.document.body.classList.add(e):window.document.body.classList.remove(e)},d=()=>{Object(i.hasFilter)("blocks.registerBlockType","core/lock/addAttribute")||Object(n.subscribe)(()=>{var e,t,c,o;const s=Object(n.select)(r.store);if(!s)return;const a=s.getSelectedBlock();a&&(u("wc-lock-selected-block--remove",!(null==a||null===(e=a.attributes)||void 0===e||null===(t=e.lock)||void 0===t||!t.remove)),u("wc-lock-selected-block--move",!(null==a||null===(c=a.attributes)||void 0===c||null===(o=c.lock)||void 0===o||!o.move)))})},p=e=>{let{ref:t}=e;const c=Object(i.hasFilter)("blocks.registerBlockType","core/lock/addAttribute"),u=t.current;return Object(s.useEffect)(()=>{if(u&&!c)return u.addEventListener("keydown",e,{capture:!0,passive:!1}),()=>{u.removeEventListener("keydown",e,{capture:!0})};function e(e){const{keyCode:t,target:c}=e;if(!(c instanceof HTMLElement))return;if(t!==a.BACKSPACE&&t!==a.DELETE)return;if(Object(o.isTextField)(c))return;const s=c;void 0!==s.dataset.block&&(e=>{var t,c,o,s,a;if(!e)return!1;const{getBlock:i}=Object(n.select)(r.store),u=i(e);if("boolean"==typeof(null==u||null===(t=u.attributes)||void 0===t||null===(c=t.lock)||void 0===c?void 0:c.remove))return u.attributes.lock.remove;const d=Object(l.getBlockType)(u.name);var p,b,m;return"boolean"==typeof(null==d||null===(o=d.attributes)||void 0===o||null===(s=o.lock)||void 0===s||null===(a=s.default)||void 0===a?void 0:a.remove)&&(null==d||null===(p=d.attributes)||void 0===p||null===(b=p.lock)||void 0===b||null===(m=b.default)||void 0===m?void 0:m.remove)})(s.dataset.block)&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}},[u,c])},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object(s.useRef)(),c=Object(r.useBlockProps)({ref:t,...e});return p({ref:t}),c}},function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var r=c(0),o=c(5),n=c(3),s=c(1);const a=e=>{let{attributes:t,setAttributes:c}=e;const{hasDarkControls:a}=t;return Object(r.createElement)(o.InspectorControls,null,Object(r.createElement)(n.PanelBody,{title:Object(s.__)("Style","woo-gutenberg-products-block")},Object(r.createElement)(n.ToggleControl,{label:Object(s.__)("Dark mode inputs","woo-gutenberg-products-block"),help:Object(s.__)("Inputs styled specifically for use on dark background colors.","woo-gutenberg-products-block"),checked:a,onChange:()=>c({hasDarkControls:!a})})))}},function(e,t,c){e.exports=c(465)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,function(e,t,c){"use strict";c.r(t);var r=c(0),o=c(4),n=c.n(o),s=c(11),a=Object(r.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/SVG",viewBox:"0 0 24 24",fill:"none"},Object(r.createElement)("path",{stroke:"currentColor",strokeWidth:"1.5",fill:"none",d:"M5 3.75h14c.69 0 1.25.56 1.25 1.25v14c0 .69-.56 1.25-1.25 1.25H5c-.69 0-1.25-.56-1.25-1.25V5c0-.69.56-1.25 1.25-1.25z"}),Object(r.createElement)("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.4 10.75c0-.47.38-.85.85-.85h9.5c.47 0 .85.38.85.85v1.5c0 .47-.38.85-.85.85h-9.5a.85.85 0 01-.85-.85v-1.5zm1.2.35v.8h8.8v-.8H7.6zM12.4 15.25c0-.47.38-.85.85-.85h3.5c.47 0 .85.38.85.85v1.5c0 .47-.38.85-.85.85h-3.5a.85.85 0 01-.85-.85v-1.5zm1.2.35v.8h2.8v-.8h-2.8zM6.5 15.9a.6.6 0 01.6-.6h2.8a.6.6 0 010 1.2H7.1a.6.6 0 01-.6-.6zM6.5 7.9a.6.6 0 01.6-.6h9.8a.6.6 0 110 1.2H7.1a.6.6 0 01-.6-.6z",clipRule:"evenodd"})),i=c(119),l=c(8),u=c(1),d=c(5),p=c(416),b=c(59),m=c(291),g=c(326);const h={cc:[{method:{gateway:"credit-card",last4:"5678",brand:"Visa"},expires:"12/20",is_default:!1,tokenId:"1"}]};var O=c(3),_=c(157),j=c(537),E=c(417),k=c(18);const y=Object(r.createContext)({allowCreateAccount:!1,showCompanyField:!1,showApartmentField:!1,showPhoneField:!1,requireCompanyField:!1,requirePhoneField:!1,showOrderNotes:!0,showPolicyLinks:!0,showReturnToCart:!0,cartPageId:0,showRateAfterTaxName:!1}),f=Object(r.createContext)({addressFieldControls:()=>null,accountControls:()=>null}),w=()=>Object(r.useContext)(y),v=()=>Object(r.useContext)(f);var S=c(324),C=c(325);c(437),Object(l.registerBlockType)("woocommerce/checkout-fields-block",{icon:{src:Object(r.createElement)(i.a,{icon:j.a,className:"wc-block-editor-components-block-icon"})},edit:e=>{let{clientId:t,attributes:c}=e;const o=Object(d.useBlockProps)({className:n()("wc-block-checkout__main",null==c?void 0:c.className)}),s=Object(S.a)(k.innerBlockAreas.CHECKOUT_FIELDS),{addressFieldControls:a}=v(),i=[["woocommerce/checkout-express-payment-block",{},[]],["woocommerce/checkout-contact-information-block",{},[]],["woocommerce/checkout-shipping-address-block",{},[]],["woocommerce/checkout-billing-address-block",{},[]],["woocommerce/checkout-shipping-methods-block",{},[]],["woocommerce/checkout-payment-block",{},[]],["woocommerce/checkout-order-note-block",{},[]],["woocommerce/checkout-terms-block",{},[]],["woocommerce/checkout-actions-block",{},[]]].filter(Boolean);return Object(C.a)({clientId:t,registeredBlocks:s,defaultTemplate:i}),Object(r.createElement)(E.a,o,Object(r.createElement)(a,null),Object(r.createElement)("form",{className:"wc-block-components-form wc-block-checkout__form"},Object(r.createElement)(d.InnerBlocks,{allowedBlocks:s,templateLock:!1,template:i,renderAppender:d.InnerBlocks.ButtonBlockAppender})))},save:()=>Object(r.createElement)("div",d.useBlockProps.save(),Object(r.createElement)(d.InnerBlocks.Content,null))});var N=c(420);c(438),Object(l.registerBlockType)("woocommerce/checkout-totals-block",{icon:{src:Object(r.createElement)(i.a,{icon:j.a,className:"wc-block-editor-components-block-icon"})},edit:e=>{let{clientId:t,attributes:c}=e;const o=Object(d.useBlockProps)({className:n()("wc-block-checkout__sidebar",null==c?void 0:c.className)}),s=Object(S.a)(k.innerBlockAreas.CHECKOUT_TOTALS),a=[["woocommerce/checkout-order-summary-block",{},[]]];return Object(C.a)({clientId:t,registeredBlocks:s,defaultTemplate:a}),Object(r.createElement)(N.a,o,Object(r.createElement)(d.InnerBlocks,{allowedBlocks:s,templateLock:!1,template:a,renderAppender:d.InnerBlocks.ButtonBlockAppender}))},save:()=>Object(r.createElement)("div",d.useBlockProps.save(),Object(r.createElement)(d.InnerBlocks.Content,null))});var P=c(540),R=c(144),T=e=>{let{children:t,stepHeadingContent:c}=e;return Object(r.createElement)("div",{className:"wc-block-components-checkout-step__heading"},Object(r.createElement)(R.a,{"aria-hidden":"true",className:"wc-block-components-checkout-step__title",headingLevel:"2"},t),!!c&&Object(r.createElement)("span",{className:"wc-block-components-checkout-step__heading-content"},c))};const A=e=>{let{attributes:t,setAttributes:c,className:o="",children:s}=e;const{title:a="",description:i="",showStepNumber:l=!0}=t,p=Object(d.useBlockProps)({className:n()("wc-block-components-checkout-step",o,{"wc-block-components-checkout-step--with-step-number":l})});return Object(r.createElement)("div",p,Object(r.createElement)(d.InspectorControls,null,Object(r.createElement)(O.PanelBody,{title:Object(u.__)("Form Step Options","woo-gutenberg-products-block")},Object(r.createElement)(O.ToggleControl,{label:Object(u.__)("Show step number","woo-gutenberg-products-block"),checked:l,onChange:()=>c({showStepNumber:!l})}))),Object(r.createElement)(T,null,Object(r.createElement)(d.PlainText,{className:"",value:a,onChange:e=>c({title:e})})),Object(r.createElement)("div",{className:"wc-block-components-checkout-step__container"},Object(r.createElement)("p",{className:"wc-block-components-checkout-step__description"},Object(r.createElement)(d.PlainText,{className:i?"":"wc-block-components-checkout-step__description-placeholder",value:i,placeholder:Object(u.__)("Optional text for this form step.","woo-gutenberg-products-block"),onChange:e=>c({description:e})})),Object(r.createElement)("div",{className:"wc-block-components-checkout-step__content"},s)))};c(439);const x=e=>{let{block:t}=e;const{"data-block":c}=Object(d.useBlockProps)(),o=Object(S.a)(t);return Object(C.a)({clientId:c,registeredBlocks:o}),Object(r.createElement)("div",{className:"wc-block-checkout__additional_fields"},Object(r.createElement)(d.InnerBlocks,{allowedBlocks:o}))},I=()=>Object(r.createElement)(d.InnerBlocks.Content,null);var M=c(473),D=c(2),B=c(55),L=c(92),F=c(82);const U=()=>{const{needsShipping:e}=Object(F.a)(),{useShippingAsBilling:t,setUseShippingAsBilling:c}=Object(B.b)(),{billingAddress:o,setBillingAddress:n,shippingAddress:s,setShippingAddress:a}=Object(L.a)(),i=Object(r.useCallback)(e=>{n({email:e})},[n]),l=Object(r.useCallback)(e=>{n({phone:e})},[n]),u=Object(r.useCallback)(e=>{a({phone:e})},[a]);return{shippingAddress:s,billingAddress:o,setShippingAddress:a,setBillingAddress:n,setEmail:i,setBillingPhone:l,setShippingPhone:u,defaultAddressFields:D.defaultAddressFields,useShippingAsBilling:t,setUseShippingAsBilling:c,showShippingFields:e,showBillingFields:!e||!t}};var V=c(72),$=c(44),q=c(303),G=e=>{let{id:t="phone",isRequired:c=!1,value:o="",onChange:n}=e;return Object(r.createElement)(q.a,{id:t,type:"tel",autoComplete:"tel",required:c,label:c?Object(u.__)("Phone","woo-gutenberg-products-block"):Object(u.__)("Phone (optional)","woo-gutenberg-products-block"),value:o,onChange:n})},H=e=>{let{showCompanyField:t=!1,showApartmentField:c=!1,showPhoneField:o=!1,requireCompanyField:n=!1,requirePhoneField:s=!1}=e;const{defaultAddressFields:a,setShippingAddress:i,setBillingAddress:l,shippingAddress:d,setShippingPhone:p,useShippingAsBilling:m,setUseShippingAsBilling:g}=U(),{dispatchCheckoutEvent:h}=Object(V.a)(),{isEditor:O}=Object(b.b)(),[_,j]=Object(r.useState)(!1);Object(r.useEffect)(()=>{o||p("")},[o,p]),Object(r.useEffect)(()=>{_||(m&&l(d),j(!0))},[l,d,m]);const E=Object(r.useMemo)(()=>({company:{hidden:!t,required:n},address_2:{hidden:!c}}),[t,n,c]),y=O?$.a:r.Fragment;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(y,null,Object(r.createElement)(M.a,{id:"shipping",type:"shipping",onChange:e=>{i(e),m&&l(e),h("set-shipping-address")},values:d,fields:Object.keys(a),fieldConfig:E}),o&&Object(r.createElement)(G,{id:"shipping-phone",isRequired:s,value:d.phone,onChange:e=>{p(e),h("set-phone-number",{step:"shipping"})}})),Object(r.createElement)(k.CheckboxControl,{className:"wc-block-checkout__use-address-for-billing",label:Object(u.__)("Use same address for billing","woo-gutenberg-products-block"),checked:m,onChange:e=>{g(e),e&&l(d)}}))},z=e=>{let{defaultTitle:t=Object(u.__)("Step","woo-gutenberg-products-block"),defaultDescription:c=Object(u.__)("Step description text.","woo-gutenberg-products-block"),defaultShowStepNumber:r=!0}=e;return{title:{type:"string",default:t},description:{type:"string",default:c},showStepNumber:{type:"boolean",default:r}}},Y={...z({defaultTitle:Object(u.__)("Shipping address","woo-gutenberg-products-block"),defaultDescription:Object(u.__)("Enter the address where you want your order delivered.","woo-gutenberg-products-block")}),className:{type:"string",default:""},lock:{type:"object",default:{move:!0,remove:!0}}};Object(l.registerBlockType)("woocommerce/checkout-shipping-address-block",{icon:{src:Object(r.createElement)(i.a,{icon:P.a,className:"wc-block-editor-components-block-icon"})},attributes:Y,edit:e=>{let{attributes:t,setAttributes:c}=e;const{showCompanyField:o,showApartmentField:s,requireCompanyField:a,showPhoneField:i,requirePhoneField:l}=w(),{addressFieldControls:u}=v();return Object(r.createElement)(A,{setAttributes:c,attributes:t,className:n()("wc-block-checkout__shipping-fields",null==t?void 0:t.className)},Object(r.createElement)(u,null),Object(r.createElement)(H,{showCompanyField:o,showApartmentField:s,requireCompanyField:a,showPhoneField:i,requirePhoneField:l}),Object(r.createElement)(x,{block:k.innerBlockAreas.SHIPPING_ADDRESS}))},save:()=>Object(r.createElement)("div",d.useBlockProps.save(),Object(r.createElement)(I,null))});var W=c(541),K=c(22),X=c(250);c(440);const Q=K.k?`<a href="${K.k}" target="_blank">${Object(u.__)("Terms and Conditions","woo-gutenberg-products-block")}</a>`:Object(u.__)("Terms and Conditions","woo-gutenberg-products-block"),J=K.g?`<a href="${K.g}" target="_blank">${Object(u.__)("Privacy Policy","woo-gutenberg-products-block")}</a>`:Object(u.__)("Privacy Policy","woo-gutenberg-products-block"),Z=Object(u.sprintf)(
/* translators: %1$s terms page link, %2$s privacy page link. */
Object(u.__)("By proceeding with your purchase you agree to our %1$s and %2$s","woo-gutenberg-products-block"),Q,J),ee=Object(u.sprintf)(
/* translators: %1$s terms page link, %2$s privacy page link. */
Object(u.__)("You must accept our %1$s and %2$s to continue with your purchase.","woo-gutenberg-products-block"),Q,J);Object(l.registerBlockType)("woocommerce/checkout-terms-block",{icon:{src:Object(r.createElement)(i.a,{icon:W.a,className:"wc-block-editor-components-block-icon"})},edit:e=>{let{attributes:{checkbox:t,text:c},setAttributes:o}=e;const n=Object(d.useBlockProps)(),s=c||(t?ee:Z);return Object(r.createElement)("div",n,Object(r.createElement)(d.InspectorControls,null,Object(r.createElement)(O.PanelBody,{title:Object(u.__)("Display options","woo-gutenberg-products-block")},Object(r.createElement)(O.ToggleControl,{label:Object(u.__)("Require checkbox","woo-gutenberg-products-block"),checked:t,onChange:()=>o({checkbox:!t})}))),Object(r.createElement)("div",{className:"wc-block-checkout__terms"},t?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(k.CheckboxControl,{id:"terms-condition",checked:!1}),Object(r.createElement)(d.RichText,{value:s,onChange:e=>o({text:e})})):Object(r.createElement)(d.RichText,{tagName:"span",value:s,onChange:e=>o({text:e})})),(!K.k||!K.g)&&Object(r.createElement)(O.Notice,{className:"wc-block-checkout__terms_notice",status:"warning",isDismissible:!1,actions:[!K.k&&{className:"wc-block-checkout__terms_notice-button",label:Object(r.createElement)(r.Fragment,null,Object(u.__)("Setup a Terms and Conditions page","woo-gutenberg-products-block"),Object(r.createElement)(i.a,{icon:X.a,size:16,className:"wc-block-checkout__terms_notice-button__icon"})),onClick:()=>window.open(D.ADMIN_URL+"admin.php?page=wc-settings&tab=advanced","_blank")},!K.g&&{className:"wc-block-checkout__terms_notice-button",label:Object(r.createElement)(r.Fragment,null,Object(u.__)("Setup a Privacy Policy page","woo-gutenberg-products-block"),Object(r.createElement)(i.a,{size:16,icon:X.a,className:"wc-block-checkout__terms_notice-button__icon"})),onClick:()=>window.open(D.ADMIN_URL+"options-privacy.php","_blank")}].filter(Boolean)},Object(r.createElement)("p",null,Object(u.__)("You don't have any Terms and Conditions and/or Privacy Policy pages set up.","woo-gutenberg-products-block"))),K.k&&K.g&&!(s.includes(K.k)&&s.includes(K.g))&&Object(r.createElement)(O.Notice,{className:"wc-block-checkout__terms_notice",status:"warning",isDismissible:!1,actions:Z!==c?[{label:Object(u.__)("Restore default text","woo-gutenberg-products-block"),onClick:()=>o({text:""})}]:[]},Object(r.createElement)("p",null,Object(u.__)("Ensure you add links to your policy pages in this section.","woo-gutenberg-products-block"))))},save:()=>Object(r.createElement)("div",d.useBlockProps.save())});var te=c(542),ce=e=>{let{allowCreateAccount:t}=e;const{customerId:c,shouldCreateAccount:o,setShouldCreateAccount:n}=Object(B.b)(),{billingAddress:s,setEmail:a}=U(),{dispatchCheckoutEvent:i}=Object(V.a)(),l=!c&&t&&Object(D.getSetting)("checkoutAllowsGuest",!1)&&Object(D.getSetting)("checkoutAllowsSignup",!1)&&Object(r.createElement)(k.CheckboxControl,{className:"wc-block-checkout__create-account",label:Object(u.__)("Create an account?","woo-gutenberg-products-block"),checked:o,onChange:e=>n(e)});return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(q.a,{id:"email",type:"email",label:Object(u.__)("Email address","woo-gutenberg-products-block"),value:s.email,autoComplete:"email",onChange:e=>{a(e),i("set-email-address")},required:!0}),l)},re={...z({defaultTitle:Object(u.__)("Contact information","woo-gutenberg-products-block"),defaultDescription:Object(u.__)("We'll use this email to send you details and updates about your order.","woo-gutenberg-products-block")}),className:{type:"string",default:""},lock:{type:"object",default:{remove:!0,move:!0}}};Object(l.registerBlockType)("woocommerce/checkout-contact-information-block",{icon:{src:Object(r.createElement)(i.a,{icon:te.a,className:"wc-block-editor-components-block-icon"})},attributes:re,edit:e=>{let{attributes:t,setAttributes:c}=e;const{allowCreateAccount:o}=w(),{accountControls:s}=v();return Object(r.createElement)(A,{attributes:t,setAttributes:c,className:n()("wc-block-checkout__contact-fields",null==t?void 0:t.className)},Object(r.createElement)(s,null),Object(r.createElement)($.a,null,Object(r.createElement)(ce,{allowCreateAccount:o})),Object(r.createElement)(x,{block:k.innerBlockAreas.CONTACT_INFORMATION}))},save:()=>Object(r.createElement)("div",d.useBlockProps.save(),Object(r.createElement)(I,null))});var oe=e=>{let{showCompanyField:t=!1,showApartmentField:c=!1,showPhoneField:o=!1,requireCompanyField:n=!1,requirePhoneField:s=!1}=e;const{defaultAddressFields:a,billingAddress:i,setBillingAddress:l,setBillingPhone:u}=U(),{dispatchCheckoutEvent:d}=Object(V.a)(),{isEditor:p}=Object(b.b)();Object(r.useEffect)(()=>{o||u("")},[o,u]);const m=Object(r.useMemo)(()=>({company:{hidden:!t,required:n},address_2:{hidden:!c}}),[t,n,c]),g=p?$.a:r.Fragment;return Object(r.createElement)(g,null,Object(r.createElement)(M.a,{id:"billing",type:"billing",onChange:e=>{l(e),d("set-billing-address")},values:i,fields:Object.keys(a),fieldConfig:m}),o&&Object(r.createElement)(G,{isRequired:s,value:i.phone,onChange:e=>{u(e),d("set-phone-number",{step:"billing"})}}))},ne={...z({defaultTitle:Object(u.__)("Billing address","woo-gutenberg-products-block"),defaultDescription:Object(u.__)("Enter the billing address that matches your payment method.","woo-gutenberg-products-block")}),className:{type:"string",default:""},lock:{type:"object",default:{move:!0,remove:!0}}};Object(l.registerBlockType)("woocommerce/checkout-billing-address-block",{icon:{src:Object(r.createElement)(i.a,{icon:P.a,className:"wc-block-editor-components-block-icon"})},attributes:ne,edit:e=>{let{attributes:t,setAttributes:c}=e;const{showCompanyField:o,showApartmentField:s,requireCompanyField:a,showPhoneField:i,requirePhoneField:l}=w(),{addressFieldControls:u}=v(),{showBillingFields:d}=U();return d?Object(r.createElement)(A,{setAttributes:c,attributes:t,className:n()("wc-block-checkout__billing-fields",null==t?void 0:t.className)},Object(r.createElement)(u,null),Object(r.createElement)(oe,{showCompanyField:o,showApartmentField:s,requireCompanyField:a,showPhoneField:i,requirePhoneField:l}),Object(r.createElement)(x,{block:k.innerBlockAreas.BILLING_ADDRESS})):null},save:()=>Object(r.createElement)("div",d.useBlockProps.save(),Object(r.createElement)(I,null))});var se=c(527),ae=c(9),ie=c(223),le=c(543);c(442);var ue=e=>{let{link:t}=e;const c=t||K.d;return c?Object(r.createElement)("a",{href:c,className:"wc-block-components-checkout-return-to-cart-button"},Object(r.createElement)(i.a,{icon:le.a}),Object(u.__)("Return to Cart","woo-gutenberg-products-block")):null},de=c(173),pe=c(180),be=c(531),me=c(60),ge=()=>{const{submitButtonText:e,onSubmit:t,isCalculating:c,isDisabled:o,waitingForProcessing:n,waitingForRedirect:s}=(()=>{const{onSubmit:e,isCalculating:t,isBeforeProcessing:c,isProcessing:r,isAfterProcessing:o,isComplete:n,hasError:s}=Object(B.b)(),{paymentMethods:a={}}=Object(pe.b)(),{activePaymentMethod:i,currentStatus:l}=Object(de.b)(),d=a[i]||{},p=r||o||c,b=n&&!s;return{submitButtonText:(null==d?void 0:d.placeOrderButtonLabel)||Object(u.__)("Place Order","woo-gutenberg-products-block"),onSubmit:e,isCalculating:t,isDisabled:r||l.isDoingExpressPayment,waitingForProcessing:p,waitingForRedirect:b}})();return Object(r.createElement)(me.a,{className:"wc-block-components-checkout-place-order-button",onClick:t,disabled:c||o||n||s,showSpinner:n},s?Object(r.createElement)(i.a,{icon:be.a}):e)};c(441);var he=e=>{let{cartPageId:t,showReturnToCart:c,className:o}=e;return Object(r.createElement)("div",{className:n()("wc-block-checkout__actions",o)},c&&Object(r.createElement)(ue,{link:Object(D.getSetting)("page-"+t,!1)}),Object(r.createElement)(ge,null))};Object(l.registerBlockType)("woocommerce/checkout-actions-block",{icon:{src:Object(r.createElement)(i.a,{icon:se.a,className:"wc-block-editor-components-block-icon"})},attributes:{cartPageId:{type:"number",default:0},showReturnToCart:{type:"boolean",default:!0},className:{type:"string",default:""},lock:{type:"object",default:{move:!0,remove:!0}}},edit:e=>{let{attributes:t,setAttributes:c}=e;const o=Object(d.useBlockProps)(),{cartPageId:n=0,showReturnToCart:s=!0}=t,{current:a}=Object(r.useRef)(n),i=Object(ae.useSelect)(e=>a||e("core/editor").getCurrentPostId(),[a]);return Object(r.createElement)("div",o,Object(r.createElement)(d.InspectorControls,null,Object(r.createElement)(O.PanelBody,{title:Object(u.__)("Account options","woo-gutenberg-products-block")},Object(r.createElement)(O.ToggleControl,{label:Object(u.__)('Show a "Return to Cart" link',"woo-gutenberg-products-block"),checked:s,onChange:()=>c({showReturnToCart:!s})})),s&&!(i===K.e&&0===a)&&Object(r.createElement)(ie.a,{pageId:n,setPageId:e=>c({cartPageId:e}),labels:{title:Object(u.__)("Return to Cart button","woo-gutenberg-products-block"),default:Object(u.__)("WooCommerce Cart Page","woo-gutenberg-products-block")}})),Object(r.createElement)($.a,null,Object(r.createElement)(he,{showReturnToCart:s,cartPageId:n})))},save:()=>Object(r.createElement)("div",d.useBlockProps.save())});var Oe=c(528);c(444);const _e=e=>{let{title:t,stepHeadingContent:c}=e;return Object(r.createElement)("div",{className:"wc-block-components-checkout-step__heading"},Object(r.createElement)(R.a,{"aria-hidden":"true",className:"wc-block-components-checkout-step__title",headingLevel:"2"},t),!!c&&Object(r.createElement)("span",{className:"wc-block-components-checkout-step__heading-content"},c))};var je=e=>{let{id:t,className:c,title:o,legend:s,description:a,children:i,disabled:l=!1,showStepNumber:u=!0,stepHeadingContent:d=(()=>{})}=e;const p=s||o?"fieldset":"div";return Object(r.createElement)(p,{className:n()(c,"wc-block-components-checkout-step",{"wc-block-components-checkout-step--with-step-number":u,"wc-block-components-checkout-step--disabled":l}),id:t,disabled:l},!(!s&&!o)&&Object(r.createElement)("legend",{className:"screen-reader-text"},s||o),!!o&&Object(r.createElement)(_e,{title:o,stepHeadingContent:d()}),Object(r.createElement)("div",{className:"wc-block-components-checkout-step__container"},!!a&&Object(r.createElement)("p",{className:"wc-block-components-checkout-step__description"},a),Object(r.createElement)("div",{className:"wc-block-components-checkout-step__content"},i)))};c(446);const Ee=e=>{let{className:t="",disabled:c=!1,onTextChange:o,placeholder:s,value:a=""}=e;return Object(r.createElement)("textarea",{className:n()("wc-block-components-textarea",t),disabled:c,onChange:e=>{o(e.target.value)},placeholder:s,rows:2,value:a})};c(445);var ke=e=>{let{disabled:t,onChange:c,placeholder:o,value:n}=e;const[s,a]=Object(r.useState)(!1),[i,l]=Object(r.useState)("");return Object(r.createElement)("div",{className:"wc-block-checkout__add-note"},Object(r.createElement)(k.CheckboxControl,{disabled:t,label:Object(u.__)("Add a note to your order","woo-gutenberg-products-block"),checked:s,onChange:e=>{a(e),e?n!==i&&c(i):(c(""),l(n))}}),s&&Object(r.createElement)(Ee,{disabled:t,onTextChange:c,placeholder:o,value:n}))},ye=e=>{let{className:t}=e;const{needsShipping:c}=Object(F.a)(),{isProcessing:o,orderNotes:s,dispatchActions:a}=Object(B.b)(),{setOrderNotes:i}=a;return Object(r.createElement)(je,{id:"order-notes",showStepNumber:!1,className:n()("wc-block-checkout__order-notes",t),disabled:o},Object(r.createElement)(ke,{disabled:o,onChange:i,placeholder:c?Object(u.__)("Notes about your order, e.g. special notes for delivery.","woo-gutenberg-products-block"):Object(u.__)("Notes about your order.","woo-gutenberg-products-block"),value:s}))};c(443),Object(l.registerBlockType)("woocommerce/checkout-order-note-block",{icon:{src:Object(r.createElement)(i.a,{icon:Oe.a,className:"wc-block-editor-components-block-icon"})},edit:()=>{const e=Object(d.useBlockProps)();return Object(r.createElement)("div",e,Object(r.createElement)($.a,null,Object(r.createElement)(ye,null)))},save:()=>Object(r.createElement)("div",d.useBlockProps.save())});var fe=c(427),we=c(428),ve=c(26),Se=c(39);const Ce=()=>{const{extensions:e,receiveCart:t,...c}=Object(Se.a)(),o={extensions:e,cart:c,context:"woocommerce/checkout"};return Object(r.createElement)(k.ExperimentalOrderMeta.Slot,o)};Object(l.registerBlockType)("woocommerce/checkout-order-summary-block",{icon:{src:Object(r.createElement)(i.a,{icon:fe.a,className:"wc-block-editor-components-block-icon"})},attributes:{className:{type:"string",default:""},lock:{type:"object",default:{move:!0,remove:!0}}},edit:e=>{let{clientId:t}=e;const c=Object(d.useBlockProps)(),{cartTotals:o}=Object(Se.a)(),n=Object(ve.getCurrencyFromPriceResponse)(o),s=Object(S.a)(k.innerBlockAreas.CHECKOUT_ORDER_SUMMARY),a=[["woocommerce/checkout-order-summary-cart-items-block",{},[]],["woocommerce/checkout-order-summary-subtotal-block",{},[]],["woocommerce/checkout-order-summary-fee-block",{},[]],["woocommerce/checkout-order-summary-discount-block",{},[]],["woocommerce/checkout-order-summary-coupon-form-block",{},[]],["woocommerce/checkout-order-summary-shipping-block",{},[]],["woocommerce/checkout-order-summary-taxes-block",{},[]]];return Object(C.a)({clientId:t,registeredBlocks:s,defaultTemplate:a}),Object(r.createElement)("div",c,Object(r.createElement)(d.InnerBlocks,{allowedBlocks:s,template:a}),Object(r.createElement)("div",{className:"wc-block-components-totals-wrapper"},Object(r.createElement)(we.a,{currency:n,values:o})),Object(r.createElement)(Ce,null))},save:()=>Object(r.createElement)("div",d.useBlockProps.save(),Object(r.createElement)(d.InnerBlocks.Content,null))});var Ne=c(538);c(447);var Pe=e=>{let{href:t,title:c,description:o}=e;return Object(r.createElement)("a",{href:t,className:"wc-block-editor-components-external-link-card",target:"_blank",rel:"noreferrer"},Object(r.createElement)("span",{className:"wc-block-editor-components-external-link-card__content"},Object(r.createElement)("strong",{className:"wc-block-editor-components-external-link-card__title"},c),o&&Object(r.createElement)("span",{className:"wc-block-editor-components-external-link-card__description"},o)),Object(r.createElement)(O.VisuallyHidden,{as:"span"},
/* translators: accessibility text */
Object(u.__)("(opens in a new tab)","woo-gutenberg-products-block")),Object(r.createElement)(i.a,{icon:X.a,className:"wc-block-editor-components-external-link-card__icon"}))},Re=c(29),Te=c(533),Ae=c(136),xe=c(304);c(448);const Ie=()=>Object(r.createElement)(Te.a,{icon:Object(r.createElement)(i.a,{icon:Ne.a}),label:Object(u.__)("Payment methods","woo-gutenberg-products-block"),className:"wc-block-checkout__no-payment-methods-placeholder"},Object(r.createElement)("span",{className:"wc-block-checkout__no-payment-methods-placeholder-description"},Object(u.__)("Your store does not have any payment methods that support the Checkout block. Once you have configured a compatible payment method it will be displayed here.","woo-gutenberg-products-block")),Object(r.createElement)(Ae.a,{isSecondary:!0,href:D.ADMIN_URL+"admin.php?page=wc-settings&tab=checkout",target:"_blank",rel:"noopener noreferrer"},Object(u.__)("Configure Payment Methods","woo-gutenberg-products-block"))),Me=()=>Object(r.createElement)(xe.a,{isDismissible:!1,className:n()("wc-block-checkout__no-payment-methods-notice","woocommerce-message","woocommerce-error")},Object(u.__)("There are no payment methods available. This may be an error on our side. Please contact us if you need any help placing your order.","woo-gutenberg-products-block"));var De=()=>{const{isEditor:e}=Object(b.b)();return e?Object(r.createElement)(Ie,null):Object(r.createElement)(Me,null)},Be=c(301),Le=c(36),Fe=c(10),Ue=c(122),Ve=Object(Fe.withInstanceId)(e=>{let{className:t,instanceId:c,id:o,selected:s,onChange:a,options:i=[]}=e;const l=o||c;return i.length&&Object(r.createElement)("div",{className:n()("wc-block-components-radio-control",t)},i.map(e=>{const t="object"==typeof e&&"content"in e,c=e.value===s;return Object(r.createElement)("div",{className:"wc-block-components-radio-control-accordion-option",key:e.value},Object(r.createElement)(Ue.a,{name:"radio-control-"+l,checked:c,option:e,onChange:t=>{a(t),"function"==typeof e.onChange&&e.onChange(t)}}),t&&c&&Object(r.createElement)("div",{className:n()("wc-block-components-radio-control-accordion-content",{"wc-block-components-radio-control-accordion-content-hide":!c})},e.content))}))}),$e=c(168),qe=e=>{let{children:t,showSaveOption:c}=e;const{isEditor:o}=Object(b.b)(),{shouldSavePayment:n,setShouldSavePayment:s}=Object(de.b)(),{customerId:a}=Object(B.b)();return Object(r.createElement)($e.a,{isEditor:o},t,a>0&&c&&Object(r.createElement)(k.CheckboxControl,{className:"wc-block-components-payment-methods__save-card-info",label:Object(u.__)("Save payment information to my account for future purchases.","woo-gutenberg-products-block"),checked:n,onChange:()=>s(!n)}))},Ge=()=>{const{setActivePaymentMethod:e,activeSavedToken:t,isExpressPaymentMethodActive:c,customerPaymentMethods:o}=Object(de.b)(),{paymentMethods:s}=Object(pe.b)(),{activePaymentMethod:a,...i}=Object(Be.a)(),{noticeContexts:l}=Object(Le.d)(),{removeNotice:u}=Object(ae.useDispatch)("core/notices"),{dispatchCheckoutEvent:d}=Object(V.a)(),{isEditor:p}=Object(b.b)(),m=Object.keys(s).map(e=>{const{edit:t,content:c,label:o,supports:n}=s[e],l=p?t:c;return{value:e,label:"string"==typeof o?o:Object(r.cloneElement)(o,{components:i.components}),name:"wc-saved-payment-method-token-"+e,content:Object(r.createElement)(qe,{showSaveOption:n.showSaveOption},Object(r.cloneElement)(l,{activePaymentMethod:a,...i}))}}),g=Object(r.useCallback)(t=>{e(t),u("wc-payment-error",l.PAYMENTS),d("set-active-payment-method",{value:t})},[d,l.PAYMENTS,u,e]),h=0===Object.keys(o).length&&1===Object.keys(s).length,O=n()({"disable-radio-control":h});return c?null:Object(r.createElement)(Ve,{id:"wc-payment-method-options",className:O,selected:t?null:a,onChange:g,options:m})},He=c(169);const ze=e=>{let{method:t,expires:c}=e;return Object(u.sprintf)(
/* translators: %1$s is referring to the payment method brand, %2$s is referring to the last 4 digits of the payment card, %3$s is referring to the expiry date.  */
Object(u.__)("%1$s ending in %2$s (expires %3$s)","woo-gutenberg-products-block"),t.brand,t.last4,c)},Ye=e=>{let{method:t}=e;return t.brand&&t.last4?Object(u.sprintf)(
/* translators: %1$s is referring to the payment method brand, %2$s is referring to the last 4 digits of the payment card. */
Object(u.__)("%1$s ending in %2$s","woo-gutenberg-products-block"),t.brand,t.last4):Object(u.sprintf)(
/* translators: %s is the name of the payment method gateway. */
Object(u.__)("Saved token for %s","woo-gutenberg-products-block"),t.gateway)};var We=()=>{var e,t;const{customerPaymentMethods:c,activePaymentMethod:o,setActivePaymentMethod:n,activeSavedToken:s}=Object(de.b)(),{paymentMethods:a}=Object(pe.b)(),i=Object(Be.a)(),{noticeContexts:l}=Object(Le.d)(),{removeNotice:u}=Object(ae.useDispatch)("core/notices"),{dispatchCheckoutEvent:d}=Object(V.a)(),p=Object(r.useMemo)(()=>Object.keys(c).flatMap(e=>c[e].map(t=>{const c="cc"===e||"echeck"===e,r=t.method.gateway;return{name:"wc-saved-payment-method-token-"+r,label:c?ze(t):Ye(t),value:t.tokenId.toString(),onChange:e=>{n(r,{token:e,payment_method:r,[`wc-${r}-payment-token`]:e.toString(),isSavedToken:!0}),u("wc-payment-error",l.PAYMENTS),d("set-active-payment-method",{paymentMethodSlug:r})}}})).filter(Boolean),[c,n,u,l.PAYMENTS,d]),b=s&&a[o]&&null!==(e=a[o])&&void 0!==e&&e.savedTokenComponent?Object(r.cloneElement)(null===(t=a[o])||void 0===t?void 0:t.savedTokenComponent,{token:s,...i}):null;return p.length>0?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(He.a,{id:"wc-payment-method-saved-tokens",selected:s,options:p,onChange:()=>{}}),b):null},Ke=()=>{const{isInitialized:e,paymentMethods:t}=Object(pe.b)(),{customerPaymentMethods:c}=Object(de.b)();return e&&0===Object.keys(t).length?Object(r.createElement)(De,null):Object(r.createElement)(r.Fragment,null,Object(r.createElement)(We,null),Object.keys(c).length>0&&Object(r.createElement)(Re.a,{label:Object(u.__)("Use another payment method.","woo-gutenberg-products-block"),screenReaderLabel:Object(u.__)("Other available payment methods","woo-gutenberg-products-block"),wrapperElement:"p",wrapperProps:{className:["wc-block-components-checkout-step__description wc-block-components-checkout-step__description-payments-aligned"]}}),Object(r.createElement)(Ge,null))},Xe=()=>Object(r.createElement)(Ke,null),Qe={...z({defaultTitle:Object(u.__)("Payment options","woo-gutenberg-products-block"),defaultDescription:""}),className:{type:"string",default:""},lock:{type:"object",default:{move:!0,remove:!0}}};Object(l.registerBlockType)("woocommerce/checkout-payment-block",{icon:{src:Object(r.createElement)(i.a,{icon:Ne.a,className:"wc-block-editor-components-block-icon"})},attributes:Qe,edit:e=>{let{attributes:t,setAttributes:c}=e;const o=Object(D.getSetting)("globalPaymentMethods");return Object(r.createElement)(A,{attributes:t,setAttributes:c,className:n()("wc-block-checkout__payment-method",null==t?void 0:t.className)},Object(r.createElement)(d.InspectorControls,null,o.length>0&&Object(r.createElement)(O.PanelBody,{title:Object(u.__)("Methods","woo-gutenberg-products-block")},Object(r.createElement)("p",{className:"wc-block-checkout__controls-text"},Object(u.__)("You currently have the following payment integrations active.","woo-gutenberg-products-block")),o.map(e=>Object(r.createElement)(Pe,{key:e.id,href:`${D.ADMIN_URL}admin.php?page=wc-settings&tab=checkout&section=${e.id}`,title:e.title,description:e.description})),Object(r.createElement)(O.ExternalLink,{href:D.ADMIN_URL+"admin.php?page=wc-settings&tab=checkout"},Object(u.__)("Manage payment methods","woo-gutenberg-products-block")))),Object(r.createElement)($.a,null,Object(r.createElement)(Xe,null)),Object(r.createElement)(x,{block:k.innerBlockAreas.PAYMENT_METHODS}))},save:()=>Object(r.createElement)("div",d.useBlockProps.save(),Object(r.createElement)(I,null))});var Je=c(242),Ze=c(71),et=c(221);c(272);var tt=()=>{const{isCalculating:e,isProcessing:t,isAfterProcessing:c,isBeforeProcessing:o,isComplete:n,hasError:s}=Object(B.b)(),{currentStatus:a}=Object(de.b)(),{paymentMethods:i,isInitialized:l}=Object(pe.a)(),{isEditor:d}=Object(b.b)(),{noticeContexts:p}=Object(Le.d)();if(!l||l&&0===Object.keys(i).length)return d||D.CURRENT_USER_IS_ADMIN?Object(r.createElement)(Je.a,{context:p.EXPRESS_PAYMENTS}):null;const m=t||c||o||n&&!s;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(Ze.a,{isLoading:e||m||a.isDoingExpressPayment},Object(r.createElement)("div",{className:"wc-block-components-express-payment wc-block-components-express-payment--checkout"},Object(r.createElement)("div",{className:"wc-block-components-express-payment__title-container"},Object(r.createElement)(R.a,{className:"wc-block-components-express-payment__title",headingLevel:"2"},Object(u.__)("Express checkout","woo-gutenberg-products-block"))),Object(r.createElement)("div",{className:"wc-block-components-express-payment__content"},Object(r.createElement)(Je.a,{context:p.EXPRESS_PAYMENTS}),Object(r.createElement)("p",null,Object(u.__)("In a hurry? Use one of our express checkout options:","woo-gutenberg-products-block")),Object(r.createElement)(et.a,null)))),Object(r.createElement)("div",{className:"wc-block-components-express-payment-continue-rule wc-block-components-express-payment-continue-rule--checkout"},Object(u.__)("Or continue below","woo-gutenberg-products-block")))},ct=e=>{let{className:t}=e;const{cartNeedsPayment:c}=Object(Se.a)();return c?Object(r.createElement)("div",{className:t},Object(r.createElement)(tt,null)):null};c(449);const rt=()=>Object(r.createElement)(Te.a,{icon:Object(r.createElement)(i.a,{icon:Ne.a}),label:Object(u.__)("Express Checkout","woo-gutenberg-products-block"),className:"wp-block-woocommerce-checkout-express-payment-block-placeholder"},Object(r.createElement)("span",{className:"wp-block-woocommerce-checkout-express-payment-block-placeholder__description"},Object(u.__)("Your store does not have any payment methods that support the Express Checkout block. Once you have configured a compatible payment method, it will be displayed here.","woo-gutenberg-products-block")),Object(r.createElement)(Ae.a,{isPrimary:!0,href:D.ADMIN_URL+"admin.php?page=wc-settings&tab=checkout",target:"_blank",rel:"noopener noreferrer",className:"wp-block-woocommerce-checkout-express-payment-block-placeholder__button"},Object(u.__)("Configure Payment Methods","woo-gutenberg-products-block")));Object(l.registerBlockType)("woocommerce/checkout-express-payment-block",{icon:{src:Object(r.createElement)(i.a,{icon:Ne.a,className:"wc-block-editor-components-block-icon"})},edit:e=>{let{attributes:t}=e;const{paymentMethods:c,isInitialized:o}=Object(pe.a)(),s=Object.keys(c).length>0,a=Object(d.useBlockProps)({className:n()({"wp-block-woocommerce-checkout-express-payment-block--has-express-payment-methods":s},null==t?void 0:t.className),attributes:t});return o?Object(r.createElement)("div",a,s?Object(r.createElement)(ct,null):Object(r.createElement)(rt,null)):null},save:()=>Object(r.createElement)("div",d.useBlockProps.save())});var ot=c(544),nt=c(226),st=c(430),at=c(40),it=c(13);c(451);var lt=()=>Object(r.createElement)(Te.a,{icon:Object(r.createElement)(i.a,{icon:ot.a}),label:Object(u.__)("Shipping options","woo-gutenberg-products-block"),className:"wc-block-checkout__no-shipping-placeholder"},Object(r.createElement)("span",{className:"wc-block-checkout__no-shipping-placeholder-description"},Object(u.__)("Your store does not have any Shipping Options configured. Once you have added your Shipping Options they will appear here.","woo-gutenberg-products-block")),Object(r.createElement)(Ae.a,{isSecondary:!0,href:D.ADMIN_URL+"admin.php?page=wc-settings&tab=shipping",target:"_blank",rel:"noopener noreferrer"},Object(u.__)("Configure Shipping Options","woo-gutenberg-products-block")));c(450);const ut=e=>{const t=Object(D.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(e.price,10)+parseInt(e.taxes,10):parseInt(e.price,10);return{label:Object(it.decodeEntities)(e.name),value:e.rate_id,description:Object(it.decodeEntities)(e.description),secondaryLabel:Object(r.createElement)(at.a,{currency:Object(ve.getCurrencyFromPriceResponse)(e),value:t}),secondaryDescription:Object(it.decodeEntities)(e.delivery_time)}};var dt=()=>{const{isEditor:e}=Object(b.b)(),{shippingRates:t,needsShipping:c,isLoadingRates:o,hasCalculatedShipping:s}=Object(F.a)();if(!c)return null;const a=Object(st.a)(t);return e||s||a?Object(r.createElement)(r.Fragment,null,e&&!a?Object(r.createElement)(lt,null):Object(r.createElement)(nt.a,{noResultsMessage:Object(r.createElement)(xe.a,{isDismissible:!1,className:n()("wc-block-components-shipping-rates-control__no-results-notice","woocommerce-error")},Object(u.__)("There are no shipping options available. Please check your shipping address.","woo-gutenberg-products-block")),renderOption:ut,shippingRates:t,isLoadingRates:o,context:"woocommerce/checkout"})):Object(r.createElement)("p",null,Object(u.__)("Shipping options will be displayed here after entering your full shipping address.","woo-gutenberg-products-block"))},pt={...z({defaultTitle:Object(u.__)("Shipping options","woo-gutenberg-products-block"),defaultDescription:""}),allowCreateAccount:{type:"boolean",default:!1},className:{type:"string",default:""},lock:{type:"object",default:{move:!0,remove:!0}}};Object(l.registerBlockType)("woocommerce/checkout-shipping-methods-block",{icon:{src:Object(r.createElement)(i.a,{icon:ot.a,className:"wc-block-editor-components-block-icon"})},attributes:pt,edit:e=>{let{attributes:t,setAttributes:c}=e;const o=Object(D.getSetting)("globalShippingMethods"),s=Object(D.getSetting)("activeShippingZones");return Object(r.createElement)(A,{attributes:t,setAttributes:c,className:n()("wc-block-checkout__shipping-option",null==t?void 0:t.className)},Object(r.createElement)(d.InspectorControls,null,o.length>0&&Object(r.createElement)(O.PanelBody,{title:Object(u.__)("Methods","woo-gutenberg-products-block")},Object(r.createElement)("p",{className:"wc-block-checkout__controls-text"},Object(u.__)("The following shipping integrations are active on your store.","woo-gutenberg-products-block")),o.map(e=>Object(r.createElement)(Pe,{key:e.id,href:`${D.ADMIN_URL}admin.php?page=wc-settings&tab=shipping&section=${e.id}`,title:e.title,description:e.description})),Object(r.createElement)(O.ExternalLink,{href:D.ADMIN_URL+"admin.php?page=wc-settings&tab=shipping"},Object(u.__)("Manage shipping methods","woo-gutenberg-products-block"))),s.length&&Object(r.createElement)(O.PanelBody,{title:Object(u.__)("Zones","woo-gutenberg-products-block")},Object(r.createElement)("p",{className:"wc-block-checkout__controls-text"},Object(u.__)("You currently have the following shipping zones active.","woo-gutenberg-products-block")),s.map(e=>Object(r.createElement)(Pe,{key:e.id,href:`${D.ADMIN_URL}admin.php?page=wc-settings&tab=shipping&zone_id=${e.id}`,title:e.title,description:e.description})),Object(r.createElement)(O.ExternalLink,{href:D.ADMIN_URL+"admin.php?page=wc-settings&tab=shipping"},Object(u.__)("Manage shipping zones","woo-gutenberg-products-block")))),Object(r.createElement)($.a,null,Object(r.createElement)(dt,null)),Object(r.createElement)(x,{block:k.innerBlockAreas.SHIPPING_METHODS}))},save:()=>Object(r.createElement)("div",d.useBlockProps.save(),Object(r.createElement)(I,null))});var bt=e=>{let{className:t=""}=e;const{cartTotals:c}=Object(Se.a)(),o=Object(ve.getCurrencyFromPriceResponse)(c);return Object(r.createElement)(k.TotalsWrapper,{className:t},Object(r.createElement)(k.Subtotal,{currency:o,values:c}))};Object(l.registerBlockType)("woocommerce/checkout-order-summary-subtotal-block",{icon:{src:Object(r.createElement)(i.a,{icon:fe.a,className:"wc-block-editor-components-block-icon"})},edit:e=>{let{attributes:t}=e;const{className:c}=t,o=Object(d.useBlockProps)();return Object(r.createElement)("div",o,Object(r.createElement)(bt,{className:c}))},save:()=>Object(r.createElement)("div",d.useBlockProps.save())});var mt=e=>{let{className:t=""}=e;const{cartFees:c,cartTotals:o}=Object(Se.a)(),n=Object(ve.getCurrencyFromPriceResponse)(o);return Object(r.createElement)(k.TotalsWrapper,{className:t},Object(r.createElement)(k.TotalsFees,{currency:n,cartFees:c}))};Object(l.registerBlockType)("woocommerce/checkout-order-summary-fee-block",{icon:{src:Object(r.createElement)(i.a,{icon:fe.a,className:"wc-block-editor-components-block-icon"})},edit:e=>{let{attributes:t}=e;const{className:c}=t,o=Object(d.useBlockProps)();return Object(r.createElement)("div",o,Object(r.createElement)(mt,{className:c}))},save:()=>Object(r.createElement)("div",d.useBlockProps.save())});var gt=c(429),ht=c(222);const Ot=()=>{const{extensions:e,receiveCart:t,...c}=Object(Se.a)(),o={extensions:e,cart:c,context:"woocommerce/checkout"};return Object(r.createElement)(k.ExperimentalDiscountsMeta.Slot,o)};var _t=e=>{let{className:t=""}=e;const{cartTotals:c,cartCoupons:o}=Object(Se.a)(),{removeCoupon:n,isRemovingCoupon:s}=Object(ht.a)("wc/checkout"),a=Object(ve.getCurrencyFromPriceResponse)(c);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(k.TotalsWrapper,{className:t},Object(r.createElement)(gt.a,{cartCoupons:o,currency:a,isRemovingCoupon:s,removeCoupon:n,values:c})),Object(r.createElement)(Ot,null))};Object(l.registerBlockType)("woocommerce/checkout-order-summary-discount-block",{icon:{src:Object(r.createElement)(i.a,{icon:fe.a,className:"wc-block-editor-components-block-icon"})},edit:e=>{let{attributes:t}=e;const{className:c}=t,o=Object(d.useBlockProps)();return Object(r.createElement)("div",o,Object(r.createElement)(_t,{className:c}))},save:()=>Object(r.createElement)("div",d.useBlockProps.save())});var jt=c(475),Et=e=>{let{className:t=""}=e;const{cartTotals:c,cartNeedsShipping:o}=Object(Se.a)();if(!o)return null;const n=Object(ve.getCurrencyFromPriceResponse)(c);return Object(r.createElement)(k.TotalsWrapper,{className:t},Object(r.createElement)(jt.a,{showCalculator:!1,showRateSelector:!1,values:c,currency:n}))};Object(l.registerBlockType)("woocommerce/checkout-order-summary-shipping-block",{icon:{src:Object(r.createElement)(i.a,{icon:fe.a,className:"wc-block-editor-components-block-icon"})},edit:e=>{let{attributes:t}=e;const{className:c}=t,o=Object(d.useBlockProps)();return Object(r.createElement)("div",o,Object(r.createElement)($.a,null,Object(r.createElement)(Et,{className:c})))},save:()=>Object(r.createElement)("div",d.useBlockProps.save())});var kt=c(522),yt=c(431),ft=e=>{let{className:t=""}=e;const c=Object(D.getSetting)("couponsEnabled",!0),{applyCoupon:o,isApplyingCoupon:n}=Object(ht.a)("wc/checkout");return c?Object(r.createElement)(k.TotalsWrapper,{className:t},Object(r.createElement)(yt.a,{onSubmit:o,isLoading:n})):null};Object(l.registerBlockType)("woocommerce/checkout-order-summary-coupon-form-block",{icon:{src:Object(r.createElement)(i.a,{icon:kt.a,className:"wc-block-editor-components-block-icon"})},edit:e=>{let{attributes:t}=e;const{className:c}=t,o=Object(d.useBlockProps)();return Object(r.createElement)("div",o,Object(r.createElement)($.a,null,Object(r.createElement)(ft,{className:c})))},save:()=>Object(r.createElement)("div",d.useBlockProps.save())});var wt=e=>{let{className:t,showRateAfterTaxName:c}=e;const{cartTotals:o}=Object(Se.a)();if(Object(D.getSetting)("displayCartPricesIncludingTax",!1)||parseInt(o.total_tax,10)<=0)return null;const n=Object(ve.getCurrencyFromPriceResponse)(o);return Object(r.createElement)(k.TotalsWrapper,{className:t},Object(r.createElement)(k.TotalsTaxes,{showRateAfterTaxName:c,currency:n,values:o}))},vt={showRateAfterTaxName:{type:"boolean",default:Object(D.getSetting)("displayCartPricesIncludingTax",!1)},lock:{type:"object",default:{remove:!0,move:!1}}};Object(l.registerBlockType)("woocommerce/checkout-order-summary-taxes-block",{icon:{src:Object(r.createElement)(i.a,{icon:fe.a,className:"wc-block-editor-components-block-icon"})},attributes:vt,edit:e=>{let{attributes:t,setAttributes:c}=e;const{className:o,showRateAfterTaxName:n}=t,s=Object(d.useBlockProps)(),a=Object(D.getSetting)("taxesEnabled"),i=Object(D.getSetting)("displayItemizedTaxes",!1),l=Object(D.getSetting)("displayCartPricesIncludingTax",!1);return Object(r.createElement)("div",s,Object(r.createElement)(d.InspectorControls,null,a&&i&&!l&&Object(r.createElement)(O.PanelBody,{title:Object(u.__)("Taxes","woo-gutenberg-products-block")},Object(r.createElement)(O.ToggleControl,{label:Object(u.__)("Show rate after tax name","woo-gutenberg-products-block"),help:Object(u.__)("Show the percentage rate alongside each tax line in the summary.","woo-gutenberg-products-block"),checked:n,onChange:()=>c({showRateAfterTaxName:!n})}))),Object(r.createElement)(wt,{className:o,showRateAfterTaxName:n}))},save:()=>Object(r.createElement)("div",d.useBlockProps.save())});var St=c(266),Ct=c(302),Nt=c(80),Pt=c(104),Rt=c(117),Tt=c(98),At=c(237),xt=c(236),It=c(238),Mt=c(239);const Dt=e=>Object(k.mustContain)(e,"<price/>");var Bt=e=>{let{cartItem:t}=e;const{images:c,low_stock_remaining:o,show_backorder_badge:s,name:a,permalink:i,prices:l,quantity:d,short_description:p,description:b,item_data:m,variation:g,totals:h,extensions:O}=t,{receiveCart:_,...j}=Object(Se.a)(),E=Object(r.useMemo)(()=>({context:"summary",cartItem:t,cart:j}),[t,j]),y=Object(ve.getCurrencyFromPriceResponse)(l),f=Object(k.__experimentalApplyCheckoutFilter)({filterName:"itemName",defaultValue:a,extensions:O,arg:E}),w=Object(Rt.a)({amount:parseInt(l.raw_prices.regular_price,10),precision:Object(Tt.a)(l.raw_prices.precision)?parseInt(l.raw_prices.precision,10):l.raw_prices.precision}).convertPrecision(y.minorUnit).getAmount(),v=Object(Rt.a)({amount:parseInt(l.raw_prices.price,10),precision:Object(Tt.a)(l.raw_prices.precision)?parseInt(l.raw_prices.precision,10):l.raw_prices.precision}).convertPrecision(y.minorUnit).getAmount(),S=Object(ve.getCurrencyFromPriceResponse)(h);let C=parseInt(h.line_subtotal,10);Object(D.getSetting)("displayCartPricesIncludingTax",!1)&&(C+=parseInt(h.line_subtotal_tax,10));const N=Object(Rt.a)({amount:C,precision:S.minorUnit}).getAmount(),P=Object(k.__experimentalApplyCheckoutFilter)({filterName:"subtotalPriceFormat",defaultValue:"<price/>",extensions:O,arg:E,validation:Dt}),R=Object(k.__experimentalApplyCheckoutFilter)({filterName:"cartItemPrice",defaultValue:"<price/>",extensions:O,arg:E,validation:Dt}),T=Object(k.__experimentalApplyCheckoutFilter)({filterName:"cartItemClass",defaultValue:"",extensions:O,arg:E});return Object(r.createElement)("div",{className:n()("wc-block-components-order-summary-item",T)},Object(r.createElement)("div",{className:"wc-block-components-order-summary-item__image"},Object(r.createElement)("div",{className:"wc-block-components-order-summary-item__quantity"},Object(r.createElement)(Re.a,{label:d.toString(),screenReaderLabel:Object(u.sprintf)(
/* translators: %d number of products of the same type in the cart */
Object(u._n)("%d item","%d items",d,"woo-gutenberg-products-block"),d)})),Object(r.createElement)(xt.a,{image:c.length?c[0]:{},fallbackAlt:f})),Object(r.createElement)("div",{className:"wc-block-components-order-summary-item__description"},Object(r.createElement)(Pt.a,{disabled:!0,name:f,permalink:i}),Object(r.createElement)(Nt.a,{currency:y,price:v,regularPrice:w,className:"wc-block-components-order-summary-item__individual-prices",priceClassName:"wc-block-components-order-summary-item__individual-price",regularPriceClassName:"wc-block-components-order-summary-item__regular-individual-price",format:P}),s?Object(r.createElement)(At.a,null):!!o&&Object(r.createElement)(It.a,{lowStockRemaining:o}),Object(r.createElement)(Mt.a,{shortDescription:p,fullDescription:b,itemData:m,variation:g})),Object(r.createElement)("span",{className:"screen-reader-text"},Object(u.sprintf)(
/* translators: %1$d is the number of items, %2$s is the item name and %3$s is the total price including the currency symbol. */
Object(u._n)("Total price for %1$d %2$s item: %3$s","Total price for %1$d %2$s items: %3$s",d,"woo-gutenberg-products-block"),d,f,Object(ve.formatPrice)(N,S))),Object(r.createElement)("div",{className:"wc-block-components-order-summary-item__total-price","aria-hidden":"true"},Object(r.createElement)(Nt.a,{currency:S,format:R,price:N})))};c(452);var Lt=e=>{let{cartItems:t=[]}=e;const{isLarge:c,hasContainerWidth:o}=Object(Ct.b)();return o?Object(r.createElement)(k.Panel,{className:"wc-block-components-order-summary",initialOpen:c,hasBorder:!1,title:Object(r.createElement)("span",{className:"wc-block-components-order-summary__button-text"},Object(u.__)("Order summary","woo-gutenberg-products-block")),titleTag:"h2"},Object(r.createElement)("div",{className:"wc-block-components-order-summary__content"},t.map(e=>Object(r.createElement)(Bt,{key:e.key,cartItem:e})))):null},Ft=e=>{let{className:t}=e;const{cartItems:c}=Object(Se.a)();return Object(r.createElement)(k.TotalsWrapper,{className:t},Object(r.createElement)(Lt,{cartItems:c}))};Object(l.registerBlockType)("woocommerce/checkout-order-summary-cart-items-block",{icon:{src:Object(r.createElement)(i.a,{icon:St.a,className:"wc-block-editor-components-block-icon"})},edit:e=>{let{attributes:t}=e;const{className:c}=t,o=Object(d.useBlockProps)();return Object(r.createElement)("div",o,Object(r.createElement)(Ft,{className:c}))},save:()=>Object(r.createElement)("div",d.useBlockProps.save())}),c(453);var Ut=c(434),Vt=c(435);c(288),Object(Ut.a)();const $t=["woocommerce/checkout-fields-block","woocommerce/checkout-totals-block"],qt={hasDarkControls:{type:"boolean",default:Object(D.getSetting)("hasDarkEditorStyleSupport",!1)},showRateAfterTaxName:{type:"boolean",default:Object(D.getSetting)("displayCartPricesIncludingTax",!1)}},Gt={showOrderNotes:{type:"boolean",default:!0},showPolicyLinks:{type:"boolean",default:!0},showReturnToCart:{type:"boolean",default:!0},cartPageId:{type:"number",default:0}};var Ht=c(249);const zt={icon:{src:Object(r.createElement)(i.a,{icon:a,className:"wc-block-editor-components-block-icon"})},attributes:{...Ht.attributes,...qt,...Gt},edit:e=>{let{attributes:t,setAttributes:c}=e;const{allowCreateAccount:o,showCompanyField:s,requireCompanyField:a,showApartmentField:i,showPhoneField:l,requirePhoneField:j,showOrderNotes:E,showPolicyLinks:k,showReturnToCart:w,showRateAfterTaxName:v,cartPageId:S}=t,C=e=>{const r={};r[e]=!t[e],c(r)},N=Object(Ut.b)();return Object(r.createElement)("div",N,Object(r.createElement)(d.InspectorControls,null,Object(r.createElement)(Vt.a,{attributes:t,setAttributes:c})),Object(r.createElement)(b.a,{previewData:{previewCart:g.a,previewSavedPaymentMethods:h}},Object(r.createElement)(m.a,null,Object(r.createElement)(p.a,{className:n()("wc-block-checkout",{"has-dark-controls":t.hasDarkControls})},Object(r.createElement)(f.Provider,{value:{addressFieldControls:()=>Object(r.createElement)(d.InspectorControls,null,Object(r.createElement)(O.PanelBody,{title:Object(u.__)("Address Fields","woo-gutenberg-products-block")},Object(r.createElement)("p",{className:"wc-block-checkout__controls-text"},Object(u.__)("Show or hide fields in the checkout address forms.","woo-gutenberg-products-block")),Object(r.createElement)(O.ToggleControl,{label:Object(u.__)("Company","woo-gutenberg-products-block"),checked:s,onChange:()=>C("showCompanyField")}),s&&Object(r.createElement)(O.CheckboxControl,{label:Object(u.__)("Require company name?","woo-gutenberg-products-block"),checked:a,onChange:()=>C("requireCompanyField"),className:"components-base-control--nested"}),Object(r.createElement)(O.ToggleControl,{label:Object(u.__)("Apartment, suite, etc.","woo-gutenberg-products-block"),checked:i,onChange:()=>C("showApartmentField")}),Object(r.createElement)(O.ToggleControl,{label:Object(u.__)("Phone","woo-gutenberg-products-block"),checked:l,onChange:()=>C("showPhoneField")}),l&&Object(r.createElement)(O.CheckboxControl,{label:Object(u.__)("Require phone number?","woo-gutenberg-products-block"),checked:j,onChange:()=>C("requirePhoneField"),className:"components-base-control--nested"})),Object(r.createElement)(_.a,null)),accountControls:()=>Object(r.createElement)(d.InspectorControls,null,Object(r.createElement)(O.PanelBody,{title:Object(u.__)("Account options","woo-gutenberg-products-block")},Object(r.createElement)(O.ToggleControl,{label:Object(u.__)("Allow shoppers to sign up for a user account during checkout","woo-gutenberg-products-block"),checked:o,onChange:()=>c({allowCreateAccount:!o})})),Object(r.createElement)(_.a,null))}},Object(r.createElement)(y.Provider,{value:{allowCreateAccount:o,showCompanyField:s,requireCompanyField:a,showApartmentField:i,showPhoneField:l,requirePhoneField:j,showOrderNotes:E,showPolicyLinks:k,showReturnToCart:w,cartPageId:S,showRateAfterTaxName:v}},Object(r.createElement)(d.InnerBlocks,{allowedBlocks:$t,template:[["woocommerce/checkout-fields-block",{},[]],["woocommerce/checkout-totals-block",{},[]]],templateLock:"insert"})))))))},save:()=>Object(r.createElement)("div",d.useBlockProps.save({className:"wc-block-checkout is-loading"}),Object(r.createElement)(d.InnerBlocks.Content,null)),deprecated:[{attributes:{...Ht.attributes,...qt,...Gt},save(e){let{attributes:t}=e;return Object(r.createElement)("div",{className:n()("is-loading",t.className)})},migrate:e=>{const{showOrderNotes:t,showPolicyLinks:c,showReturnToCart:r,cartPageId:o}=e;return[e,[Object(l.createBlock)("woocommerce/checkout-fields-block",{},[Object(l.createBlock)("woocommerce/checkout-express-payment-block",{},[]),Object(l.createBlock)("woocommerce/checkout-contact-information-block",{},[]),Object(l.createBlock)("woocommerce/checkout-shipping-address-block",{},[]),Object(l.createBlock)("woocommerce/checkout-billing-address-block",{},[]),Object(l.createBlock)("woocommerce/checkout-shipping-methods-block",{},[]),Object(l.createBlock)("woocommerce/checkout-payment-block",{},[]),!!t&&Object(l.createBlock)("woocommerce/checkout-order-note-block",{},[]),!!c&&Object(l.createBlock)("woocommerce/checkout-terms-block",{},[]),Object(l.createBlock)("woocommerce/checkout-actions-block",{showReturnToCart:r,cartPageId:o},[])].filter(Boolean)),Object(l.createBlock)("woocommerce/checkout-totals-block",{})]]},isEligible:(e,t)=>!t.some(e=>"woocommerce/checkout-fields-block"===e.name)}]};Object(l.registerBlockType)(Ht,zt)},,,,,,,,function(e,t,c){"use strict";var r=c(0),o=c(303),n=c(6),s=c.n(n),a=c(22),i=c(1),l=c(13),u=c(4),d=c.n(u),p=c(10),b=c(549),m=c(107),g=c(235),h=c(33);c(279);var O=Object(p.withInstanceId)(e=>{let{id:t,className:c,label:o,onChange:n,options:s,value:a,required:l=!1,errorMessage:u=Object(i.__)("Please select a value.","woo-gutenberg-products-block"),errorId:p,instanceId:O="0",autoComplete:_="off"}=e;const{getValidationError:j,setValidationErrors:E,clearValidationError:k}=Object(m.b)(),y=Object(r.useRef)(null),f=t||"control-"+O,w=p||f,v=j(w)||{message:"",hidden:!1};return Object(r.useEffect)(()=>(!l||a?k(w):E({[w]:{message:u,hidden:!0}}),()=>{k(w)}),[k,a,w,u,l,E]),Object(r.createElement)("div",{id:f,className:d()("wc-block-components-combobox",c,{"is-active":a,"has-error":v.message&&!v.hidden}),ref:y},Object(r.createElement)(b.a,{className:"wc-block-components-combobox-control",label:o,onChange:n,onFilterValueChange:e=>{if(e.length){const t=Object(h.a)(y.current)?y.current.ownerDocument.activeElement:void 0;if(t&&Object(h.a)(y.current)&&y.current.contains(t))return;const c=e.toLocaleUpperCase(),r=s.find(e=>e.label.toLocaleUpperCase().startsWith(c)||e.value.toLocaleUpperCase()===c);r&&n(r.value)}},options:s,value:a||"",allowReset:!1,autoComplete:_,"aria-invalid":v.message&&!v.hidden}),Object(r.createElement)(g.a,{propertyName:w}))});c(278);var _=e=>{let{className:t,countries:c,id:o,label:n,onChange:s,value:a="",autoComplete:u="off",required:p=!1,errorId:b,errorMessage:m=Object(i.__)("Please select a country.","woo-gutenberg-products-block")}=e;const g=Object(r.useMemo)(()=>Object.entries(c).map(e=>{let[t,c]=e;return{value:t,label:Object(l.decodeEntities)(c)}}),[c]);return Object(r.createElement)("div",{className:d()(t,"wc-block-components-country-input")},Object(r.createElement)(O,{id:o,label:n,onChange:s,options:g,value:a,errorId:b,errorMessage:m,required:p,autoComplete:u}),"off"!==u&&Object(r.createElement)("input",{type:"text","aria-hidden":!0,autoComplete:u,value:a,onChange:e=>{const t=e.target.value.toLocaleUpperCase(),c=g.find(e=>2!==t.length&&e.label.toLocaleUpperCase()===t||2===t.length&&e.value.toLocaleUpperCase()===t);s(c?c.value:"")},style:{minHeight:"0",height:"0",border:"0",padding:"0",position:"absolute"},tabIndex:-1}))},j=e=>Object(r.createElement)(_,s()({countries:a.h},e)),E=e=>Object(r.createElement)(_,s()({countries:a.a},e));c(280);const k=(e,t)=>{const c=t.find(t=>t.label.toLocaleUpperCase()===e.toLocaleUpperCase()||t.value.toLocaleUpperCase()===e.toLocaleUpperCase());return c?c.value:""};var y=e=>{let{className:t,id:c,states:n,country:s,label:a,onChange:u,autoComplete:p="off",value:b="",required:m=!1}=e;const g=n[s],h=Object(r.useMemo)(()=>g?Object.keys(g).map(e=>({value:e,label:Object(l.decodeEntities)(g[e])})):[],[g]),_=Object(r.useCallback)(e=>{u(h.length>0?k(e,h):e)},[u,h]),j=Object(r.useRef)(b);return Object(r.useEffect)(()=>{j.current!==b&&(j.current=b)},[b]),Object(r.useEffect)(()=>{if(h.length>0&&j.current){const e=k(j.current,h);e!==j.current&&_(e)}},[h,_]),h.length>0?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(O,{className:d()(t,"wc-block-components-state-input"),id:c,label:a,onChange:_,options:h,value:b,errorMessage:Object(i.__)("Please select a state.","woo-gutenberg-products-block"),required:m,autoComplete:p}),"off"!==p&&Object(r.createElement)("input",{type:"text","aria-hidden":!0,autoComplete:p,value:b,onChange:e=>_(e.target.value),style:{minHeight:"0",height:"0",border:"0",padding:"0",position:"absolute"},tabIndex:-1})):Object(r.createElement)(o.a,{className:t,id:c,label:a,onChange:_,autoComplete:p,value:b,required:m})},f=e=>Object(r.createElement)(y,s()({states:a.i},e)),w=e=>Object(r.createElement)(y,s()({states:a.b},e)),v=c(51),S=c(2),C=c(94);t.a=Object(p.withInstanceId)(e=>{let{id:t="",fields:c=Object.keys(S.defaultAddressFields),fieldConfig:n={},instanceId:s,onChange:a,type:l="shipping",values:u}=e;const{getValidationError:d,setValidationErrors:p,clearValidationError:b}=Object(m.b)(),g=Object(v.a)(c),h=d("shipping-missing-country")||{},O=Object(r.useMemo)(()=>Object(C.a)(g,n,u.country),[g,n,u.country]);return Object(r.useEffect)(()=>{O.forEach(e=>{e.hidden&&u[e.key]&&a({...u,[e.key]:""})})},[O,a,u]),Object(r.useEffect)(()=>{"shipping"===l&&((e,t,c,r)=>{r||e.country||!(e.city||e.state||e.postcode)||t({"shipping-missing-country":{message:Object(i.__)("Please select a country to calculate rates.","woo-gutenberg-products-block"),hidden:!1}}),r&&e.country&&c("shipping-missing-country")})(u,p,b,!!h.message&&!h.hidden)},[u,h.message,h.hidden,p,b,l]),t=t||s,Object(r.createElement)("div",{id:t,className:"wc-block-components-address-form"},O.map(e=>{if(e.hidden)return null;if("country"===e.key){const c="shipping"===l?j:E;return Object(r.createElement)(c,{key:e.key,id:`${t}-${e.key}`,label:e.required?e.label:e.optionalLabel,value:u.country,autoComplete:e.autocomplete,onChange:e=>a({...u,country:e,state:""}),errorId:"shipping"===l?"shipping-missing-country":null,errorMessage:e.errorMessage,required:e.required})}if("state"===e.key){const c="shipping"===l?f:w;return Object(r.createElement)(c,{key:e.key,id:`${t}-${e.key}`,country:u.country,label:e.required?e.label:e.optionalLabel,value:u.state,autoComplete:e.autocomplete,onChange:e=>a({...u,state:e}),errorMessage:e.errorMessage,required:e.required})}return Object(r.createElement)(o.a,{key:e.key,id:`${t}-${e.key}`,className:"wc-block-components-address-form__"+e.key,label:e.required?e.label:e.optionalLabel,value:u[e.key],autoCapitalize:e.autocapitalize,autoComplete:e.autocomplete,onChange:t=>a({...u,[e.key]:t}),errorMessage:e.errorMessage,required:e.required})}))})},,function(e,t,c){"use strict";var r=c(6),o=c.n(r),n=c(0),s=c(4),a=c.n(s),i=c(1),l=c(39),u=c(18),d=c(2),p=c(13);const b=e=>{let{selectedShippingRates:t}=e;return Object(n.createElement)("div",{className:"wc-block-components-totals-item__description wc-block-components-totals-shipping__via"},Object(i.__)("via","woo-gutenberg-products-block")," ",Object(p.decodeEntities)(t.join(", ")))};var m=c(304),g=c(226),h=e=>{let{hasRates:t,shippingRates:c,isLoadingRates:r}=e;const o=t?Object(i.__)("Shipping options","woo-gutenberg-products-block"):Object(i.__)("Choose a shipping option","woo-gutenberg-products-block");return Object(n.createElement)("fieldset",{className:"wc-block-components-totals-shipping__fieldset"},Object(n.createElement)("legend",{className:"screen-reader-text"},o),Object(n.createElement)(g.a,{className:"wc-block-components-totals-shipping__options",collapsible:!0,noResultsMessage:Object(n.createElement)(m.a,{isDismissible:!1,className:a()("wc-block-components-shipping-rates-control__no-results-notice","woocommerce-error")},Object(i.__)("No shipping options were found.","woo-gutenberg-products-block")),shippingRates:c,isLoadingRates:r,context:"woocommerce/cart"}))},O=c(92),_=c(60),j=c(24),E=c.n(j),k=c(107),y=(c(202),c(473)),f=e=>{let{address:t,onUpdate:c,addressFields:r}=e;const[o,s]=Object(n.useState)(t),{hasValidationErrors:a,showAllValidationErrors:l}=Object(k.b)();return Object(n.createElement)("form",{className:"wc-block-components-shipping-calculator-address"},Object(n.createElement)(y.a,{fields:r,onChange:s,values:o}),Object(n.createElement)(_.a,{className:"wc-block-components-shipping-calculator-address__button",disabled:E()(o,t),onClick:e=>{if(e.preventDefault(),l(),!a)return c(o)},type:"submit"},Object(i.__)("Update","woo-gutenberg-products-block")))},w=e=>{let{onUpdate:t=(()=>{}),addressFields:c=["country","state","city","postcode"]}=e;const{shippingAddress:r,setShippingAddress:o,setBillingAddress:s}=Object(O.a)();return Object(n.createElement)("div",{className:"wc-block-components-shipping-calculator"},Object(n.createElement)(f,{address:r,addressFields:c,onUpdate:e=>{o(e),s(e),t(e)}}))},v=e=>{let{address:t}=e;if(0===Object.values(t).length)return null;const c=Object(d.getSetting)("shippingCountries",{}),r=Object(d.getSetting)("shippingStates",{}),o="string"==typeof c[t.country]?Object(p.decodeEntities)(c[t.country]):"",s="object"==typeof r[t.country]&&"string"==typeof r[t.country][t.state]?Object(p.decodeEntities)(r[t.country][t.state]):t.state,a=[];a.push(t.postcode.toUpperCase()),a.push(t.city),a.push(s),a.push(o);const l=a.filter(Boolean).join(", ");return l?Object(n.createElement)("span",{className:"wc-block-components-shipping-address"},Object(i.sprintf)(
/* translators: %s location. */
Object(i.__)("Shipping to %s","woo-gutenberg-products-block"),l)+" "):null};c(277);const S=e=>{let{label:t=Object(i.__)("Calculate","woo-gutenberg-products-block"),isShippingCalculatorOpen:c,setIsShippingCalculatorOpen:r}=e;return Object(n.createElement)("button",{className:"wc-block-components-totals-shipping__change-address-button",onClick:()=>{r(!c)},"aria-expanded":c},t)},C=e=>{let{showCalculator:t,isShippingCalculatorOpen:c,setIsShippingCalculatorOpen:r,shippingAddress:o}=e;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(v,{address:o}),t&&Object(n.createElement)(S,{label:Object(i.__)("(change address)","woo-gutenberg-products-block"),isShippingCalculatorOpen:c,setIsShippingCalculatorOpen:r}))},N=e=>{let{showCalculator:t,isShippingCalculatorOpen:c,setIsShippingCalculatorOpen:r,isCheckout:o=!1}=e;return t?Object(n.createElement)(S,{isShippingCalculatorOpen:c,setIsShippingCalculatorOpen:r}):Object(n.createElement)("em",null,o?Object(i.__)("No shipping options available","woo-gutenberg-products-block"):Object(i.__)("Calculated during checkout","woo-gutenberg-products-block"))};t.a=e=>{let{currency:t,values:c,showCalculator:r=!0,showRateSelector:s=!0,isCheckout:p=!1,className:m}=e;const[g,O]=Object(n.useState)(!1),{shippingAddress:_,cartHasCalculatedShipping:j,shippingRates:E,isLoadingRates:k}=Object(l.a)(),y=Object(d.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(c.total_shipping,10)+parseInt(c.total_shipping_tax,10):parseInt(c.total_shipping,10),f=E.some(e=>e.shipping_rates.length)||y,v={isShippingCalculatorOpen:g,setIsShippingCalculatorOpen:O},S=E.flatMap(e=>e.shipping_rates.filter(e=>e.selected).flatMap(e=>e.name));return Object(n.createElement)("div",{className:a()("wc-block-components-totals-shipping",m)},Object(n.createElement)(u.TotalsItem,{label:Object(i.__)("Shipping","woo-gutenberg-products-block"),value:f&&j?y:Object(n.createElement)(N,o()({showCalculator:r,isCheckout:p},v)),description:f&&j?Object(n.createElement)(n.Fragment,null,Object(n.createElement)(b,{selectedShippingRates:S}),Object(n.createElement)(C,o()({shippingAddress:_,showCalculator:r},v))):null,currency:t}),r&&g&&Object(n.createElement)(w,{onUpdate:()=>{O(!1)}}),s&&j&&Object(n.createElement)(h,{hasRates:f,shippingRates:E,isLoadingRates:k}))}}]);