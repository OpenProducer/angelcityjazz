(window.webpackWcBlocksJsonp=window.webpackWcBlocksJsonp||[]).push([[56],{140:function(e,t,r){"use strict";var s=r(0);r(203),t.a=()=>Object(s.createElement)("span",{className:"wc-block-components-spinner","aria-hidden":"true"})},203:function(e,t){},214:function(e,t,r){"use strict";r.d(t,"b",(function(){return Y})),r.d(t,"a",(function(){return L}));var s=r(0),a=r(18),c=r(7);let n,i;!function(e){e.PRISTINE="pristine",e.STARTED="started",e.PROCESSING="processing",e.ERROR="has_error",e.FAILED="failed",e.SUCCESS="success",e.COMPLETE="complete"}(n||(n={})),function(e){e.SET_REGISTERED_PAYMENT_METHODS="set_registered_payment_methods",e.SET_REGISTERED_EXPRESS_PAYMENT_METHODS="set_registered_express_payment_methods",e.SET_SHOULD_SAVE_PAYMENT_METHOD="set_should_save_payment_method",e.SET_ACTIVE_PAYMENT_METHOD="set_active_payment_method"}(i||(i={}));const o={currentStatus:n.PRISTINE,shouldSavePaymentMethod:!1,activePaymentMethod:"",paymentMethodData:{payment_method:""},errorMessage:"",paymentMethods:{},expressPaymentMethods:{}},l={setPaymentStatus:()=>({pristine:()=>{},started:()=>{},processing:()=>{},completed:()=>{},error:e=>{},failed:(e,t)=>{},success:(e,t)=>{}}),currentStatus:{isPristine:!0,isStarted:!1,isProcessing:!1,isFinished:!1,hasError:!1,hasFailed:!1,isSuccessful:!1,isDoingExpressPayment:!1},paymentStatuses:n,paymentMethodData:{},errorMessage:"",activePaymentMethod:"",activeSavedToken:"",setActivePaymentMethod:()=>{},customerPaymentMethods:{},paymentMethods:{},expressPaymentMethods:{},paymentMethodsInitialized:!1,expressPaymentMethodsInitialized:!1,onPaymentProcessing:()=>()=>()=>{},setExpressPaymentError:()=>{},isExpressPaymentMethodActive:!1,setShouldSavePayment:()=>{},shouldSavePayment:!1};var u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,{type:t,paymentMethodData:r,shouldSavePaymentMethod:s=!1,errorMessage:a="",paymentMethods:c={},paymentMethod:l=""}=arguments.length>1?arguments[1]:void 0;switch(t){case n.PRISTINE:return{...o,...e,errorMessage:"",currentStatus:n.PRISTINE};case n.STARTED:return{...e,currentStatus:n.STARTED};case n.ERROR:return e.currentStatus!==n.ERROR?{...e,currentStatus:n.ERROR,errorMessage:a||e.errorMessage}:e;case n.FAILED:return e.currentStatus!==n.FAILED?{...e,currentStatus:n.FAILED,paymentMethodData:r||e.paymentMethodData,errorMessage:a||e.errorMessage}:e;case n.SUCCESS:return e.currentStatus!==n.SUCCESS?{...e,currentStatus:n.SUCCESS,paymentMethodData:r||e.paymentMethodData}:e;case n.PROCESSING:return e.currentStatus!==n.PROCESSING?{...e,currentStatus:n.PROCESSING,errorMessage:""}:e;case n.COMPLETE:return e.currentStatus!==n.COMPLETE?{...e,currentStatus:n.COMPLETE}:e;case i.SET_REGISTERED_PAYMENT_METHODS:return{...e,paymentMethods:c};case i.SET_REGISTERED_EXPRESS_PAYMENT_METHODS:return{...e,expressPaymentMethods:c};case i.SET_SHOULD_SAVE_PAYMENT_METHOD:return{...e,shouldSavePaymentMethod:s};case i.SET_ACTIVE_PAYMENT_METHOD:return{...e,activePaymentMethod:l,paymentMethodData:r||e.paymentMethodData}}},d=r(1),p=r(16),m=r(31),_=r(2),g=r(51),y=r(25),h=r.n(y),b=r(29),S=r(50),E=r(32),v=r(30),O=r(68);const f=(e,t,r,a)=>{const[n,i]=Object(s.useState)(!1),{isEditor:o}=Object(b.a)(),{selectedRates:l}=Object(O.a)(),{billingAddress:u,shippingAddress:p}=Object(S.b)(),y=Object(m.a)(l),v=Object(m.a)(r),f=Object(E.a)(),{cartTotals:M,cartIsLoading:j,cartNeedsShipping:P,paymentRequirements:w}=f,k=Object(s.useRef)({cart:f,cartTotals:M,cartNeedsShipping:P,billingData:u,billingAddress:u,shippingAddress:p,selectedShippingMethods:y,paymentRequirements:w}),{createErrorNotice:R}=Object(c.useDispatch)("core/notices");Object(s.useEffect)(()=>{k.current={cart:f,cartTotals:M,cartNeedsShipping:P,get billingData(){return h()("billingData",{alternative:"billingAddress",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-blocks/pull/6369"}),this.billingAddress},billingAddress:u,shippingAddress:p,selectedShippingMethods:y,paymentRequirements:w}},[f,M,P,u,p,y,w]);const x=Object(s.useCallback)(async()=>{let r={};const s=e=>{r={...r,[e.name]:e}};for(let e=0;e<v.length;e++){const r=v[e],c=t[r];if(c)try{const e=!!o||await Promise.resolve(c.canMakePayment(k.current));if(e){if("object"==typeof e&&null!==e&&e.error)throw new Error(e.error.message);s(c)}}catch(e){if(_.CURRENT_USER_IS_ADMIN||o){const t=Object(d.sprintf)(
/* translators: %s the id of the payment method being registered (bank transfer, cheque...) */
Object(d.__)("There was an error registering the payment method with id '%s': ","woo-gutenberg-products-block"),c.paymentMethodId);R(`${t} ${e}`,{context:a,id:`wc-${c.paymentMethodId}-registration-error`})}}}e(r),i(!0)},[R,e,o,a,v,t]),T=Object(g.a)(x,500,{leading:!0});return Object(s.useEffect)(()=>{j||T()},[T,f,y,u,j]),n},M=e=>({type:e}),j=e=>({type:n.ERROR,errorMessage:e}),P=e=>{let{errorMessage:t,paymentMethodData:r}=e;return{type:n.FAILED,errorMessage:t,paymentMethodData:r}},w=e=>{let{paymentMethodData:t}=e;return{type:n.SUCCESS,paymentMethodData:t}},k=e=>({type:i.SET_REGISTERED_PAYMENT_METHODS,paymentMethods:e}),R=e=>({type:i.SET_REGISTERED_EXPRESS_PAYMENT_METHODS,paymentMethods:e}),x=e=>({type:i.SET_SHOULD_SAVE_PAYMENT_METHOD,shouldSavePaymentMethod:e}),T=(e,t)=>({type:i.SET_ACTIVE_PAYMENT_METHOD,paymentMethod:e,paymentMethodData:t});var D=r(69),A=r(36),C=r(99),I=r(211);var N=r(213),$=r(206);const U=Object(s.createContext)(l),Y=()=>Object(s.useContext)(U),L=e=>{let{children:t}=e;const{isProcessing:r,isIdle:i,isCalculating:l,hasError:d}=Object(A.b)(),{isEditor:m,getPreviewData:g}=Object(b.a)(),{setValidationErrors:y}=Object($.b)(),{createErrorNotice:h,removeNotice:S}=Object(c.useDispatch)("core/notices"),{isSuccessResponse:E,isErrorResponse:O,isFailResponse:Y,noticeContexts:L}=Object(v.d)(),[z,H]=Object(s.useReducer)(C.b,{}),{onPaymentProcessing:F}=(e=>Object(s.useMemo)(()=>({onPaymentProcessing:Object(I.a)("payment_processing",e)}),[e]))(H),q=Object(s.useRef)(z);Object(s.useEffect)(()=>{q.current=z},[z]);const[G,B]=Object(s.useReducer)(u,o),{dispatchActions:V,setPaymentStatus:X}=(e=>{const{setBillingAddress:t,setShippingAddress:r}=Object(D.a)();return{dispatchActions:Object(s.useMemo)(()=>({setRegisteredPaymentMethods:t=>{e(k(t))},setRegisteredExpressPaymentMethods:t=>{e(R(t))},setShouldSavePayment:t=>{e(x(t))},setActivePaymentMethod:function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(T(t,r))}}),[e]),setPaymentStatus:Object(s.useCallback)(()=>({pristine:()=>e(M(n.PRISTINE)),started:()=>e(M(n.STARTED)),processing:()=>e(M(n.PROCESSING)),completed:()=>e(M(n.COMPLETE)),error:t=>e(j(t)),failed:function(r,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;a&&t(a),e(P({errorMessage:r||"",paymentMethodData:s||{}}))},success:function(s){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;a&&t(a),void 0!==typeof c&&null!=c&&c.address&&r(c.address),e(w({paymentMethodData:s}))}}),[e,t,r])}})(B),K=(e=>{const t=Object(p.getPaymentMethods)(),{noticeContexts:r}=Object(v.d)(),s=new Set([...Object(_.getSetting)("paymentGatewaySortOrder",[]),...Object.keys(t)]);return f(e,t,Array.from(s),r.PAYMENTS)})(V.setRegisteredPaymentMethods),W=(e=>{const t=Object(p.getExpressPaymentMethods)(),{noticeContexts:r}=Object(v.d)();return f(e,t,Object.keys(t),r.EXPRESS_PAYMENTS)})(V.setRegisteredExpressPaymentMethods),J=Object(s.useMemo)(()=>m?g("previewSavedPaymentMethods"):K?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0===Object.keys(e).length)return{};const t=Object(_.getSetting)("customerPaymentMethods",{}),r=Object.keys(t),s={};return r.forEach(r=>{const a=t[r].filter(t=>{var r;let{method:{gateway:s}}=t;return s in e&&(null===(r=e[s].supports)||void 0===r?void 0:r.showSavedCards)});a.length&&(s[r]=a)}),s}(G.paymentMethods):{},[m,g,K,G.paymentMethods]),Z=Object(s.useCallback)(e=>{e?h(e,{id:"wc-express-payment-error",context:L.EXPRESS_PAYMENTS}):S("wc-express-payment-error",L.EXPRESS_PAYMENTS)},[h,L.EXPRESS_PAYMENTS,S]),Q=Object.keys(G.expressPaymentMethods).includes(G.activePaymentMethod),ee=Object(s.useMemo)(()=>({isPristine:G.currentStatus===n.PRISTINE,isStarted:G.currentStatus===n.STARTED,isProcessing:G.currentStatus===n.PROCESSING,isFinished:[n.ERROR,n.FAILED,n.SUCCESS].includes(G.currentStatus),hasError:G.currentStatus===n.ERROR,hasFailed:G.currentStatus===n.FAILED,isSuccessful:G.currentStatus===n.SUCCESS,isDoingExpressPayment:G.currentStatus!==n.PRISTINE&&Q}),[G.currentStatus,Q]);Object(s.useEffect)(()=>{const e=Object.keys(G.paymentMethods);if(!K||!e.length)return;const t=[...e,...Object.keys(G.expressPaymentMethods)];if(G.activePaymentMethod&&t.includes(G.activePaymentMethod))return;X().pristine();const r=Object.keys(J).flatMap(e=>J[e])[0]||void 0;if(r){const e=r.tokenId.toString(),t=r.method.gateway,s=`wc-${t}-payment-token`;V.setActivePaymentMethod(t,{token:e,payment_method:t,[s]:e,isSavedToken:!0})}else V.setActivePaymentMethod(Object.keys(G.paymentMethods)[0])},[K,G.paymentMethods,G.expressPaymentMethods,V,X,G.activePaymentMethod,J]),Object(s.useEffect)(()=>{!r||d||l||ee.isFinished||X().processing()},[r,d,l,ee.isFinished,X]),Object(s.useEffect)(()=>{i&&!ee.isSuccessful&&X().pristine()},[i,ee.isSuccessful,X]),Object(s.useEffect)(()=>{d&&ee.isSuccessful&&X().pristine()},[d,ee.isSuccessful,X]),Object(s.useEffect)(()=>{ee.isProcessing&&(S("wc-payment-error",L.PAYMENTS),Object(N.b)(q.current,"payment_processing",{}).then(e=>{let t,r;var s,a,c,n,i,o;if(e.forEach(e=>{E(e)&&(t=e),(O(e)||Y(e))&&(r=e)}),t&&!r)X().success(null===(s=t)||void 0===s||null===(a=s.meta)||void 0===a?void 0:a.paymentMethodData,null===(c=t)||void 0===c||null===(n=c.meta)||void 0===n?void 0:n.billingAddress,null===(i=t)||void 0===i||null===(o=i.meta)||void 0===o?void 0:o.shippingData);else if(r&&Y(r)){var l,u,d,p,m,_;r.message&&r.message.length&&h(r.message,{id:"wc-payment-error",isDismissible:!1,context:(null===(_=r)||void 0===_?void 0:_.messageContext)||L.PAYMENTS}),X().failed(null===(l=r)||void 0===l?void 0:l.message,null===(u=r)||void 0===u||null===(d=u.meta)||void 0===d?void 0:d.paymentMethodData,null===(p=r)||void 0===p||null===(m=p.meta)||void 0===m?void 0:m.billingAddress)}else if(r){var g,b;r.message&&r.message.length&&h(r.message,{id:"wc-payment-error",isDismissible:!1,context:(null===(b=r)||void 0===b?void 0:b.messageContext)||L.PAYMENTS}),X().error(r.message),y(null===(g=r)||void 0===g?void 0:g.validationErrors)}else X().success()}))},[ee.isProcessing,y,X,S,L.PAYMENTS,E,Y,O,h]);const te="object"==typeof G.paymentMethodData&&Object(a.b)(G.paymentMethodData,"token")?G.paymentMethodData.token+"":"",re={setPaymentStatus:X,currentStatus:ee,paymentStatuses:n,paymentMethodData:G.paymentMethodData,errorMessage:G.errorMessage,activePaymentMethod:G.activePaymentMethod,activeSavedToken:te,setActivePaymentMethod:V.setActivePaymentMethod,onPaymentProcessing:F,customerPaymentMethods:J,paymentMethods:G.paymentMethods,expressPaymentMethods:G.expressPaymentMethods,paymentMethodsInitialized:K,expressPaymentMethodsInitialized:W,setExpressPaymentError:Z,isExpressPaymentMethodActive:Q,shouldSavePayment:G.shouldSavePaymentMethod,setShouldSavePayment:V.setShouldSavePayment};return Object(s.createElement)(U.Provider,{value:re},t)}},273:function(e,t,r){"use strict";var s=r(12),a=r.n(s),c=r(0),n=r(42),i=r(4),o=r.n(i),l=r(140);r(274),t.a=e=>{let{className:t,showSpinner:r=!1,children:s,variant:i="contained",...u}=e;const d=o()("wc-block-components-button",t,i,{"wc-block-components-button--loading":r});return Object(c.createElement)(n.a,a()({className:d},u),r&&Object(c.createElement)(l.a,null),Object(c.createElement)("span",{className:"wc-block-components-button__text"},s))}},274:function(e,t){},282:function(e,t){},285:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));var s=r(31),a=r(214);const c=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{paymentMethods:t,expressPaymentMethods:r,paymentMethodsInitialized:c,expressPaymentMethodsInitialized:n}=Object(a.b)(),i=Object(s.a)(t),o=Object(s.a)(r);return{paymentMethods:e?o:i,isInitialized:e?n:c}},n=()=>c(!1),i=()=>c(!0)},287:function(e,t,r){"use strict";var s=r(12),a=r.n(s),c=r(0),n=r(4),i=r.n(n);const o=e=>"wc-block-components-payment-method-icon wc-block-components-payment-method-icon--"+e;var l=e=>{let{id:t,src:r=null,alt:s=""}=e;return r?Object(c.createElement)("img",{className:o(t),src:r,alt:s}):null},u=r(48);const d=[{id:"alipay",alt:"Alipay",src:u.l+"payment-methods/alipay.svg"},{id:"amex",alt:"American Express",src:u.l+"payment-methods/amex.svg"},{id:"bancontact",alt:"Bancontact",src:u.l+"payment-methods/bancontact.svg"},{id:"diners",alt:"Diners Club",src:u.l+"payment-methods/diners.svg"},{id:"discover",alt:"Discover",src:u.l+"payment-methods/discover.svg"},{id:"eps",alt:"EPS",src:u.l+"payment-methods/eps.svg"},{id:"giropay",alt:"Giropay",src:u.l+"payment-methods/giropay.svg"},{id:"ideal",alt:"iDeal",src:u.l+"payment-methods/ideal.svg"},{id:"jcb",alt:"JCB",src:u.l+"payment-methods/jcb.svg"},{id:"laser",alt:"Laser",src:u.l+"payment-methods/laser.svg"},{id:"maestro",alt:"Maestro",src:u.l+"payment-methods/maestro.svg"},{id:"mastercard",alt:"Mastercard",src:u.l+"payment-methods/mastercard.svg"},{id:"multibanco",alt:"Multibanco",src:u.l+"payment-methods/multibanco.svg"},{id:"p24",alt:"Przelewy24",src:u.l+"payment-methods/p24.svg"},{id:"sepa",alt:"Sepa",src:u.l+"payment-methods/sepa.svg"},{id:"sofort",alt:"Sofort",src:u.l+"payment-methods/sofort.svg"},{id:"unionpay",alt:"Union Pay",src:u.l+"payment-methods/unionpay.svg"},{id:"visa",alt:"Visa",src:u.l+"payment-methods/visa.svg"},{id:"wechat",alt:"WeChat",src:u.l+"payment-methods/wechat.svg"}];var p=r(46);r(282),t.a=e=>{let{icons:t=[],align:r="center",className:s}=e;const n=(e=>{const t={};return e.forEach(e=>{let r={};"string"==typeof e&&(r={id:e,alt:e,src:null}),"object"==typeof e&&(r={id:e.id||"",alt:e.alt||"",src:e.src||null}),r.id&&Object(p.a)(r.id)&&!t[r.id]&&(t[r.id]=r)}),Object.values(t)})(t);if(0===n.length)return null;const o=i()("wc-block-components-payment-method-icons",{"wc-block-components-payment-method-icons--align-left":"left"===r,"wc-block-components-payment-method-icons--align-right":"right"===r},s);return Object(c.createElement)("div",{className:o},n.map(e=>{const t={...e,...(r=e.id,d.find(e=>e.id===r)||{})};var r;return Object(c.createElement)(l,a()({key:"payment-method-icon-"+e.id},t))}))}},31:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var s=r(0),a=r(11),c=r.n(a);function n(e){const t=Object(s.useRef)(e);return c()(e,t.current)||(t.current=e),t.current}},391:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));const s=e=>Object.values(e).reduce((e,t)=>(null!==t.icons&&(e=e.concat(t.icons)),e),[])},438:function(e,t,r){"use strict";r.r(t);var s=r(0),a=r(1),c=r(9),n=r(41),i=r(285),o=r(32),l=r(287),u=r(391),d=r(2),p=r(48),m=r(273),_=r(214),g=r(4),y=r.n(g);const h=()=>{const{paymentMethods:e}=Object(i.b)();return Object(s.createElement)(l.a,{icons:Object(u.a)(e)})};t.default=e=>{let{className:t}=e;const{cartTotals:r}=Object(o.a)(),i=Object(d.getSetting)("displayCartPricesIncludingTax",!1)?parseInt(r.total_items,10)+parseInt(r.total_items_tax,10):parseInt(r.total_items,10);return Object(s.createElement)("div",{className:y()(t,"wc-block-mini-cart__footer")},Object(s.createElement)(c.TotalsItem,{className:"wc-block-mini-cart__footer-subtotal",currency:Object(n.getCurrencyFromPriceResponse)(r),label:Object(a.__)("Subtotal","woo-gutenberg-products-block"),value:i,description:Object(a.__)("Shipping, taxes, and discounts calculated at checkout.","woo-gutenberg-products-block")}),Object(s.createElement)("div",{className:"wc-block-mini-cart__footer-actions"},p.c&&Object(s.createElement)(m.a,{className:"wc-block-mini-cart__footer-cart",href:p.c,variant:"outlined"},Object(a.__)("View my cart","woo-gutenberg-products-block")),p.d&&Object(s.createElement)(m.a,{className:"wc-block-mini-cart__footer-checkout",href:p.d},Object(a.__)("Go to checkout","woo-gutenberg-products-block"))),Object(s.createElement)(_.a,null,Object(s.createElement)(h,null)))}},50:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));var s=r(0),a=r(69);const c=Object(s.createContext)({isInitialized:!1,billingAddress:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",email:"",phone:""},shippingAddress:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},setBillingAddress:()=>{},setShippingAddress:()=>{}}),n=()=>Object(s.useContext)(c),i=e=>{let{children:t}=e;const r=Object(a.a)();return Object(s.createElement)(c.Provider,{value:r},t)}},68:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var s=r(6),a=r(7),c=r(0),n=r(11),i=r.n(n),o=r(18),l=r(1),u=r(48),d=r(2);const p=[{destination:{address_1:"",address_2:"",city:"",state:"",postcode:"",country:""},package_id:0,name:Object(l.__)("Shipping","woo-gutenberg-products-block"),items:[{key:"33e75ff09dd601bbe69f351039152189",name:Object(l._x)("Beanie with Logo","example product in Cart Block","woo-gutenberg-products-block"),quantity:2},{key:"6512bd43d9caa6e02c990b0a82652dca",name:Object(l._x)("Beanie","example product in Cart Block","woo-gutenberg-products-block"),quantity:1}],shipping_rates:[{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",name:Object(l.__)("Free shipping","woo-gutenberg-products-block"),description:"",delivery_time:"",price:"000",taxes:"0",rate_id:"free_shipping:1",instance_id:0,meta_data:[],method_id:"flat_rate",selected:!0},{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",name:Object(l.__)("Local pickup","woo-gutenberg-products-block"),description:"",delivery_time:"",price:"200",taxes:"0",rate_id:"local_pickup:1",instance_id:1,meta_data:[],method_id:"local_pickup",selected:!1}]}],m=Object(d.getSetting)("displayCartPricesIncludingTax",!1),_={coupons:[],shipping_rates:Object(d.getSetting)("shippingMethodsExist",!1)?p:[],items:[{key:"1",id:1,quantity:2,name:Object(l.__)("Beanie","woo-gutenberg-products-block"),short_description:Object(l.__)("Warm hat for winter","woo-gutenberg-products-block"),description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",sku:"woo-beanie",permalink:"https://example.org",low_stock_remaining:2,backorders_allowed:!1,show_backorder_badge:!1,sold_individually:!1,images:[{id:10,src:u.l+"previews/beanie.jpg",thumbnail:u.l+"previews/beanie.jpg",srcset:"",sizes:"",name:"",alt:""}],variation:[{attribute:Object(l.__)("Color","woo-gutenberg-products-block"),value:Object(l.__)("Yellow","woo-gutenberg-products-block")},{attribute:Object(l.__)("Size","woo-gutenberg-products-block"),value:Object(l.__)("Small","woo-gutenberg-products-block")}],prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:m?"12000":"10000",regular_price:m?"12000":"10000",sale_price:m?"12000":"10000",raw_prices:{precision:6,price:m?"12000000":"10000000",regular_price:m?"12000000":"10000000",sale_price:m?"12000000":"10000000"}},totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",line_subtotal:"2000",line_subtotal_tax:"400",line_total:"2000",line_total_tax:"400"},extensions:{}},{key:"2",id:2,quantity:1,name:Object(l.__)("Cap","woo-gutenberg-products-block"),short_description:Object(l.__)("Lightweight baseball cap","woo-gutenberg-products-block"),description:"Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.",sku:"woo-cap",permalink:"https://example.org",backorders_allowed:!1,show_backorder_badge:!1,sold_individually:!1,images:[{id:11,src:u.l+"previews/cap.jpg",thumbnail:u.l+"previews/cap.jpg",srcset:"",sizes:"",name:"",alt:""}],variation:[{attribute:Object(l.__)("Color","woo-gutenberg-products-block"),value:Object(l.__)("Orange","woo-gutenberg-products-block")}],prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:m?"2400":"2000",regular_price:m?"2400":"2000",sale_price:m?"2400":"2000",raw_prices:{precision:6,price:m?"24000000":"20000000",regular_price:m?"24000000":"20000000",sale_price:m?"24000000":"20000000"}},totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",line_subtotal:"2000",line_subtotal_tax:"400",line_total:"2000",line_total_tax:"400"},extensions:{}}],cross_sells:[{id:1,name:Object(l.__)("Polo","woo-gutenberg-products-block"),permalink:"https://example.org",prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:m?"24000":"20000",regular_price:m?"24000":"20000",sale_price:m?"12000":"10000",raw_prices:{precision:6,price:m?"24000000":"20000000",regular_price:m?"24000000":"20000000",sale_price:m?"12000000":"10000000"}},images:[{id:17,src:u.l+"previews/polo.jpg",thumbnail:u.l+"previews/polo.jpg",srcset:"",sizes:"",name:"",alt:""}],average_rating:4.5},{id:2,name:Object(l.__)("Long Sleeve Tee","woo-gutenberg-products-block"),permalink:"https://example.org",prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:m?"30000":"25000",regular_price:m?"30000":"25000",sale_price:m?"30000":"25000",raw_prices:{precision:6,price:m?"30000000":"25000000",regular_price:m?"30000000":"25000000",sale_price:m?"30000000":"25000000"}},images:[{id:17,src:u.l+"previews/long-sleeve-tee.jpg",thumbnail:u.l+"previews/long-sleeve-tee.jpg",srcset:"",sizes:"",name:"",alt:""}],average_rating:4},{id:3,name:Object(l.__)("Hoodie with Zipper","woo-gutenberg-products-block"),permalink:"https://example.org",on_sale:!0,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:m?"15000":"12500",regular_price:m?"30000":"25000",sale_price:m?"15000":"12500",raw_prices:{precision:6,price:m?"15000000":"12500000",regular_price:m?"30000000":"25000000",sale_price:m?"15000000":"12500000"}},images:[{id:17,src:u.l+"previews/hoodie-with-zipper.jpg",thumbnail:u.l+"previews/hoodie-with-zipper.jpg",srcset:"",sizes:"",name:"",alt:""}],average_rating:1},{id:4,name:Object(l.__)("Hoodie with Logo","woo-gutenberg-products-block"),permalink:"https://example.org",on_sale:!1,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:m?"4500":"4250",regular_price:m?"4500":"4250",sale_price:m?"4500":"4250",raw_prices:{precision:6,price:m?"45000000":"42500000",regular_price:m?"45000000":"42500000",sale_price:m?"45000000":"42500000"}},images:[{id:17,src:u.l+"previews/hoodie-with-logo.jpg",thumbnail:u.l+"previews/hoodie-with-logo.jpg",srcset:"",sizes:"",name:"",alt:""}],average_rating:5},{id:5,name:Object(l.__)("Hoodie with Pocket","woo-gutenberg-products-block"),permalink:"https://example.org",on_sale:!0,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:m?"3500":"3250",regular_price:m?"4500":"4250",sale_price:m?"3500":"3250",raw_prices:{precision:6,price:m?"35000000":"32500000",regular_price:m?"45000000":"42500000",sale_price:m?"35000000":"32500000"}},images:[{id:17,src:u.l+"previews/hoodie-with-pocket.jpg",thumbnail:u.l+"previews/hoodie-with-pocket.jpg",srcset:"",sizes:"",name:"",alt:""}],average_rating:3.75},{id:6,name:Object(l.__)("T-Shirt","woo-gutenberg-products-block"),permalink:"https://example.org",on_sale:!1,prices:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",price:m?"1800":"1500",regular_price:m?"1800":"1500",sale_price:m?"1800":"1500",raw_prices:{precision:6,price:m?"1800000":"1500000",regular_price:m?"1800000":"1500000",sale_price:m?"1800000":"1500000"}},images:[{id:17,src:u.l+"previews/tshirt.jpg",thumbnail:u.l+"previews/tshirt.jpg",srcset:"",sizes:"",name:"",alt:""}],average_rating:3}],fees:[{id:"fee",name:Object(l.__)("Fee","woo-gutenberg-products-block"),totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",total:"100",total_tax:"20",tax_lines:[{name:Object(l.__)("Sales tax","woo-gutenberg-products-block"),rate:"20%",price:"20"}]}}],items_count:3,items_weight:0,needs_payment:!0,needs_shipping:Object(d.getSetting)("shippingEnabled",!0),has_calculated_shipping:!0,shipping_address:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""},billing_address:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",email:"",phone:""},totals:{currency_code:"USD",currency_symbol:"$",currency_minor_unit:2,currency_decimal_separator:".",currency_thousand_separator:",",currency_prefix:"$",currency_suffix:"",total_items:"4000",total_items_tax:"800",total_fees:"100",total_fees_tax:"20",total_discount:"0",total_discount_tax:"0",total_shipping:"0",total_shipping_tax:"0",total_tax:"820",total_price:"4920",tax_lines:[{name:Object(l.__)("Sales tax","woo-gutenberg-products-block"),rate:"20%",price:"820"}]},errors:[],payment_requirements:["products"],extensions:{}};var g=r(71);const y=()=>{const{shippingRates:e,needsShipping:t,hasCalculatedShipping:r,isLoadingRates:n}=Object(a.useSelect)(e=>{const t=!!e("core/editor"),r=e(s.CART_STORE_KEY);return{shippingRates:t?_.shipping_rates:r.getShippingRates(),needsShipping:t?_.needs_shipping:r.getNeedsShipping(),hasCalculatedShipping:t?_.has_calculated_shipping:r.getHasCalculatedShipping(),isLoadingRates:!t&&r.isCustomerDataUpdating()}}),{isSelectingRate:l,selectShippingRate:u}=Object(g.a)(),d=Object(c.useRef)({});return Object(c.useEffect)(()=>{const t=(e=>Object.fromEntries(e.map(e=>{var t;let{package_id:r,shipping_rates:s}=e;return[r,null===(t=s.find(e=>e.selected))||void 0===t?void 0:t.rate_id]})))(e);Object(o.a)(t)&&!i()(d.current,t)&&(d.current=t)},[e]),{isSelectingRate:l,selectedRates:d.current,selectShippingRate:u,shippingRates:e,needsShipping:t,hasCalculatedShipping:r,isLoadingRates:n}}},69:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var s=r(7),a=r(6);const c=()=>{const{customerData:e,isInitialized:t}=Object(s.useSelect)(e=>{const t=e(a.CART_STORE_KEY);return{customerData:t.getCustomerData(),isInitialized:t.hasFinishedResolution("getCartData")}}),{setShippingAddress:r,setBillingAddress:c}=Object(s.useDispatch)(a.CART_STORE_KEY);return{isInitialized:t,billingAddress:e.billingAddress,shippingAddress:e.shippingAddress,setBillingAddress:c,setShippingAddress:r}}},71:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var s=r(7),a=r(0),c=r(6),n=r(76),i=r(59);const o=()=>{const e=Object(n.a)(),{dispatchCheckoutEvent:t}=Object(i.a)(),{selectShippingRate:r}=Object(s.useDispatch)(c.CART_STORE_KEY);return{selectShippingRate:Object(a.useCallback)((s,a)=>{r(s,a).then(()=>{t("set-selected-shipping-rate",{shippingRateId:s})}).catch(t=>{e(t)})},[r,t,e]),isSelectingRate:Object(s.useSelect)(e=>e(c.CART_STORE_KEY).isShippingRateBeingSelected(),[])}}},76:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var s=r(0);const a=()=>{const[,e]=Object(s.useState)();return Object(s.useCallback)(t=>{e(()=>{throw t})},[])}}}]);