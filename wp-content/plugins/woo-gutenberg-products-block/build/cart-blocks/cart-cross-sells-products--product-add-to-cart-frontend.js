(window.webpackWcBlocksJsonp=window.webpackWcBlocksJsonp||[]).push([[4],{271:function(e,t){},273:function(e,t,r){"use strict";var s=r(12),c=r.n(s),a=r(0),o=r(42),n=r(4),i=r.n(n),l=r(140);r(274),t.a=e=>{let{className:t,showSpinner:r=!1,children:s,variant:n="contained",...u}=e;const d=i()("wc-block-components-button",t,n,{"wc-block-components-button--loading":r});return Object(a.createElement)(o.a,c()({className:d},u),r&&Object(a.createElement)(l.a,null),Object(a.createElement)("span",{className:"wc-block-components-button__text"},s))}},274:function(e,t){},284:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var s=r(0),c=r(206);r(271);const a=e=>{let{errorMessage:t="",propertyName:r="",elementId:a=""}=e;const{getValidationError:o,getValidationErrorId:n}=Object(c.b)();if(!t||"string"!=typeof t){const e=o(r)||{};if(!e.message||e.hidden)return null;t=e.message}return Object(s.createElement)("div",{className:"wc-block-components-validation-error",role:"alert"},Object(s.createElement)("p",{id:n(a)},t))}},358:function(e,t,r){"use strict";var s=r(0),c=r(4),a=r.n(c),o=r(1),n=r(31);const i=e=>e.is_purchasable||!1;var l=r(7);const u={PRISTINE:"pristine",IDLE:"idle",DISABLED:"disabled",PROCESSING:"processing",BEFORE_PROCESSING:"before_processing",AFTER_PROCESSING:"after_processing"},d={status:u.PRISTINE,hasError:!1,quantity:0,processingResponse:null,requestParams:{}},b={SET_PRISTINE:"set_pristine",SET_IDLE:"set_idle",SET_DISABLED:"set_disabled",SET_PROCESSING:"set_processing",SET_BEFORE_PROCESSING:"set_before_processing",SET_AFTER_PROCESSING:"set_after_processing",SET_PROCESSING_RESPONSE:"set_processing_response",SET_HAS_ERROR:"set_has_error",SET_NO_ERROR:"set_no_error",SET_QUANTITY:"set_quantity",SET_REQUEST_PARAMS:"set_request_params"},{SET_PRISTINE:E,SET_IDLE:m,SET_DISABLED:p,SET_PROCESSING:O,SET_BEFORE_PROCESSING:_,SET_AFTER_PROCESSING:h,SET_PROCESSING_RESPONSE:j,SET_HAS_ERROR:g,SET_NO_ERROR:S,SET_QUANTITY:f,SET_REQUEST_PARAMS:v}=b,R=()=>({type:m}),P=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=e?g:S;return{type:t}},{SET_PRISTINE:T,SET_IDLE:y,SET_DISABLED:N,SET_PROCESSING:A,SET_BEFORE_PROCESSING:I,SET_AFTER_PROCESSING:C,SET_PROCESSING_RESPONSE:k,SET_HAS_ERROR:w,SET_NO_ERROR:D,SET_QUANTITY:F,SET_REQUEST_PARAMS:q}=b,{PRISTINE:x,IDLE:B,DISABLED:G,PROCESSING:Q,BEFORE_PROCESSING:L,AFTER_PROCESSING:M}=u,W=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,{quantity:r,type:s,data:c}=arguments.length>1?arguments[1]:void 0;switch(s){case T:e=d;break;case y:e=t.status!==B?{...t,status:B}:t;break;case N:e=t.status!==G?{...t,status:G}:t;break;case F:e=r!==t.quantity?{...t,quantity:r}:t;break;case q:e={...t,requestParams:{...t.requestParams,...c}};break;case k:e={...t,processingResponse:c};break;case A:e=t.status!==Q?{...t,status:Q,hasError:!1}:t,e=!1===e.hasError?e:{...e,hasError:!1};break;case I:e=t.status!==L?{...t,status:L,hasError:!1}:t;break;case C:e=t.status!==M?{...t,status:M}:t;break;case w:e=t.hasError?t:{...t,hasError:!0},e=t.status===Q||t.status===L?{...e,status:B}:e;break;case D:e=t.hasError?{...t,hasError:!1}:t}return e!==t&&s!==T&&e.status===x&&(e.status=B),e};var H=r(99),V=r(211);const U=e=>({onAddToCartAfterProcessingWithSuccess:Object(V.a)("add_to_cart_after_processing_with_success",e),onAddToCartProcessingWithError:Object(V.a)("add_to_cart_after_processing_with_error",e),onAddToCartBeforeProcessing:Object(V.a)("add_to_cart_before_processing",e)});var Y=r(213),J=r(206),K=r(30),z=r(84);const X=Object(s.createContext)({product:{},productType:"simple",productIsPurchasable:!0,productHasOptions:!1,supportsFormElements:!0,showFormElements:!1,quantity:0,minQuantity:1,maxQuantity:99,requestParams:{},isIdle:!1,isDisabled:!1,isProcessing:!1,isBeforeProcessing:!1,isAfterProcessing:!1,hasError:!1,eventRegistration:{onAddToCartAfterProcessingWithSuccess:e=>{},onAddToCartAfterProcessingWithError:e=>{},onAddToCartBeforeProcessing:e=>{}},dispatchActions:{resetForm:()=>{},submitForm:()=>{},setQuantity:e=>{},setHasError:e=>{},setAfterProcessing:e=>{},setRequestParams:e=>{}}}),Z=()=>Object(s.useContext)(X),$=e=>{var t,r,c,a;let{children:b,product:m,showFormElements:g}=e;const[S,T]=Object(s.useReducer)(W,d),[y,N]=Object(s.useReducer)(H.b,{}),A=Object(n.a)(y),{createErrorNotice:I}=Object(l.useDispatch)("core/notices"),{setValidationErrors:C}=Object(J.b)(),{isSuccessResponse:k,isErrorResponse:w,isFailResponse:D}=Object(K.d)(),F=Object(s.useMemo)(()=>({onAddToCartAfterProcessingWithSuccess:U(N).onAddToCartAfterProcessingWithSuccess,onAddToCartAfterProcessingWithError:U(N).onAddToCartAfterProcessingWithError,onAddToCartBeforeProcessing:U(N).onAddToCartBeforeProcessing}),[N]),q=Object(s.useMemo)(()=>({resetForm:()=>{T({type:E})},submitForm:()=>{T({type:_})},setQuantity:e=>{T((e=>({type:f,quantity:e}))(e))},setHasError:e=>{T(P(e))},setRequestParams:e=>{T((e=>({type:v,data:e}))(e))},setAfterProcessing:e=>{T({type:j,data:e}),T({type:h})}}),[]);Object(s.useEffect)(()=>{const e=S.status,t=!m.id||!i(m);e!==u.DISABLED||t?e!==u.DISABLED&&t&&T({type:p}):T(R())},[S.status,m,T]),Object(s.useEffect)(()=>{S.status===u.BEFORE_PROCESSING&&(Object(z.b)("error","wc/add-to-cart"),Object(Y.a)(A,"add_to_cart_before_processing",{}).then(e=>{!0!==e?(Array.isArray(e)&&e.forEach(e=>{let{errorMessage:t,validationErrors:r}=e;t&&I(t,{context:"wc/add-to-cart"}),r&&C(r)}),T(R())):T({type:O})}))},[S.status,C,I,T,A,null==m?void 0:m.id]),Object(s.useEffect)(()=>{if(S.status===u.AFTER_PROCESSING){const e={processingResponse:S.processingResponse},t=e=>{let t=!1;return e.forEach(e=>{const{message:r,messageContext:s}=e;(w(e)||D(e))&&r&&(t=!0,I(r,s?{context:s}:void 0))}),t};if(S.hasError)return void Object(Y.b)(A,"add_to_cart_after_processing_with_error",e).then(r=>{if(!t(r)){var s;const t=(null===(s=e.processingResponse)||void 0===s?void 0:s.message)||Object(o.__)("Something went wrong. Please contact us for assistance.","woo-gutenberg-products-block");I(t,{id:"add-to-cart",context:"woocommerce/single-product/"+((null==m?void 0:m.id)||0)})}T(R())});Object(Y.b)(A,"add_to_cart_after_processing_with_success",e).then(e=>{t(e)?T(P(!0)):T(R())})}},[S.status,S.hasError,S.processingResponse,q,I,w,D,k,A,null==m?void 0:m.id]);const x=(e=>["simple","variable"].includes(e.type||"simple"))(m),B={product:m,productType:m.type||"simple",productIsPurchasable:i(m),productHasOptions:m.has_options||!1,supportsFormElements:x,showFormElements:g&&x,quantity:S.quantity||(null==m||null===(t=m.add_to_cart)||void 0===t?void 0:t.minimum)||1,minQuantity:(null==m||null===(r=m.add_to_cart)||void 0===r?void 0:r.minimum)||1,maxQuantity:(null==m||null===(c=m.add_to_cart)||void 0===c?void 0:c.maximum)||99,multipleOf:(null==m||null===(a=m.add_to_cart)||void 0===a?void 0:a.multiple_of)||1,requestParams:S.requestParams,isIdle:S.status===u.IDLE,isDisabled:S.status===u.DISABLED,isProcessing:S.status===u.PROCESSING,isBeforeProcessing:S.status===u.BEFORE_PROCESSING,isAfterProcessing:S.status===u.AFTER_PROCESSING,hasError:S.hasError,eventRegistration:F,dispatchActions:q};return Object(s.createElement)(X.Provider,{value:B},b)};var ee=r(28),te=r.n(ee),re=r(17),se=r(72),ce=r(32),ae=()=>{const{dispatchActions:e,product:t,quantity:r,eventRegistration:c,hasError:a,isProcessing:n,requestParams:i}=Z(),{hasValidationErrors:u,showAllValidationErrors:d}=Object(J.b)(),{createErrorNotice:b,removeNotice:E}=Object(l.useDispatch)("core/notices"),{receiveCart:m}=Object(ce.a)(),[p,O]=Object(s.useState)(!1),_=!a&&n,h=Object(s.useCallback)(()=>!u||(d(),{type:"error"}),[u,d]);Object(s.useEffect)(()=>{const e=c.onAddToCartBeforeProcessing(h,0);return()=>{e()}},[c,h]);const j=Object(s.useCallback)(()=>{O(!0),E("add-to-cart","woocommerce/single-product/"+((null==t?void 0:t.id)||0));const s={id:t.id||0,quantity:r,...i};te()({path:"/wc/store/v1/cart/add-item",method:"POST",data:s,cache:"no-store",parse:!1}).then(r=>{te.a.setNonce(r.headers),r.json().then((function(s){r.ok?m(s):(s.body&&s.body.message?b(Object(re.decodeEntities)(s.body.message),{id:"add-to-cart",context:"woocommerce/single-product/"+((null==t?void 0:t.id)||0)}):b(Object(o.__)("Something went wrong. Please contact us for assistance.","woo-gutenberg-products-block"),{id:"add-to-cart",context:"woocommerce/single-product/"+((null==t?void 0:t.id)||0)}),e.setHasError()),Object(se.c)({preserveCartData:!0}),e.setAfterProcessing(s),O(!1)}))}).catch(t=>{t.json().then((function(t){var r;null!==(r=t.data)&&void 0!==r&&r.cart&&m(t.data.cart),e.setHasError(),e.setAfterProcessing(t),O(!1)}))})},[t,b,E,m,e,r,i]);return Object(s.useEffect)(()=>{_&&!p&&j()},[_,j,p]),null};const oe=e=>{let{children:t,product:r,showFormElements:c}=e;return Object(s.createElement)(J.a,null,Object(s.createElement)($,{product:r,showFormElements:c},t,Object(s.createElement)(ae,null)))};var ne=r(44),ie=r(3),le=r(124),ue=(r(374),r(273)),de=r(110),be=r(375),Ee=r(59),me=r(368);const pe=e=>{let{className:t,href:r,text:c,onClick:a}=e;return Object(s.createElement)(ue.a,{className:t,href:r,onClick:a,rel:"nofollow"},c)},Oe=e=>{let{className:t,quantityInCart:r,isProcessing:c,isDisabled:a,isDone:n,onClick:i}=e;return Object(s.createElement)(ue.a,{className:t,disabled:a,showSpinner:c,onClick:i},n&&r>0?Object(o.sprintf)(
/* translators: %s number of products in cart. */
Object(o._n)("%d in cart","%d in cart",r,"woo-gutenberg-products-block"),r):Object(o.__)("Add to cart","woo-gutenberg-products-block"),!!n&&Object(s.createElement)(de.a,{icon:be.a}))};var _e=()=>{const{showFormElements:e,productIsPurchasable:t,productHasOptions:r,product:c,productType:a,isDisabled:n,isProcessing:i,eventRegistration:l,hasError:u,dispatchActions:d}=Z(),{parentName:b}=Object(ne.useInnerBlockLayoutContext)(),{dispatchStoreEvent:E}=Object(Ee.a)(),{cartQuantity:m}=Object(me.a)(c.id||0),[p,O]=Object(s.useState)(!1),_=c.add_to_cart||{url:"",text:""};return Object(s.useEffect)(()=>{const e=l.onAddToCartAfterProcessingWithSuccess(()=>(u||O(!0),!0),0);return()=>{e()}},[l,u]),(e||!r&&"simple"===a)&&t?Object(s.createElement)(Oe,{className:"wc-block-components-product-add-to-cart-button",quantityInCart:m,isDisabled:n,isProcessing:i,isDone:p,onClick:()=>{d.submitForm("woocommerce/single-product/"+((null==c?void 0:c.id)||0)),E("cart-add-item",{product:c,listName:b})}}):Object(s.createElement)(pe,{className:"wc-block-components-product-add-to-cart-button",href:_.url,text:_.text||Object(o.__)("View Product","woo-gutenberg-products-block"),onClick:()=>{E("product-view-link",{product:c,listName:b})}})},he=r(51),je=e=>{let{disabled:t,min:r,max:c,step:a=1,value:o,onChange:n}=e;const i=void 0!==c,l=Object(he.a)(e=>{let t=e;i&&(t=Math.min(t,Math.floor(c/a)*a)),t=Math.max(t,Math.ceil(r/a)*a),t=Math.floor(t/a)*a,t!==e&&n(t)},300);return Object(s.createElement)("input",{className:"wc-block-components-product-add-to-cart-quantity",type:"number",value:o,min:r,max:c,step:a,hidden:1===c,disabled:t,onChange:e=>{n(e.target.value),l(e.target.value)}})},ge=e=>{let{reason:t=Object(o.__)("Sorry, this product cannot be purchased.","woo-gutenberg-products-block")}=e;return Object(s.createElement)("div",{className:"wc-block-components-product-add-to-cart-unavailable"},t)},Se=()=>{const{product:e,quantity:t,minQuantity:r,maxQuantity:c,multipleOf:a,dispatchActions:n,isDisabled:i}=Z();return e.id&&!e.is_purchasable?Object(s.createElement)(ge,null):e.id&&!e.is_in_stock?Object(s.createElement)(ge,{reason:Object(o.__)("This product is currently out of stock and cannot be purchased.","woo-gutenberg-products-block")}):Object(s.createElement)(s.Fragment,null,Object(s.createElement)(je,{value:t,min:r,max:c,step:a,disabled:i,onChange:n.setQuantity}),Object(s.createElement)(_e,null))},fe=(r(376),r(440)),ve=r(5),Re=r(284);const Pe={value:"",label:Object(o.__)("Select an option","woo-gutenberg-products-block")};var Te=e=>{let{attributeName:t,options:r=[],value:c="",onChange:n=(()=>{}),errorMessage:i=Object(o.__)("Please select a value.","woo-gutenberg-products-block")}=e;const{getValidationError:l,setValidationErrors:u,clearValidationError:d}=Object(J.b)(),b=t,E=l(b)||{};return Object(ve.useEffect)(()=>{c?d(b):u({[b]:{message:i,hidden:!0}})},[c,b,i,d,u]),Object(ve.useEffect)(()=>()=>{d(b)},[b,d]),Object(s.createElement)("div",{className:"wc-block-components-product-add-to-cart-attribute-picker__container"},Object(s.createElement)(fe.a,{label:Object(re.decodeEntities)(t),value:c||"",options:[Pe,...r],onChange:n,required:!0,className:a()("wc-block-components-product-add-to-cart-attribute-picker__select",{"has-error":E.message&&!E.hidden})}),Object(s.createElement)(Re.a,{propertyName:b,elementId:b}))},ye=r(18);const Ne=(e,t,r)=>{const s=Object.values(t).map(e=>{let{id:t}=e;return t});if(Object.values(r).every(e=>""===e))return s;const c=Object.keys(e);return s.filter(e=>c.every(s=>{const c=r[s]||"",a=t["id:"+e].attributes[s];return""===c||null===a||a===c}))};var Ae=e=>{let{attributes:t,variationAttributes:r,setRequestParams:c}=e;const a=Object(n.a)(t),o=Object(n.a)(r),[i,l]=Object(s.useState)(0),[u,d]=Object(s.useState)({}),[b,E]=Object(s.useState)(!1),m=Object(s.useMemo)(()=>((e,t,r)=>{const s={},c=Object.keys(e),a=Object.values(r).filter(Boolean).length>0;return c.forEach(c=>{const o=e[c],n={...r,[c]:null},i=a?Ne(e,t,n):null,l=null!==i?i.map(e=>t["id:"+e].attributes[c]):null;s[c]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object.values(e).map(e=>{let{name:r,slug:s}=e;return null===t||t.includes(null)||t.includes(s)?{value:s,label:Object(re.decodeEntities)(r)}:null}).filter(Boolean)}(o.terms,l)}),s})(a,o,u),[u,a,o]);return Object(s.useEffect)(()=>{if(!b){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Object(ye.a)(e))return{};const t=Object.keys(e),r={};return 0===t.length||t.forEach(t=>{const s=e[t],c=s.terms.filter(e=>e.default);var a;c.length>0&&(r[s.name]=null===(a=c[0])||void 0===a?void 0:a.slug)}),r}(t);e&&d({...e}),E(!0)}},[u,t,b]),Object(s.useEffect)(()=>{Object.values(u).filter(e=>""!==e).length===Object.keys(a).length?l(((e,t,r)=>Ne(e,t,r)[0]||0)(a,o,u)):i>0&&l(0)},[u,i,a,o]),Object(s.useEffect)(()=>{c({id:i,variation:Object.keys(u).map(e=>({attribute:e,value:u[e]}))})},[c,i,u]),Object(s.createElement)("div",{className:"wc-block-components-product-add-to-cart-attribute-picker"},Object.keys(a).map(e=>Object(s.createElement)(Te,{key:e,attributeName:e,options:m[e],value:u[e],onChange:t=>{d({...u,[e]:t})}})))},Ie=e=>{let{product:t,dispatchers:r}=e;const c=(e=>e?Object(ie.keyBy)(Object.values(e).filter(e=>{let{has_variations:t}=e;return t}),"name"):{})(t.attributes),a=(e=>{if(!e)return{};const t={};return e.forEach(e=>{let{id:r,attributes:s}=e;t["id:"+r]={id:r,attributes:s.reduce((e,t)=>{let{name:r,value:s}=t;return e[r]=s,e},{})}}),t})(t.variations);return 0===Object.keys(c).length||0===a.length?null:Object(s.createElement)(Ae,{attributes:c,variationAttributes:a,setRequestParams:r.setRequestParams})},Ce=()=>{const{product:e,quantity:t,minQuantity:r,maxQuantity:c,multipleOf:a,dispatchActions:n,isDisabled:i}=Z();return e.id&&!e.is_purchasable?Object(s.createElement)(ge,null):e.id&&!e.is_in_stock?Object(s.createElement)(ge,{reason:Object(o.__)("This product is currently out of stock and cannot be purchased.","woo-gutenberg-products-block")}):Object(s.createElement)(s.Fragment,null,Object(s.createElement)(Ie,{product:e,dispatchers:n}),Object(s.createElement)(je,{value:t,min:r,max:c,step:a,disabled:i,onChange:n.setQuantity}),Object(s.createElement)(_e,null))},ke=()=>Object(s.createElement)(_e,null),we=r(348),De=()=>Object(s.createElement)(we.a,{className:"wc-block-components-product-add-to-cart-group-list"},"This is a placeholder for the grouped products form element."),Fe=()=>Object(s.createElement)(De,null);const qe=()=>{const{showFormElements:e,productType:t}=Z();return e?"variable"===t?Object(s.createElement)(Ce,null):"grouped"===t?Object(s.createElement)(Fe,null):"external"===t?Object(s.createElement)(ke,null):"simple"===t||"variation"===t?Object(s.createElement)(Se,null):null:Object(s.createElement)(_e,null)};t.a=Object(le.withProductDataContext)(e=>{let{className:t,showFormElements:r}=e;const{product:c}=Object(ne.useProductDataContext)(),o=a()(t,"wc-block-components-product-add-to-cart",{"wc-block-components-product-add-to-cart--placeholder":Object(ie.isEmpty)(c)});return Object(s.createElement)(oe,{product:c,showFormElements:r},Object(s.createElement)("div",{className:o},Object(s.createElement)(qe,null)))})},368:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var s=r(0),c=r(7),a=r(6),o=r(17),n=r(32);const i=(e,t)=>{const r=e.find(e=>{let{id:r}=e;return r===t});return r?r.quantity:0},l=e=>{const{addItemToCart:t}=Object(c.useDispatch)(a.CART_STORE_KEY),{cartItems:r,cartIsLoading:l}=Object(n.a)(),{createErrorNotice:u,removeNotice:d}=Object(c.useDispatch)("core/notices"),[b,E]=Object(s.useState)(!1),m=Object(s.useRef)(i(r,e));return Object(s.useEffect)(()=>{const t=i(r,e);t!==m.current&&(m.current=t)},[r,e]),{cartQuantity:Number.isFinite(m.current)?m.current:0,addingToCart:b,cartIsLoading:l,addToCart:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return E(!0),t(e,r).then(()=>{d("add-to-cart")}).catch(e=>{u(Object(o.decodeEntities)(e.message),{id:"add-to-cart",context:"wc/all-products",isDismissible:!0})}).finally(()=>{E(!1)})}}}},374:function(e,t){},376:function(e,t){}}]);